var XC=n=>{throw TypeError(n)};var uw=(n,e,t)=>e.has(n)||XC("Cannot "+t);var ze=(n,e,t)=>(uw(n,e,"read from private field"),t?t.call(n):e.get(n)),pn=(n,e,t)=>e.has(n)?XC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),$t=(n,e,t,r)=>(uw(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),$r=(n,e,t)=>(uw(n,e,"access private method"),t);var Kg=(n,e,t,r)=>({set _(i){$t(n,e,i,t)},get _(){return ze(n,e,r)}});function l6(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function b2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sR={exports:{}},Xy={},oR={exports:{}},Jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm=Symbol.for("react.element"),c6=Symbol.for("react.portal"),u6=Symbol.for("react.fragment"),d6=Symbol.for("react.strict_mode"),f6=Symbol.for("react.profiler"),h6=Symbol.for("react.provider"),p6=Symbol.for("react.context"),m6=Symbol.for("react.forward_ref"),g6=Symbol.for("react.suspense"),v6=Symbol.for("react.memo"),y6=Symbol.for("react.lazy"),YC=Symbol.iterator;function x6(n){return n===null||typeof n!="object"?null:(n=YC&&n[YC]||n["@@iterator"],typeof n=="function"?n:null)}var aR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lR=Object.assign,cR={};function bf(n,e,t){this.props=n,this.context=e,this.refs=cR,this.updater=t||aR}bf.prototype.isReactComponent={};bf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};bf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function uR(){}uR.prototype=bf.prototype;function S2(n,e,t){this.props=n,this.context=e,this.refs=cR,this.updater=t||aR}var M2=S2.prototype=new uR;M2.constructor=S2;lR(M2,bf.prototype);M2.isPureReactComponent=!0;var KC=Array.isArray,dR=Object.prototype.hasOwnProperty,E2={current:null},fR={key:!0,ref:!0,__self:!0,__source:!0};function hR(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dR.call(e,r)&&!fR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sm,type:n,key:s,ref:o,props:i,_owner:E2.current}}function w6(n,e){return{$$typeof:Sm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function T2(n){return typeof n=="object"&&n!==null&&n.$$typeof===Sm}function _6(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var QC=/\/+/g;function dw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?_6(""+n.key):e.toString(36)}function m0(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Sm:case c6:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+dw(o,0):r,KC(i)?(t="",n!=null&&(t=n.replace(QC,"$&/")+"/"),m0(i,e,t,"",function(c){return c})):i!=null&&(T2(i)&&(i=w6(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(QC,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",KC(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+dw(s,a);o+=m0(s,e,t,l,i)}else if(l=x6(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+dw(s,a++),o+=m0(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qg(n,e,t){if(n==null)return n;var r=[],i=0;return m0(n,r,"","",function(s){return e.call(t,s,i++)}),r}function b6(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var _i={current:null},g0={transition:null},S6={ReactCurrentDispatcher:_i,ReactCurrentBatchConfig:g0,ReactCurrentOwner:E2};function pR(){throw Error("act(...) is not supported in production builds of React.")}Jt.Children={map:Qg,forEach:function(n,e,t){Qg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Qg(n,function(){e++}),e},toArray:function(n){return Qg(n,function(e){return e})||[]},only:function(n){if(!T2(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Jt.Component=bf;Jt.Fragment=u6;Jt.Profiler=f6;Jt.PureComponent=S2;Jt.StrictMode=d6;Jt.Suspense=g6;Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S6;Jt.act=pR;Jt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=lR({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=E2.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)dR.call(e,l)&&!fR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Sm,type:n.type,key:i,ref:s,props:r,_owner:o}};Jt.createContext=function(n){return n={$$typeof:p6,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:h6,_context:n},n.Consumer=n};Jt.createElement=hR;Jt.createFactory=function(n){var e=hR.bind(null,n);return e.type=n,e};Jt.createRef=function(){return{current:null}};Jt.forwardRef=function(n){return{$$typeof:m6,render:n}};Jt.isValidElement=T2;Jt.lazy=function(n){return{$$typeof:y6,_payload:{_status:-1,_result:n},_init:b6}};Jt.memo=function(n,e){return{$$typeof:v6,type:n,compare:e===void 0?null:e}};Jt.startTransition=function(n){var e=g0.transition;g0.transition={};try{n()}finally{g0.transition=e}};Jt.unstable_act=pR;Jt.useCallback=function(n,e){return _i.current.useCallback(n,e)};Jt.useContext=function(n){return _i.current.useContext(n)};Jt.useDebugValue=function(){};Jt.useDeferredValue=function(n){return _i.current.useDeferredValue(n)};Jt.useEffect=function(n,e){return _i.current.useEffect(n,e)};Jt.useId=function(){return _i.current.useId()};Jt.useImperativeHandle=function(n,e,t){return _i.current.useImperativeHandle(n,e,t)};Jt.useInsertionEffect=function(n,e){return _i.current.useInsertionEffect(n,e)};Jt.useLayoutEffect=function(n,e){return _i.current.useLayoutEffect(n,e)};Jt.useMemo=function(n,e){return _i.current.useMemo(n,e)};Jt.useReducer=function(n,e,t){return _i.current.useReducer(n,e,t)};Jt.useRef=function(n){return _i.current.useRef(n)};Jt.useState=function(n){return _i.current.useState(n)};Jt.useSyncExternalStore=function(n,e,t){return _i.current.useSyncExternalStore(n,e,t)};Jt.useTransition=function(){return _i.current.useTransition()};Jt.version="18.3.1";oR.exports=Jt;var N=oR.exports;const Ee=b2(N),mR=l6({__proto__:null,default:Ee},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M6=N,E6=Symbol.for("react.element"),T6=Symbol.for("react.fragment"),C6=Object.prototype.hasOwnProperty,A6=M6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P6={key:!0,ref:!0,__self:!0,__source:!0};function gR(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)C6.call(e,r)&&!P6.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:E6,type:n,key:s,ref:o,props:i,_owner:A6.current}}Xy.Fragment=T6;Xy.jsx=gR;Xy.jsxs=gR;sR.exports=Xy;var m=sR.exports,vR={exports:{}},is={},yR={exports:{}},xR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,W){var G=D.length;D.push(W);e:for(;0<G;){var J=G-1>>>1,Z=D[J];if(0<i(Z,W))D[J]=W,D[G]=Z,G=J;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var W=D[0],G=D.pop();if(G!==W){D[0]=G;e:for(var J=0,Z=D.length,oe=Z>>>1;J<oe;){var we=2*(J+1)-1,Ae=D[we],re=we+1,Ve=D[re];if(0>i(Ae,G))re<Z&&0>i(Ve,Ae)?(D[J]=Ve,D[re]=G,J=re):(D[J]=Ae,D[we]=G,J=we);else if(re<Z&&0>i(Ve,G))D[J]=Ve,D[re]=G,J=re;else break e}}return W}function i(D,W){var G=D.sortIndex-W.sortIndex;return G!==0?G:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var W=t(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=D)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(c)}}function E(D){if(y=!1,S(D),!v)if(t(l)!==null)v=!0,K(C);else{var W=t(c);W!==null&&le(E,W.startTime-D)}}function C(D,W){v=!1,y&&(y=!1,b(T),T=-1),g=!0;var G=p;try{for(S(W),h=t(l);h!==null&&(!(h.expirationTime>W)||D&&!U());){var J=h.callback;if(typeof J=="function"){h.callback=null,p=h.priorityLevel;var Z=J(h.expirationTime<=W);W=n.unstable_now(),typeof Z=="function"?h.callback=Z:h===t(l)&&r(l),S(W)}else r(l);h=t(l)}if(h!==null)var oe=!0;else{var we=t(c);we!==null&&le(E,we.startTime-W),oe=!1}return oe}finally{h=null,p=G,g=!1}}var P=!1,I=null,T=-1,k=5,O=-1;function U(){return!(n.unstable_now()-O<k)}function H(){if(I!==null){var D=n.unstable_now();O=D;var W=!0;try{W=I(!0,D)}finally{W?V():(P=!1,I=null)}}else P=!1}var V;if(typeof _=="function")V=function(){_(H)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ee=z.port2;z.port1.onmessage=H,V=function(){ee.postMessage(null)}}else V=function(){x(H,0)};function K(D){I=D,P||(P=!0,V())}function le(D,W){T=x(function(){D(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,K(C))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var G=p;p=W;try{return D()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=p;p=D;try{return W()}finally{p=G}},n.unstable_scheduleCallback=function(D,W,G){var J=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=G+Z,D={id:d++,callback:W,priorityLevel:D,startTime:G,expirationTime:Z,sortIndex:-1},G>J?(D.sortIndex=G,e(c,D),t(l)===null&&D===t(c)&&(y?(b(T),T=-1):y=!0,le(E,G-J))):(D.sortIndex=Z,e(l,D),v||g||(v=!0,K(C))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var W=p;return function(){var G=p;p=W;try{return D.apply(this,arguments)}finally{p=G}}}})(xR);yR.exports=xR;var N6=yR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k6=N,ts=N6;function Ze(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wR=new Set,mp={};function du(n,e){ef(n,e),ef(n+"Capture",e)}function ef(n,e){for(mp[n]=e,n=0;n<e.length;n++)wR.add(e[n])}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nb=Object.prototype.hasOwnProperty,R6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JC={},eA={};function L6(n){return nb.call(eA,n)?!0:nb.call(JC,n)?!1:R6.test(n)?eA[n]=!0:(JC[n]=!0,!1)}function I6(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function D6(n,e,t,r){if(e===null||typeof e>"u"||I6(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bi(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ur[n]=new bi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ur[e]=new bi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ur[n]=new bi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ur[n]=new bi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ur[n]=new bi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ur[n]=new bi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ur[n]=new bi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ur[n]=new bi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ur[n]=new bi(n,5,!1,n.toLowerCase(),null,!1,!1)});var C2=/[\-:]([a-z])/g;function A2(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(C2,A2);Ur[e]=new bi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(C2,A2);Ur[e]=new bi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(C2,A2);Ur[e]=new bi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ur[n]=new bi(n,1,!1,n.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ur[n]=new bi(n,1,!1,n.toLowerCase(),null,!0,!0)});function P2(n,e,t,r){var i=Ur.hasOwnProperty(e)?Ur[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(D6(e,t,i,r)&&(t=null),r||i===null?L6(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ma=k6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jg=Symbol.for("react.element"),fd=Symbol.for("react.portal"),hd=Symbol.for("react.fragment"),N2=Symbol.for("react.strict_mode"),rb=Symbol.for("react.profiler"),_R=Symbol.for("react.provider"),bR=Symbol.for("react.context"),k2=Symbol.for("react.forward_ref"),ib=Symbol.for("react.suspense"),sb=Symbol.for("react.suspense_list"),R2=Symbol.for("react.memo"),qa=Symbol.for("react.lazy"),SR=Symbol.for("react.offscreen"),tA=Symbol.iterator;function sh(n){return n===null||typeof n!="object"?null:(n=tA&&n[tA]||n["@@iterator"],typeof n=="function"?n:null)}var Gn=Object.assign,fw;function Fh(n){if(fw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);fw=e&&e[1]||""}return`
`+fw+n}var hw=!1;function pw(n,e){if(!n||hw)return"";hw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{hw=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Fh(n):""}function O6(n){switch(n.tag){case 5:return Fh(n.type);case 16:return Fh("Lazy");case 13:return Fh("Suspense");case 19:return Fh("SuspenseList");case 0:case 2:case 15:return n=pw(n.type,!1),n;case 11:return n=pw(n.type.render,!1),n;case 1:return n=pw(n.type,!0),n;default:return""}}function ob(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case hd:return"Fragment";case fd:return"Portal";case rb:return"Profiler";case N2:return"StrictMode";case ib:return"Suspense";case sb:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case bR:return(n.displayName||"Context")+".Consumer";case _R:return(n._context.displayName||"Context")+".Provider";case k2:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R2:return e=n.displayName||null,e!==null?e:ob(n.type)||"Memo";case qa:e=n._payload,n=n._init;try{return ob(n(e))}catch{}}return null}function j6(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ob(e);case 8:return e===N2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function MR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function F6(n){var e=MR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ev(n){n._valueTracker||(n._valueTracker=F6(n))}function ER(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=MR(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function W0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ab(n,e){var t=e.checked;return Gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function nA(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=bl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TR(n,e){e=e.checked,e!=null&&P2(n,"checked",e,!1)}function lb(n,e){TR(n,e);var t=bl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?cb(n,e.type,t):e.hasOwnProperty("defaultValue")&&cb(n,e.type,bl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function rA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function cb(n,e,t){(e!=="number"||W0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var zh=Array.isArray;function Dd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+bl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function ub(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ze(91));return Gn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function iA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ze(92));if(zh(t)){if(1<t.length)throw Error(Ze(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:bl(t)}}function CR(n,e){var t=bl(e.value),r=bl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function sA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function AR(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function db(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?AR(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var tv,PR=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(tv=tv||document.createElement("div"),tv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function gp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Zh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z6=["Webkit","ms","Moz","O"];Object.keys(Zh).forEach(function(n){z6.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Zh[e]=Zh[n]})});function NR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Zh.hasOwnProperty(n)&&Zh[n]?(""+e).trim():e+"px"}function kR(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=NR(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var B6=Gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fb(n,e){if(e){if(B6[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ze(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ze(62))}}function hb(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pb=null;function L2(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var mb=null,Od=null,jd=null;function oA(n){if(n=Tm(n)){if(typeof mb!="function")throw Error(Ze(280));var e=n.stateNode;e&&(e=ex(e),mb(n.stateNode,n.type,e))}}function RR(n){Od?jd?jd.push(n):jd=[n]:Od=n}function LR(){if(Od){var n=Od,e=jd;if(jd=Od=null,oA(n),e)for(n=0;n<e.length;n++)oA(e[n])}}function IR(n,e){return n(e)}function DR(){}var mw=!1;function OR(n,e,t){if(mw)return n(e,t);mw=!0;try{return IR(n,e,t)}finally{mw=!1,(Od!==null||jd!==null)&&(DR(),LR())}}function vp(n,e){var t=n.stateNode;if(t===null)return null;var r=ex(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ze(231,e,typeof t));return t}var gb=!1;if(fa)try{var oh={};Object.defineProperty(oh,"passive",{get:function(){gb=!0}}),window.addEventListener("test",oh,oh),window.removeEventListener("test",oh,oh)}catch{gb=!1}function U6(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var qh=!1,H0=null,G0=!1,vb=null,V6={onError:function(n){qh=!0,H0=n}};function W6(n,e,t,r,i,s,o,a,l){qh=!1,H0=null,U6.apply(V6,arguments)}function H6(n,e,t,r,i,s,o,a,l){if(W6.apply(this,arguments),qh){if(qh){var c=H0;qh=!1,H0=null}else throw Error(Ze(198));G0||(G0=!0,vb=c)}}function fu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function jR(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function aA(n){if(fu(n)!==n)throw Error(Ze(188))}function G6(n){var e=n.alternate;if(!e){if(e=fu(n),e===null)throw Error(Ze(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return aA(i),n;if(s===r)return aA(i),e;s=s.sibling}throw Error(Ze(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ze(189))}}if(t.alternate!==r)throw Error(Ze(190))}if(t.tag!==3)throw Error(Ze(188));return t.stateNode.current===t?n:e}function FR(n){return n=G6(n),n!==null?zR(n):null}function zR(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=zR(n);if(e!==null)return e;n=n.sibling}return null}var BR=ts.unstable_scheduleCallback,lA=ts.unstable_cancelCallback,$6=ts.unstable_shouldYield,Z6=ts.unstable_requestPaint,rr=ts.unstable_now,q6=ts.unstable_getCurrentPriorityLevel,I2=ts.unstable_ImmediatePriority,UR=ts.unstable_UserBlockingPriority,$0=ts.unstable_NormalPriority,X6=ts.unstable_LowPriority,VR=ts.unstable_IdlePriority,Yy=null,So=null;function Y6(n){if(So&&typeof So.onCommitFiberRoot=="function")try{So.onCommitFiberRoot(Yy,n,void 0,(n.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:J6,K6=Math.log,Q6=Math.LN2;function J6(n){return n>>>=0,n===0?32:31-(K6(n)/Q6|0)|0}var nv=64,rv=4194304;function Bh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Z0(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Bh(a):(s&=o,s!==0&&(r=Bh(s)))}else o=t&~i,o!==0?r=Bh(o):s!==0&&(r=Bh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Zs(e),i=1<<t,r|=n[t],e&=~i;return r}function eB(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tB(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Zs(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=eB(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function yb(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function WR(){var n=nv;return nv<<=1,!(nv&4194240)&&(nv=64),n}function gw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Mm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Zs(e),n[e]=t}function nB(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Zs(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function D2(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Zs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var xn=0;function HR(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var GR,O2,$R,ZR,qR,xb=!1,iv=[],dl=null,fl=null,hl=null,yp=new Map,xp=new Map,Qa=[],rB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cA(n,e){switch(n){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":yp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xp.delete(e.pointerId)}}function ah(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Tm(e),e!==null&&O2(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function iB(n,e,t,r,i){switch(e){case"focusin":return dl=ah(dl,n,e,t,r,i),!0;case"dragenter":return fl=ah(fl,n,e,t,r,i),!0;case"mouseover":return hl=ah(hl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return yp.set(s,ah(yp.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xp.set(s,ah(xp.get(s)||null,n,e,t,r,i)),!0}return!1}function XR(n){var e=Ec(n.target);if(e!==null){var t=fu(e);if(t!==null){if(e=t.tag,e===13){if(e=jR(t),e!==null){n.blockedOn=e,qR(n.priority,function(){$R(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function v0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=wb(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);pb=r,t.target.dispatchEvent(r),pb=null}else return e=Tm(t),e!==null&&O2(e),n.blockedOn=t,!1;e.shift()}return!0}function uA(n,e,t){v0(n)&&t.delete(e)}function sB(){xb=!1,dl!==null&&v0(dl)&&(dl=null),fl!==null&&v0(fl)&&(fl=null),hl!==null&&v0(hl)&&(hl=null),yp.forEach(uA),xp.forEach(uA)}function lh(n,e){n.blockedOn===e&&(n.blockedOn=null,xb||(xb=!0,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,sB)))}function wp(n){function e(i){return lh(i,n)}if(0<iv.length){lh(iv[0],n);for(var t=1;t<iv.length;t++){var r=iv[t];r.blockedOn===n&&(r.blockedOn=null)}}for(dl!==null&&lh(dl,n),fl!==null&&lh(fl,n),hl!==null&&lh(hl,n),yp.forEach(e),xp.forEach(e),t=0;t<Qa.length;t++)r=Qa[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Qa.length&&(t=Qa[0],t.blockedOn===null);)XR(t),t.blockedOn===null&&Qa.shift()}var Fd=Ma.ReactCurrentBatchConfig,q0=!0;function oB(n,e,t,r){var i=xn,s=Fd.transition;Fd.transition=null;try{xn=1,j2(n,e,t,r)}finally{xn=i,Fd.transition=s}}function aB(n,e,t,r){var i=xn,s=Fd.transition;Fd.transition=null;try{xn=4,j2(n,e,t,r)}finally{xn=i,Fd.transition=s}}function j2(n,e,t,r){if(q0){var i=wb(n,e,t,r);if(i===null)Tw(n,e,r,X0,t),cA(n,r);else if(iB(i,n,e,t,r))r.stopPropagation();else if(cA(n,r),e&4&&-1<rB.indexOf(n)){for(;i!==null;){var s=Tm(i);if(s!==null&&GR(s),s=wb(n,e,t,r),s===null&&Tw(n,e,r,X0,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Tw(n,e,r,null,t)}}var X0=null;function wb(n,e,t,r){if(X0=null,n=L2(r),n=Ec(n),n!==null)if(e=fu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=jR(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return X0=n,null}function YR(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q6()){case I2:return 1;case UR:return 4;case $0:case X6:return 16;case VR:return 536870912;default:return 16}default:return 16}}var al=null,F2=null,y0=null;function KR(){if(y0)return y0;var n,e=F2,t=e.length,r,i="value"in al?al.value:al.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return y0=i.slice(n,1<r?1-r:void 0)}function x0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function sv(){return!0}function dA(){return!1}function ss(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sv:dA,this.isPropagationStopped=dA,this}return Gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=sv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=sv)},persist:function(){},isPersistent:sv}),e}var Sf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z2=ss(Sf),Em=Gn({},Sf,{view:0,detail:0}),lB=ss(Em),vw,yw,ch,Ky=Gn({},Em,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B2,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ch&&(ch&&n.type==="mousemove"?(vw=n.screenX-ch.screenX,yw=n.screenY-ch.screenY):yw=vw=0,ch=n),vw)},movementY:function(n){return"movementY"in n?n.movementY:yw}}),fA=ss(Ky),cB=Gn({},Ky,{dataTransfer:0}),uB=ss(cB),dB=Gn({},Em,{relatedTarget:0}),xw=ss(dB),fB=Gn({},Sf,{animationName:0,elapsedTime:0,pseudoElement:0}),hB=ss(fB),pB=Gn({},Sf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),mB=ss(pB),gB=Gn({},Sf,{data:0}),hA=ss(gB),vB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wB(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=xB[n])?!!e[n]:!1}function B2(){return wB}var _B=Gn({},Em,{key:function(n){if(n.key){var e=vB[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=x0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yB[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B2,charCode:function(n){return n.type==="keypress"?x0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?x0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),bB=ss(_B),SB=Gn({},Ky,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pA=ss(SB),MB=Gn({},Em,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B2}),EB=ss(MB),TB=Gn({},Sf,{propertyName:0,elapsedTime:0,pseudoElement:0}),CB=ss(TB),AB=Gn({},Ky,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),PB=ss(AB),NB=[9,13,27,32],U2=fa&&"CompositionEvent"in window,Xh=null;fa&&"documentMode"in document&&(Xh=document.documentMode);var kB=fa&&"TextEvent"in window&&!Xh,QR=fa&&(!U2||Xh&&8<Xh&&11>=Xh),mA=" ",gA=!1;function JR(n,e){switch(n){case"keyup":return NB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var pd=!1;function RB(n,e){switch(n){case"compositionend":return eL(e);case"keypress":return e.which!==32?null:(gA=!0,mA);case"textInput":return n=e.data,n===mA&&gA?null:n;default:return null}}function LB(n,e){if(pd)return n==="compositionend"||!U2&&JR(n,e)?(n=KR(),y0=F2=al=null,pd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QR&&e.locale!=="ko"?null:e.data;default:return null}}var IB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!IB[n.type]:e==="textarea"}function tL(n,e,t,r){RR(r),e=Y0(e,"onChange"),0<e.length&&(t=new z2("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Yh=null,_p=null;function DB(n){fL(n,0)}function Qy(n){var e=vd(n);if(ER(e))return n}function OB(n,e){if(n==="change")return e}var nL=!1;if(fa){var ww;if(fa){var _w="oninput"in document;if(!_w){var yA=document.createElement("div");yA.setAttribute("oninput","return;"),_w=typeof yA.oninput=="function"}ww=_w}else ww=!1;nL=ww&&(!document.documentMode||9<document.documentMode)}function xA(){Yh&&(Yh.detachEvent("onpropertychange",rL),_p=Yh=null)}function rL(n){if(n.propertyName==="value"&&Qy(_p)){var e=[];tL(e,_p,n,L2(n)),OR(DB,e)}}function jB(n,e,t){n==="focusin"?(xA(),Yh=e,_p=t,Yh.attachEvent("onpropertychange",rL)):n==="focusout"&&xA()}function FB(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qy(_p)}function zB(n,e){if(n==="click")return Qy(e)}function BB(n,e){if(n==="input"||n==="change")return Qy(e)}function UB(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Qs=typeof Object.is=="function"?Object.is:UB;function bp(n,e){if(Qs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!nb.call(e,i)||!Qs(n[i],e[i]))return!1}return!0}function wA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function _A(n,e){var t=wA(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=wA(t)}}function iL(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?iL(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function sL(){for(var n=window,e=W0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=W0(n.document)}return e}function V2(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function VB(n){var e=sL(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&iL(t.ownerDocument.documentElement,t)){if(r!==null&&V2(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=_A(t,s);var o=_A(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var WB=fa&&"documentMode"in document&&11>=document.documentMode,md=null,_b=null,Kh=null,bb=!1;function bA(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;bb||md==null||md!==W0(r)||(r=md,"selectionStart"in r&&V2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kh&&bp(Kh,r)||(Kh=r,r=Y0(_b,"onSelect"),0<r.length&&(e=new z2("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=md)))}function ov(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var gd={animationend:ov("Animation","AnimationEnd"),animationiteration:ov("Animation","AnimationIteration"),animationstart:ov("Animation","AnimationStart"),transitionend:ov("Transition","TransitionEnd")},bw={},oL={};fa&&(oL=document.createElement("div").style,"AnimationEvent"in window||(delete gd.animationend.animation,delete gd.animationiteration.animation,delete gd.animationstart.animation),"TransitionEvent"in window||delete gd.transitionend.transition);function Jy(n){if(bw[n])return bw[n];if(!gd[n])return n;var e=gd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in oL)return bw[n]=e[t];return n}var aL=Jy("animationend"),lL=Jy("animationiteration"),cL=Jy("animationstart"),uL=Jy("transitionend"),dL=new Map,SA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bl(n,e){dL.set(n,e),du(e,[n])}for(var Sw=0;Sw<SA.length;Sw++){var Mw=SA[Sw],HB=Mw.toLowerCase(),GB=Mw[0].toUpperCase()+Mw.slice(1);Bl(HB,"on"+GB)}Bl(aL,"onAnimationEnd");Bl(lL,"onAnimationIteration");Bl(cL,"onAnimationStart");Bl("dblclick","onDoubleClick");Bl("focusin","onFocus");Bl("focusout","onBlur");Bl(uL,"onTransitionEnd");ef("onMouseEnter",["mouseout","mouseover"]);ef("onMouseLeave",["mouseout","mouseover"]);ef("onPointerEnter",["pointerout","pointerover"]);ef("onPointerLeave",["pointerout","pointerover"]);du("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));du("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));du("onBeforeInput",["compositionend","keypress","textInput","paste"]);du("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));du("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));du("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$B=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uh));function MA(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,H6(r,e,void 0,n),n.currentTarget=null}function fL(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;MA(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;MA(i,a,c),s=l}}}if(G0)throw n=vb,G0=!1,vb=null,n}function Nn(n,e){var t=e[Cb];t===void 0&&(t=e[Cb]=new Set);var r=n+"__bubble";t.has(r)||(hL(e,n,2,!1),t.add(r))}function Ew(n,e,t){var r=0;e&&(r|=4),hL(t,n,r,e)}var av="_reactListening"+Math.random().toString(36).slice(2);function Sp(n){if(!n[av]){n[av]=!0,wR.forEach(function(t){t!=="selectionchange"&&($B.has(t)||Ew(t,!1,n),Ew(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[av]||(e[av]=!0,Ew("selectionchange",!1,e))}}function hL(n,e,t,r){switch(YR(e)){case 1:var i=oB;break;case 4:i=aB;break;default:i=j2}t=i.bind(null,e,t,n),i=void 0,!gb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Tw(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ec(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}OR(function(){var c=s,d=L2(t),h=[];e:{var p=dL.get(n);if(p!==void 0){var g=z2,v=n;switch(n){case"keypress":if(x0(t)===0)break e;case"keydown":case"keyup":g=bB;break;case"focusin":v="focus",g=xw;break;case"focusout":v="blur",g=xw;break;case"beforeblur":case"afterblur":g=xw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=uB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=EB;break;case aL:case lL:case cL:g=hB;break;case uL:g=CB;break;case"scroll":g=lB;break;case"wheel":g=PB;break;case"copy":case"cut":case"paste":g=mB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=pA}var y=(e&4)!==0,x=!y&&n==="scroll",b=y?p!==null?p+"Capture":null:p;y=[];for(var _=c,S;_!==null;){S=_;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,b!==null&&(E=vp(_,b),E!=null&&y.push(Mp(_,E,S)))),x)break;_=_.return}0<y.length&&(p=new g(p,v,null,t,d),h.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==pb&&(v=t.relatedTarget||t.fromElement)&&(Ec(v)||v[ha]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=t.relatedTarget||t.toElement,g=c,v=v?Ec(v):null,v!==null&&(x=fu(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(y=fA,E="onMouseLeave",b="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(y=pA,E="onPointerLeave",b="onPointerEnter",_="pointer"),x=g==null?p:vd(g),S=v==null?p:vd(v),p=new y(E,_+"leave",g,t,d),p.target=x,p.relatedTarget=S,E=null,Ec(d)===c&&(y=new y(b,_+"enter",v,t,d),y.target=S,y.relatedTarget=x,E=y),x=E,g&&v)t:{for(y=g,b=v,_=0,S=y;S;S=Ou(S))_++;for(S=0,E=b;E;E=Ou(E))S++;for(;0<_-S;)y=Ou(y),_--;for(;0<S-_;)b=Ou(b),S--;for(;_--;){if(y===b||b!==null&&y===b.alternate)break t;y=Ou(y),b=Ou(b)}y=null}else y=null;g!==null&&EA(h,p,g,y,!1),v!==null&&x!==null&&EA(h,x,v,y,!0)}}e:{if(p=c?vd(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var C=OB;else if(vA(p))if(nL)C=BB;else{C=FB;var P=jB}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=zB);if(C&&(C=C(n,c))){tL(h,C,t,d);break e}P&&P(n,p,c),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&cb(p,"number",p.value)}switch(P=c?vd(c):window,n){case"focusin":(vA(P)||P.contentEditable==="true")&&(md=P,_b=c,Kh=null);break;case"focusout":Kh=_b=md=null;break;case"mousedown":bb=!0;break;case"contextmenu":case"mouseup":case"dragend":bb=!1,bA(h,t,d);break;case"selectionchange":if(WB)break;case"keydown":case"keyup":bA(h,t,d)}var I;if(U2)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else pd?JR(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(QR&&t.locale!=="ko"&&(pd||T!=="onCompositionStart"?T==="onCompositionEnd"&&pd&&(I=KR()):(al=d,F2="value"in al?al.value:al.textContent,pd=!0)),P=Y0(c,T),0<P.length&&(T=new hA(T,n,null,t,d),h.push({event:T,listeners:P}),I?T.data=I:(I=eL(t),I!==null&&(T.data=I)))),(I=kB?RB(n,t):LB(n,t))&&(c=Y0(c,"onBeforeInput"),0<c.length&&(d=new hA("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=I))}fL(h,e)})}function Mp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Y0(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vp(n,t),s!=null&&r.unshift(Mp(n,s,i)),s=vp(n,e),s!=null&&r.push(Mp(n,s,i))),n=n.return}return r}function Ou(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function EA(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=vp(t,s),l!=null&&o.unshift(Mp(t,l,a))):i||(l=vp(t,s),l!=null&&o.push(Mp(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var ZB=/\r\n?/g,qB=/\u0000|\uFFFD/g;function TA(n){return(typeof n=="string"?n:""+n).replace(ZB,`
`).replace(qB,"")}function lv(n,e,t){if(e=TA(e),TA(n)!==e&&t)throw Error(Ze(425))}function K0(){}var Sb=null,Mb=null;function Eb(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tb=typeof setTimeout=="function"?setTimeout:void 0,XB=typeof clearTimeout=="function"?clearTimeout:void 0,CA=typeof Promise=="function"?Promise:void 0,YB=typeof queueMicrotask=="function"?queueMicrotask:typeof CA<"u"?function(n){return CA.resolve(null).then(n).catch(KB)}:Tb;function KB(n){setTimeout(function(){throw n})}function Cw(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),wp(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);wp(e)}function pl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function AA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Mf=Math.random().toString(36).slice(2),_o="__reactFiber$"+Mf,Ep="__reactProps$"+Mf,ha="__reactContainer$"+Mf,Cb="__reactEvents$"+Mf,QB="__reactListeners$"+Mf,JB="__reactHandles$"+Mf;function Ec(n){var e=n[_o];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ha]||t[_o]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=AA(n);n!==null;){if(t=n[_o])return t;n=AA(n)}return e}n=t,t=n.parentNode}return null}function Tm(n){return n=n[_o]||n[ha],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ze(33))}function ex(n){return n[Ep]||null}var Ab=[],yd=-1;function Ul(n){return{current:n}}function Rn(n){0>yd||(n.current=Ab[yd],Ab[yd]=null,yd--)}function Cn(n,e){yd++,Ab[yd]=n.current,n.current=e}var Sl={},ii=Ul(Sl),ki=Ul(!1),Jc=Sl;function tf(n,e){var t=n.type.contextTypes;if(!t)return Sl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ri(n){return n=n.childContextTypes,n!=null}function Q0(){Rn(ki),Rn(ii)}function PA(n,e,t){if(ii.current!==Sl)throw Error(Ze(168));Cn(ii,e),Cn(ki,t)}function pL(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ze(108,j6(n)||"Unknown",i));return Gn({},t,r)}function J0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Sl,Jc=ii.current,Cn(ii,n),Cn(ki,ki.current),!0}function NA(n,e,t){var r=n.stateNode;if(!r)throw Error(Ze(169));t?(n=pL(n,e,Jc),r.__reactInternalMemoizedMergedChildContext=n,Rn(ki),Rn(ii),Cn(ii,n)):Rn(ki),Cn(ki,t)}var ea=null,tx=!1,Aw=!1;function mL(n){ea===null?ea=[n]:ea.push(n)}function eU(n){tx=!0,mL(n)}function Vl(){if(!Aw&&ea!==null){Aw=!0;var n=0,e=xn;try{var t=ea;for(xn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ea=null,tx=!1}catch(i){throw ea!==null&&(ea=ea.slice(n+1)),BR(I2,Vl),i}finally{xn=e,Aw=!1}}return null}var xd=[],wd=0,ey=null,ty=0,bs=[],Ss=0,eu=null,ra=1,ia="";function gc(n,e){xd[wd++]=ty,xd[wd++]=ey,ey=n,ty=e}function gL(n,e,t){bs[Ss++]=ra,bs[Ss++]=ia,bs[Ss++]=eu,eu=n;var r=ra;n=ia;var i=32-Zs(r)-1;r&=~(1<<i),t+=1;var s=32-Zs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ra=1<<32-Zs(e)+i|t<<i|r,ia=s+n}else ra=1<<s|t<<i|r,ia=n}function W2(n){n.return!==null&&(gc(n,1),gL(n,1,0))}function H2(n){for(;n===ey;)ey=xd[--wd],xd[wd]=null,ty=xd[--wd],xd[wd]=null;for(;n===eu;)eu=bs[--Ss],bs[Ss]=null,ia=bs[--Ss],bs[Ss]=null,ra=bs[--Ss],bs[Ss]=null}var Yi=null,Xi=null,On=!1,Vs=null;function vL(n,e){var t=Ts(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function kA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Yi=n,Xi=pl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Yi=n,Xi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=eu!==null?{id:ra,overflow:ia}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ts(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Yi=n,Xi=null,!0):!1;default:return!1}}function Pb(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Nb(n){if(On){var e=Xi;if(e){var t=e;if(!kA(n,e)){if(Pb(n))throw Error(Ze(418));e=pl(t.nextSibling);var r=Yi;e&&kA(n,e)?vL(r,t):(n.flags=n.flags&-4097|2,On=!1,Yi=n)}}else{if(Pb(n))throw Error(Ze(418));n.flags=n.flags&-4097|2,On=!1,Yi=n}}}function RA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Yi=n}function cv(n){if(n!==Yi)return!1;if(!On)return RA(n),On=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Eb(n.type,n.memoizedProps)),e&&(e=Xi)){if(Pb(n))throw yL(),Error(Ze(418));for(;e;)vL(n,e),e=pl(e.nextSibling)}if(RA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ze(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Xi=pl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Xi=null}}else Xi=Yi?pl(n.stateNode.nextSibling):null;return!0}function yL(){for(var n=Xi;n;)n=pl(n.nextSibling)}function nf(){Xi=Yi=null,On=!1}function G2(n){Vs===null?Vs=[n]:Vs.push(n)}var tU=Ma.ReactCurrentBatchConfig;function uh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ze(309));var r=t.stateNode}if(!r)throw Error(Ze(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ze(284));if(!t._owner)throw Error(Ze(290,n))}return n}function uv(n,e){throw n=Object.prototype.toString.call(e),Error(Ze(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function LA(n){var e=n._init;return e(n._payload)}function xL(n){function e(b,_){if(n){var S=b.deletions;S===null?(b.deletions=[_],b.flags|=16):S.push(_)}}function t(b,_){if(!n)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function r(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=yl(b,_),b.index=0,b.sibling=null,b}function s(b,_,S){return b.index=S,n?(S=b.alternate,S!==null?(S=S.index,S<_?(b.flags|=2,_):S):(b.flags|=2,_)):(b.flags|=1048576,_)}function o(b){return n&&b.alternate===null&&(b.flags|=2),b}function a(b,_,S,E){return _===null||_.tag!==6?(_=Dw(S,b.mode,E),_.return=b,_):(_=i(_,S),_.return=b,_)}function l(b,_,S,E){var C=S.type;return C===hd?d(b,_,S.props.children,E,S.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qa&&LA(C)===_.type)?(E=i(_,S.props),E.ref=uh(b,_,S),E.return=b,E):(E=T0(S.type,S.key,S.props,null,b.mode,E),E.ref=uh(b,_,S),E.return=b,E)}function c(b,_,S,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Ow(S,b.mode,E),_.return=b,_):(_=i(_,S.children||[]),_.return=b,_)}function d(b,_,S,E,C){return _===null||_.tag!==7?(_=Vc(S,b.mode,E,C),_.return=b,_):(_=i(_,S),_.return=b,_)}function h(b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Dw(""+_,b.mode,S),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jg:return S=T0(_.type,_.key,_.props,null,b.mode,S),S.ref=uh(b,null,_),S.return=b,S;case fd:return _=Ow(_,b.mode,S),_.return=b,_;case qa:var E=_._init;return h(b,E(_._payload),S)}if(zh(_)||sh(_))return _=Vc(_,b.mode,S,null),_.return=b,_;uv(b,_)}return null}function p(b,_,S,E){var C=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(b,_,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Jg:return S.key===C?l(b,_,S,E):null;case fd:return S.key===C?c(b,_,S,E):null;case qa:return C=S._init,p(b,_,C(S._payload),E)}if(zh(S)||sh(S))return C!==null?null:d(b,_,S,E,null);uv(b,S)}return null}function g(b,_,S,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return b=b.get(S)||null,a(_,b,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Jg:return b=b.get(E.key===null?S:E.key)||null,l(_,b,E,C);case fd:return b=b.get(E.key===null?S:E.key)||null,c(_,b,E,C);case qa:var P=E._init;return g(b,_,S,P(E._payload),C)}if(zh(E)||sh(E))return b=b.get(S)||null,d(_,b,E,C,null);uv(_,E)}return null}function v(b,_,S,E){for(var C=null,P=null,I=_,T=_=0,k=null;I!==null&&T<S.length;T++){I.index>T?(k=I,I=null):k=I.sibling;var O=p(b,I,S[T],E);if(O===null){I===null&&(I=k);break}n&&I&&O.alternate===null&&e(b,I),_=s(O,_,T),P===null?C=O:P.sibling=O,P=O,I=k}if(T===S.length)return t(b,I),On&&gc(b,T),C;if(I===null){for(;T<S.length;T++)I=h(b,S[T],E),I!==null&&(_=s(I,_,T),P===null?C=I:P.sibling=I,P=I);return On&&gc(b,T),C}for(I=r(b,I);T<S.length;T++)k=g(I,b,T,S[T],E),k!==null&&(n&&k.alternate!==null&&I.delete(k.key===null?T:k.key),_=s(k,_,T),P===null?C=k:P.sibling=k,P=k);return n&&I.forEach(function(U){return e(b,U)}),On&&gc(b,T),C}function y(b,_,S,E){var C=sh(S);if(typeof C!="function")throw Error(Ze(150));if(S=C.call(S),S==null)throw Error(Ze(151));for(var P=C=null,I=_,T=_=0,k=null,O=S.next();I!==null&&!O.done;T++,O=S.next()){I.index>T?(k=I,I=null):k=I.sibling;var U=p(b,I,O.value,E);if(U===null){I===null&&(I=k);break}n&&I&&U.alternate===null&&e(b,I),_=s(U,_,T),P===null?C=U:P.sibling=U,P=U,I=k}if(O.done)return t(b,I),On&&gc(b,T),C;if(I===null){for(;!O.done;T++,O=S.next())O=h(b,O.value,E),O!==null&&(_=s(O,_,T),P===null?C=O:P.sibling=O,P=O);return On&&gc(b,T),C}for(I=r(b,I);!O.done;T++,O=S.next())O=g(I,b,T,O.value,E),O!==null&&(n&&O.alternate!==null&&I.delete(O.key===null?T:O.key),_=s(O,_,T),P===null?C=O:P.sibling=O,P=O);return n&&I.forEach(function(H){return e(b,H)}),On&&gc(b,T),C}function x(b,_,S,E){if(typeof S=="object"&&S!==null&&S.type===hd&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Jg:e:{for(var C=S.key,P=_;P!==null;){if(P.key===C){if(C=S.type,C===hd){if(P.tag===7){t(b,P.sibling),_=i(P,S.props.children),_.return=b,b=_;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qa&&LA(C)===P.type){t(b,P.sibling),_=i(P,S.props),_.ref=uh(b,P,S),_.return=b,b=_;break e}t(b,P);break}else e(b,P);P=P.sibling}S.type===hd?(_=Vc(S.props.children,b.mode,E,S.key),_.return=b,b=_):(E=T0(S.type,S.key,S.props,null,b.mode,E),E.ref=uh(b,_,S),E.return=b,b=E)}return o(b);case fd:e:{for(P=S.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){t(b,_.sibling),_=i(_,S.children||[]),_.return=b,b=_;break e}else{t(b,_);break}else e(b,_);_=_.sibling}_=Ow(S,b.mode,E),_.return=b,b=_}return o(b);case qa:return P=S._init,x(b,_,P(S._payload),E)}if(zh(S))return v(b,_,S,E);if(sh(S))return y(b,_,S,E);uv(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(t(b,_.sibling),_=i(_,S),_.return=b,b=_):(t(b,_),_=Dw(S,b.mode,E),_.return=b,b=_),o(b)):t(b,_)}return x}var rf=xL(!0),wL=xL(!1),ny=Ul(null),ry=null,_d=null,$2=null;function Z2(){$2=_d=ry=null}function q2(n){var e=ny.current;Rn(ny),n._currentValue=e}function kb(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function zd(n,e){ry=n,$2=_d=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ni=!0),n.firstContext=null)}function As(n){var e=n._currentValue;if($2!==n)if(n={context:n,memoizedValue:e,next:null},_d===null){if(ry===null)throw Error(Ze(308));_d=n,ry.dependencies={lanes:0,firstContext:n}}else _d=_d.next=n;return e}var Tc=null;function X2(n){Tc===null?Tc=[n]:Tc.push(n)}function _L(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,X2(e)):(t.next=i.next,i.next=t),e.interleaved=t,pa(n,r)}function pa(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Xa=!1;function Y2(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bL(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ca(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ml(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,pa(n,t)}return i=r.interleaved,i===null?(e.next=e,X2(r)):(e.next=i.next,i.next=e),r.interleaved=e,pa(n,t)}function w0(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,D2(n,t)}}function IA(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function iy(n,e,t,r){var i=n.updateQueue;Xa=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(p=e,g=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(g,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(g,h,p):v,p==null)break e;h=Gn({},h,p);break e;case 2:Xa=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nu|=o,n.lanes=o,n.memoizedState=h}}function DA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ze(191,i));i.call(r)}}}var Cm={},Mo=Ul(Cm),Tp=Ul(Cm),Cp=Ul(Cm);function Cc(n){if(n===Cm)throw Error(Ze(174));return n}function K2(n,e){switch(Cn(Cp,e),Cn(Tp,n),Cn(Mo,Cm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:db(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=db(e,n)}Rn(Mo),Cn(Mo,e)}function sf(){Rn(Mo),Rn(Tp),Rn(Cp)}function SL(n){Cc(Cp.current);var e=Cc(Mo.current),t=db(e,n.type);e!==t&&(Cn(Tp,n),Cn(Mo,t))}function Q2(n){Tp.current===n&&(Rn(Mo),Rn(Tp))}var Bn=Ul(0);function sy(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pw=[];function J2(){for(var n=0;n<Pw.length;n++)Pw[n]._workInProgressVersionPrimary=null;Pw.length=0}var _0=Ma.ReactCurrentDispatcher,Nw=Ma.ReactCurrentBatchConfig,tu=0,Hn=null,_r=null,Rr=null,oy=!1,Qh=!1,Ap=0,nU=0;function Zr(){throw Error(Ze(321))}function eM(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Qs(n[t],e[t]))return!1;return!0}function tM(n,e,t,r,i,s){if(tu=s,Hn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_0.current=n===null||n.memoizedState===null?oU:aU,n=t(r,i),Qh){s=0;do{if(Qh=!1,Ap=0,25<=s)throw Error(Ze(301));s+=1,Rr=_r=null,e.updateQueue=null,_0.current=lU,n=t(r,i)}while(Qh)}if(_0.current=ay,e=_r!==null&&_r.next!==null,tu=0,Rr=_r=Hn=null,oy=!1,e)throw Error(Ze(300));return n}function nM(){var n=Ap!==0;return Ap=0,n}function vo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?Hn.memoizedState=Rr=n:Rr=Rr.next=n,Rr}function Ps(){if(_r===null){var n=Hn.alternate;n=n!==null?n.memoizedState:null}else n=_r.next;var e=Rr===null?Hn.memoizedState:Rr.next;if(e!==null)Rr=e,_r=n;else{if(n===null)throw Error(Ze(310));_r=n,n={memoizedState:_r.memoizedState,baseState:_r.baseState,baseQueue:_r.baseQueue,queue:_r.queue,next:null},Rr===null?Hn.memoizedState=Rr=n:Rr=Rr.next=n}return Rr}function Pp(n,e){return typeof e=="function"?e(n):e}function kw(n){var e=Ps(),t=e.queue;if(t===null)throw Error(Ze(311));t.lastRenderedReducer=n;var r=_r,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((tu&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Hn.lanes|=d,nu|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Qs(r,e.memoizedState)||(Ni=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Hn.lanes|=s,nu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Rw(n){var e=Ps(),t=e.queue;if(t===null)throw Error(Ze(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Qs(s,e.memoizedState)||(Ni=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function ML(){}function EL(n,e){var t=Hn,r=Ps(),i=e(),s=!Qs(r.memoizedState,i);if(s&&(r.memoizedState=i,Ni=!0),r=r.queue,rM(AL.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Rr!==null&&Rr.memoizedState.tag&1){if(t.flags|=2048,Np(9,CL.bind(null,t,r,i,e),void 0,null),Dr===null)throw Error(Ze(349));tu&30||TL(t,e,i)}return i}function TL(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Hn.updateQueue,e===null?(e={lastEffect:null,stores:null},Hn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function CL(n,e,t,r){e.value=t,e.getSnapshot=r,PL(e)&&NL(n)}function AL(n,e,t){return t(function(){PL(e)&&NL(n)})}function PL(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Qs(n,t)}catch{return!0}}function NL(n){var e=pa(n,1);e!==null&&qs(e,n,1,-1)}function OA(n){var e=vo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:n},e.queue=n,n=n.dispatch=sU.bind(null,Hn,n),[e.memoizedState,n]}function Np(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Hn.updateQueue,e===null?(e={lastEffect:null,stores:null},Hn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function kL(){return Ps().memoizedState}function b0(n,e,t,r){var i=vo();Hn.flags|=n,i.memoizedState=Np(1|e,t,void 0,r===void 0?null:r)}function nx(n,e,t,r){var i=Ps();r=r===void 0?null:r;var s=void 0;if(_r!==null){var o=_r.memoizedState;if(s=o.destroy,r!==null&&eM(r,o.deps)){i.memoizedState=Np(e,t,s,r);return}}Hn.flags|=n,i.memoizedState=Np(1|e,t,s,r)}function jA(n,e){return b0(8390656,8,n,e)}function rM(n,e){return nx(2048,8,n,e)}function RL(n,e){return nx(4,2,n,e)}function LL(n,e){return nx(4,4,n,e)}function IL(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function DL(n,e,t){return t=t!=null?t.concat([n]):null,nx(4,4,IL.bind(null,e,n),t)}function iM(){}function OL(n,e){var t=Ps();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&eM(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function jL(n,e){var t=Ps();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&eM(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function FL(n,e,t){return tu&21?(Qs(t,e)||(t=WR(),Hn.lanes|=t,nu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ni=!0),n.memoizedState=t)}function rU(n,e){var t=xn;xn=t!==0&&4>t?t:4,n(!0);var r=Nw.transition;Nw.transition={};try{n(!1),e()}finally{xn=t,Nw.transition=r}}function zL(){return Ps().memoizedState}function iU(n,e,t){var r=vl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},BL(n))UL(e,t);else if(t=_L(n,e,t,r),t!==null){var i=xi();qs(t,n,r,i),VL(t,e,r)}}function sU(n,e,t){var r=vl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(BL(n))UL(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Qs(a,o)){var l=e.interleaved;l===null?(i.next=i,X2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=_L(n,e,i,r),t!==null&&(i=xi(),qs(t,n,r,i),VL(t,e,r))}}function BL(n){var e=n.alternate;return n===Hn||e!==null&&e===Hn}function UL(n,e){Qh=oy=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function VL(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,D2(n,t)}}var ay={readContext:As,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},oU={readContext:As,useCallback:function(n,e){return vo().memoizedState=[n,e===void 0?null:e],n},useContext:As,useEffect:jA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,b0(4194308,4,IL.bind(null,e,n),t)},useLayoutEffect:function(n,e){return b0(4194308,4,n,e)},useInsertionEffect:function(n,e){return b0(4,2,n,e)},useMemo:function(n,e){var t=vo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=vo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=iU.bind(null,Hn,n),[r.memoizedState,n]},useRef:function(n){var e=vo();return n={current:n},e.memoizedState=n},useState:OA,useDebugValue:iM,useDeferredValue:function(n){return vo().memoizedState=n},useTransition:function(){var n=OA(!1),e=n[0];return n=rU.bind(null,n[1]),vo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Hn,i=vo();if(On){if(t===void 0)throw Error(Ze(407));t=t()}else{if(t=e(),Dr===null)throw Error(Ze(349));tu&30||TL(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,jA(AL.bind(null,r,s,n),[n]),r.flags|=2048,Np(9,CL.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=vo(),e=Dr.identifierPrefix;if(On){var t=ia,r=ra;t=(r&~(1<<32-Zs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ap++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=nU++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},aU={readContext:As,useCallback:OL,useContext:As,useEffect:rM,useImperativeHandle:DL,useInsertionEffect:RL,useLayoutEffect:LL,useMemo:jL,useReducer:kw,useRef:kL,useState:function(){return kw(Pp)},useDebugValue:iM,useDeferredValue:function(n){var e=Ps();return FL(e,_r.memoizedState,n)},useTransition:function(){var n=kw(Pp)[0],e=Ps().memoizedState;return[n,e]},useMutableSource:ML,useSyncExternalStore:EL,useId:zL,unstable_isNewReconciler:!1},lU={readContext:As,useCallback:OL,useContext:As,useEffect:rM,useImperativeHandle:DL,useInsertionEffect:RL,useLayoutEffect:LL,useMemo:jL,useReducer:Rw,useRef:kL,useState:function(){return Rw(Pp)},useDebugValue:iM,useDeferredValue:function(n){var e=Ps();return _r===null?e.memoizedState=n:FL(e,_r.memoizedState,n)},useTransition:function(){var n=Rw(Pp)[0],e=Ps().memoizedState;return[n,e]},useMutableSource:ML,useSyncExternalStore:EL,useId:zL,unstable_isNewReconciler:!1};function Fs(n,e){if(n&&n.defaultProps){e=Gn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Rb(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Gn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var rx={isMounted:function(n){return(n=n._reactInternals)?fu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=xi(),i=vl(n),s=ca(r,i);s.payload=e,t!=null&&(s.callback=t),e=ml(n,s,i),e!==null&&(qs(e,n,i,r),w0(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=xi(),i=vl(n),s=ca(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ml(n,s,i),e!==null&&(qs(e,n,i,r),w0(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=xi(),r=vl(n),i=ca(t,r);i.tag=2,e!=null&&(i.callback=e),e=ml(n,i,r),e!==null&&(qs(e,n,r,t),w0(e,n,r))}};function FA(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bp(t,r)||!bp(i,s):!0}function WL(n,e,t){var r=!1,i=Sl,s=e.contextType;return typeof s=="object"&&s!==null?s=As(s):(i=Ri(e)?Jc:ii.current,r=e.contextTypes,s=(r=r!=null)?tf(n,i):Sl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rx,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function zA(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&rx.enqueueReplaceState(e,e.state,null)}function Lb(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},Y2(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=As(s):(s=Ri(e)?Jc:ii.current,i.context=tf(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Rb(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rx.enqueueReplaceState(i,i.state,null),iy(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function of(n,e){try{var t="",r=e;do t+=O6(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Lw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Ib(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var cU=typeof WeakMap=="function"?WeakMap:Map;function HL(n,e,t){t=ca(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){cy||(cy=!0,Hb=r),Ib(n,e)},t}function GL(n,e,t){t=ca(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){Ib(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Ib(n,e),typeof r!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function BA(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new cU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=SU.bind(null,n,e,t),e.then(n,n))}function UA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function VA(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ca(-1,1),e.tag=2,ml(t,e,1))),t.lanes|=1),n)}var uU=Ma.ReactCurrentOwner,Ni=!1;function mi(n,e,t,r){e.child=n===null?wL(e,null,t,r):rf(e,n.child,t,r)}function WA(n,e,t,r,i){t=t.render;var s=e.ref;return zd(e,i),r=tM(n,e,t,r,s,i),t=nM(),n!==null&&!Ni?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ma(n,e,i)):(On&&t&&W2(e),e.flags|=1,mi(n,e,r,i),e.child)}function HA(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!fM(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,$L(n,e,s,r,i)):(n=T0(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:bp,t(o,r)&&n.ref===e.ref)return ma(n,e,i)}return e.flags|=1,n=yl(s,r),n.ref=e.ref,n.return=e,e.child=n}function $L(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(bp(s,r)&&n.ref===e.ref)if(Ni=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Ni=!0);else return e.lanes=n.lanes,ma(n,e,i)}return Db(n,e,t,r,i)}function ZL(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(Sd,Zi),Zi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Cn(Sd,Zi),Zi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Cn(Sd,Zi),Zi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Cn(Sd,Zi),Zi|=r;return mi(n,e,i,t),e.child}function qL(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Db(n,e,t,r,i){var s=Ri(t)?Jc:ii.current;return s=tf(e,s),zd(e,i),t=tM(n,e,t,r,s,i),r=nM(),n!==null&&!Ni?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ma(n,e,i)):(On&&r&&W2(e),e.flags|=1,mi(n,e,t,i),e.child)}function GA(n,e,t,r,i){if(Ri(t)){var s=!0;J0(e)}else s=!1;if(zd(e,i),e.stateNode===null)S0(n,e),WL(e,t,r),Lb(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=As(c):(c=Ri(t)?Jc:ii.current,c=tf(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&zA(e,o,r,c),Xa=!1;var p=e.memoizedState;o.state=p,iy(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ki.current||Xa?(typeof d=="function"&&(Rb(e,t,d,r),l=e.memoizedState),(a=Xa||FA(e,t,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bL(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Fs(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=As(l):(l=Ri(t)?Jc:ii.current,l=tf(e,l));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&zA(e,o,r,l),Xa=!1,p=e.memoizedState,o.state=p,iy(e,r,o,i);var v=e.memoizedState;a!==h||p!==v||ki.current||Xa?(typeof g=="function"&&(Rb(e,t,g,r),v=e.memoizedState),(c=Xa||FA(e,t,c,r,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return Ob(n,e,t,r,s,i)}function Ob(n,e,t,r,i,s){qL(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&NA(e,t,!1),ma(n,e,s);r=e.stateNode,uU.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=rf(e,n.child,null,s),e.child=rf(e,null,a,s)):mi(n,e,a,s),e.memoizedState=r.state,i&&NA(e,t,!0),e.child}function XL(n){var e=n.stateNode;e.pendingContext?PA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&PA(n,e.context,!1),K2(n,e.containerInfo)}function $A(n,e,t,r,i){return nf(),G2(i),e.flags|=256,mi(n,e,t,r),e.child}var jb={dehydrated:null,treeContext:null,retryLane:0};function Fb(n){return{baseLanes:n,cachePool:null,transitions:null}}function YL(n,e,t){var r=e.pendingProps,i=Bn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Cn(Bn,i&1),n===null)return Nb(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ox(o,r,0,null),n=Vc(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Fb(t),e.memoizedState=jb,n):sM(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dU(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=yl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=yl(a,s):(s=Vc(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?Fb(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=jb,r}return s=n.child,n=s.sibling,r=yl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function sM(n,e){return e=ox({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function dv(n,e,t,r){return r!==null&&G2(r),rf(e,n.child,null,t),n=sM(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function dU(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Lw(Error(Ze(422))),dv(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ox({mode:"visible",children:r.children},i,0,null),s=Vc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&rf(e,n.child,null,o),e.child.memoizedState=Fb(o),e.memoizedState=jb,s);if(!(e.mode&1))return dv(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ze(419)),r=Lw(s,r,void 0),dv(n,e,o,r)}if(a=(o&n.childLanes)!==0,Ni||a){if(r=Dr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pa(n,i),qs(r,n,i,-1))}return dM(),r=Lw(Error(Ze(421))),dv(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=MU.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Xi=pl(i.nextSibling),Yi=e,On=!0,Vs=null,n!==null&&(bs[Ss++]=ra,bs[Ss++]=ia,bs[Ss++]=eu,ra=n.id,ia=n.overflow,eu=e),e=sM(e,r.children),e.flags|=4096,e)}function ZA(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),kb(n.return,e,t)}function Iw(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function KL(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mi(n,e,r.children,t),r=Bn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ZA(n,t,e);else if(n.tag===19)ZA(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Cn(Bn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&sy(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Iw(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&sy(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Iw(e,!0,t,null,s);break;case"together":Iw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function S0(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ma(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),nu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ze(153));if(e.child!==null){for(n=e.child,t=yl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=yl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function fU(n,e,t){switch(e.tag){case 3:XL(e),nf();break;case 5:SL(e);break;case 1:Ri(e.type)&&J0(e);break;case 4:K2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Cn(ny,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Cn(Bn,Bn.current&1),e.flags|=128,null):t&e.child.childLanes?YL(n,e,t):(Cn(Bn,Bn.current&1),n=ma(n,e,t),n!==null?n.sibling:null);Cn(Bn,Bn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return KL(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Cn(Bn,Bn.current),r)break;return null;case 22:case 23:return e.lanes=0,ZL(n,e,t)}return ma(n,e,t)}var QL,zb,JL,eI;QL=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};zb=function(){};JL=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Cc(Mo.current);var s=null;switch(t){case"input":i=ab(n,i),r=ab(n,r),s=[];break;case"select":i=Gn({},i,{value:void 0}),r=Gn({},r,{value:void 0}),s=[];break;case"textarea":i=ub(n,i),r=ub(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=K0)}fb(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Nn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};eI=function(n,e,t,r){t!==r&&(e.flags|=4)};function dh(n,e){if(!On)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function qr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function hU(n,e,t){var r=e.pendingProps;switch(H2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(e),null;case 1:return Ri(e.type)&&Q0(),qr(e),null;case 3:return r=e.stateNode,sf(),Rn(ki),Rn(ii),J2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(cv(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vs!==null&&(Zb(Vs),Vs=null))),zb(n,e),qr(e),null;case 5:Q2(e);var i=Cc(Cp.current);if(t=e.type,n!==null&&e.stateNode!=null)JL(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ze(166));return qr(e),null}if(n=Cc(Mo.current),cv(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[_o]=e,r[Ep]=s,n=(e.mode&1)!==0,t){case"dialog":Nn("cancel",r),Nn("close",r);break;case"iframe":case"object":case"embed":Nn("load",r);break;case"video":case"audio":for(i=0;i<Uh.length;i++)Nn(Uh[i],r);break;case"source":Nn("error",r);break;case"img":case"image":case"link":Nn("error",r),Nn("load",r);break;case"details":Nn("toggle",r);break;case"input":nA(r,s),Nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nn("invalid",r);break;case"textarea":iA(r,s),Nn("invalid",r)}fb(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&lv(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lv(r.textContent,a,n),i=["children",""+a]):mp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Nn("scroll",r)}switch(t){case"input":ev(r),rA(r,s,!0);break;case"textarea":ev(r),sA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=K0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=AR(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[_o]=e,n[Ep]=r,QL(n,e,!1,!1),e.stateNode=n;e:{switch(o=hb(t,r),t){case"dialog":Nn("cancel",n),Nn("close",n),i=r;break;case"iframe":case"object":case"embed":Nn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Uh.length;i++)Nn(Uh[i],n);i=r;break;case"source":Nn("error",n),i=r;break;case"img":case"image":case"link":Nn("error",n),Nn("load",n),i=r;break;case"details":Nn("toggle",n),i=r;break;case"input":nA(n,r),i=ab(n,r),Nn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Gn({},r,{value:void 0}),Nn("invalid",n);break;case"textarea":iA(n,r),i=ub(n,r),Nn("invalid",n);break;default:i=r}fb(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?kR(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PR(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&gp(n,l):typeof l=="number"&&gp(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Nn("scroll",n):l!=null&&P2(n,s,l,o))}switch(t){case"input":ev(n),rA(n,r,!1);break;case"textarea":ev(n),sA(n);break;case"option":r.value!=null&&n.setAttribute("value",""+bl(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Dd(n,!!r.multiple,s,!1):r.defaultValue!=null&&Dd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=K0)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qr(e),null;case 6:if(n&&e.stateNode!=null)eI(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ze(166));if(t=Cc(Cp.current),Cc(Mo.current),cv(e)){if(r=e.stateNode,t=e.memoizedProps,r[_o]=e,(s=r.nodeValue!==t)&&(n=Yi,n!==null))switch(n.tag){case 3:lv(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&lv(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[_o]=e,e.stateNode=r}return qr(e),null;case 13:if(Rn(Bn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(On&&Xi!==null&&e.mode&1&&!(e.flags&128))yL(),nf(),e.flags|=98560,s=!1;else if(s=cv(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ze(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ze(317));s[_o]=e}else nf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qr(e),s=!1}else Vs!==null&&(Zb(Vs),Vs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Bn.current&1?Sr===0&&(Sr=3):dM())),e.updateQueue!==null&&(e.flags|=4),qr(e),null);case 4:return sf(),zb(n,e),n===null&&Sp(e.stateNode.containerInfo),qr(e),null;case 10:return q2(e.type._context),qr(e),null;case 17:return Ri(e.type)&&Q0(),qr(e),null;case 19:if(Rn(Bn),s=e.memoizedState,s===null)return qr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dh(s,!1);else{if(Sr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=sy(n),o!==null){for(e.flags|=128,dh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Cn(Bn,Bn.current&1|2),e.child}n=n.sibling}s.tail!==null&&rr()>af&&(e.flags|=128,r=!0,dh(s,!1),e.lanes=4194304)}else{if(!r)if(n=sy(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),dh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!On)return qr(e),null}else 2*rr()-s.renderingStartTime>af&&t!==1073741824&&(e.flags|=128,r=!0,dh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rr(),e.sibling=null,t=Bn.current,Cn(Bn,r?t&1|2:t&1),e):(qr(e),null);case 22:case 23:return uM(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zi&1073741824&&(qr(e),e.subtreeFlags&6&&(e.flags|=8192)):qr(e),null;case 24:return null;case 25:return null}throw Error(Ze(156,e.tag))}function pU(n,e){switch(H2(e),e.tag){case 1:return Ri(e.type)&&Q0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return sf(),Rn(ki),Rn(ii),J2(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Q2(e),null;case 13:if(Rn(Bn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ze(340));nf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Rn(Bn),null;case 4:return sf(),null;case 10:return q2(e.type._context),null;case 22:case 23:return uM(),null;case 24:return null;default:return null}}var fv=!1,Jr=!1,mU=typeof WeakSet=="function"?WeakSet:Set,ht=null;function bd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Xn(n,e,r)}else t.current=null}function Bb(n,e,t){try{t()}catch(r){Xn(n,e,r)}}var qA=!1;function gU(n,e){if(Sb=q0,n=sL(),V2(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=n,p=null;t:for(;;){for(var g;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Mb={focusedElem:n,selectionRange:t},q0=!1,ht=e;ht!==null;)if(e=ht,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ht=n;else for(;ht!==null;){e=ht;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:Fs(e.type,y),x);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ze(163))}}catch(E){Xn(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,ht=n;break}ht=e.return}return v=qA,qA=!1,v}function Jh(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&Bb(e,t,s)}i=i.next}while(i!==r)}}function ix(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Ub(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function tI(n){var e=n.alternate;e!==null&&(n.alternate=null,tI(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[_o],delete e[Ep],delete e[Cb],delete e[QB],delete e[JB])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function nI(n){return n.tag===5||n.tag===3||n.tag===4}function XA(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nI(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Vb(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=K0));else if(r!==4&&(n=n.child,n!==null))for(Vb(n,e,t),n=n.sibling;n!==null;)Vb(n,e,t),n=n.sibling}function Wb(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Wb(n,e,t),n=n.sibling;n!==null;)Wb(n,e,t),n=n.sibling}var Fr=null,Us=!1;function ja(n,e,t){for(t=t.child;t!==null;)rI(n,e,t),t=t.sibling}function rI(n,e,t){if(So&&typeof So.onCommitFiberUnmount=="function")try{So.onCommitFiberUnmount(Yy,t)}catch{}switch(t.tag){case 5:Jr||bd(t,e);case 6:var r=Fr,i=Us;Fr=null,ja(n,e,t),Fr=r,Us=i,Fr!==null&&(Us?(n=Fr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Fr.removeChild(t.stateNode));break;case 18:Fr!==null&&(Us?(n=Fr,t=t.stateNode,n.nodeType===8?Cw(n.parentNode,t):n.nodeType===1&&Cw(n,t),wp(n)):Cw(Fr,t.stateNode));break;case 4:r=Fr,i=Us,Fr=t.stateNode.containerInfo,Us=!0,ja(n,e,t),Fr=r,Us=i;break;case 0:case 11:case 14:case 15:if(!Jr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Bb(t,e,o),i=i.next}while(i!==r)}ja(n,e,t);break;case 1:if(!Jr&&(bd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Xn(t,e,a)}ja(n,e,t);break;case 21:ja(n,e,t);break;case 22:t.mode&1?(Jr=(r=Jr)||t.memoizedState!==null,ja(n,e,t),Jr=r):ja(n,e,t);break;default:ja(n,e,t)}}function YA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new mU),e.forEach(function(r){var i=EU.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Ls(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fr=a.stateNode,Us=!1;break e;case 3:Fr=a.stateNode.containerInfo,Us=!0;break e;case 4:Fr=a.stateNode.containerInfo,Us=!0;break e}a=a.return}if(Fr===null)throw Error(Ze(160));rI(s,o,i),Fr=null,Us=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Xn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iI(e,n),e=e.sibling}function iI(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ls(e,n),go(n),r&4){try{Jh(3,n,n.return),ix(3,n)}catch(y){Xn(n,n.return,y)}try{Jh(5,n,n.return)}catch(y){Xn(n,n.return,y)}}break;case 1:Ls(e,n),go(n),r&512&&t!==null&&bd(t,t.return);break;case 5:if(Ls(e,n),go(n),r&512&&t!==null&&bd(t,t.return),n.flags&32){var i=n.stateNode;try{gp(i,"")}catch(y){Xn(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&TR(i,s),hb(a,o);var c=hb(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?kR(i,h):d==="dangerouslySetInnerHTML"?PR(i,h):d==="children"?gp(i,h):P2(i,d,h,c)}switch(a){case"input":lb(i,s);break;case"textarea":CR(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Dd(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Dd(i,!!s.multiple,s.defaultValue,!0):Dd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ep]=s}catch(y){Xn(n,n.return,y)}}break;case 6:if(Ls(e,n),go(n),r&4){if(n.stateNode===null)throw Error(Ze(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){Xn(n,n.return,y)}}break;case 3:if(Ls(e,n),go(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{wp(e.containerInfo)}catch(y){Xn(n,n.return,y)}break;case 4:Ls(e,n),go(n);break;case 13:Ls(e,n),go(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(lM=rr())),r&4&&YA(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Jr=(c=Jr)||d,Ls(e,n),Jr=c):Ls(e,n),go(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(ht=n,d=n.child;d!==null;){for(h=ht=d;ht!==null;){switch(p=ht,g=p.child,p.tag){case 0:case 11:case 14:case 15:Jh(4,p,p.return);break;case 1:bd(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Xn(r,t,y)}}break;case 5:bd(p,p.return);break;case 22:if(p.memoizedState!==null){QA(h);continue}}g!==null?(g.return=p,ht=g):QA(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=NR("display",o))}catch(y){Xn(n,n.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Xn(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ls(e,n),go(n),r&4&&YA(n);break;case 21:break;default:Ls(e,n),go(n)}}function go(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(nI(t)){var r=t;break e}t=t.return}throw Error(Ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gp(i,""),r.flags&=-33);var s=XA(n);Wb(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=XA(n);Vb(n,a,o);break;default:throw Error(Ze(161))}}catch(l){Xn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function vU(n,e,t){ht=n,sI(n)}function sI(n,e,t){for(var r=(n.mode&1)!==0;ht!==null;){var i=ht,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jr;a=fv;var c=Jr;if(fv=o,(Jr=l)&&!c)for(ht=i;ht!==null;)o=ht,l=o.child,o.tag===22&&o.memoizedState!==null?JA(i):l!==null?(l.return=o,ht=l):JA(i);for(;s!==null;)ht=s,sI(s),s=s.sibling;ht=i,fv=a,Jr=c}KA(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ht=s):KA(n)}}function KA(n){for(;ht!==null;){var e=ht;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jr||ix(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Fs(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&DA(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}DA(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&wp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ze(163))}Jr||e.flags&512&&Ub(e)}catch(p){Xn(e,e.return,p)}}if(e===n){ht=null;break}if(t=e.sibling,t!==null){t.return=e.return,ht=t;break}ht=e.return}}function QA(n){for(;ht!==null;){var e=ht;if(e===n){ht=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ht=t;break}ht=e.return}}function JA(n){for(;ht!==null;){var e=ht;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ix(4,e)}catch(l){Xn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Xn(e,i,l)}}var s=e.return;try{Ub(e)}catch(l){Xn(e,s,l)}break;case 5:var o=e.return;try{Ub(e)}catch(l){Xn(e,o,l)}}}catch(l){Xn(e,e.return,l)}if(e===n){ht=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ht=a;break}ht=e.return}}var yU=Math.ceil,ly=Ma.ReactCurrentDispatcher,oM=Ma.ReactCurrentOwner,Cs=Ma.ReactCurrentBatchConfig,sn=0,Dr=null,pr=null,Br=0,Zi=0,Sd=Ul(0),Sr=0,kp=null,nu=0,sx=0,aM=0,ep=null,Pi=null,lM=0,af=1/0,Jo=null,cy=!1,Hb=null,gl=null,hv=!1,ll=null,uy=0,tp=0,Gb=null,M0=-1,E0=0;function xi(){return sn&6?rr():M0!==-1?M0:M0=rr()}function vl(n){return n.mode&1?sn&2&&Br!==0?Br&-Br:tU.transition!==null?(E0===0&&(E0=WR()),E0):(n=xn,n!==0||(n=window.event,n=n===void 0?16:YR(n.type)),n):1}function qs(n,e,t,r){if(50<tp)throw tp=0,Gb=null,Error(Ze(185));Mm(n,t,r),(!(sn&2)||n!==Dr)&&(n===Dr&&(!(sn&2)&&(sx|=t),Sr===4&&Ja(n,Br)),Li(n,r),t===1&&sn===0&&!(e.mode&1)&&(af=rr()+500,tx&&Vl()))}function Li(n,e){var t=n.callbackNode;tB(n,e);var r=Z0(n,n===Dr?Br:0);if(r===0)t!==null&&lA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&lA(t),e===1)n.tag===0?eU(e3.bind(null,n)):mL(e3.bind(null,n)),YB(function(){!(sn&6)&&Vl()}),t=null;else{switch(HR(r)){case 1:t=I2;break;case 4:t=UR;break;case 16:t=$0;break;case 536870912:t=VR;break;default:t=$0}t=hI(t,oI.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function oI(n,e){if(M0=-1,E0=0,sn&6)throw Error(Ze(327));var t=n.callbackNode;if(Bd()&&n.callbackNode!==t)return null;var r=Z0(n,n===Dr?Br:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=dy(n,r);else{e=r;var i=sn;sn|=2;var s=lI();(Dr!==n||Br!==e)&&(Jo=null,af=rr()+500,Uc(n,e));do try{_U();break}catch(a){aI(n,a)}while(!0);Z2(),ly.current=s,sn=i,pr!==null?e=0:(Dr=null,Br=0,e=Sr)}if(e!==0){if(e===2&&(i=yb(n),i!==0&&(r=i,e=$b(n,i))),e===1)throw t=kp,Uc(n,0),Ja(n,r),Li(n,rr()),t;if(e===6)Ja(n,r);else{if(i=n.current.alternate,!(r&30)&&!xU(i)&&(e=dy(n,r),e===2&&(s=yb(n),s!==0&&(r=s,e=$b(n,s))),e===1))throw t=kp,Uc(n,0),Ja(n,r),Li(n,rr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ze(345));case 2:vc(n,Pi,Jo);break;case 3:if(Ja(n,r),(r&130023424)===r&&(e=lM+500-rr(),10<e)){if(Z0(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){xi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Tb(vc.bind(null,n,Pi,Jo),e);break}vc(n,Pi,Jo);break;case 4:if(Ja(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Zs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yU(r/1960))-r,10<r){n.timeoutHandle=Tb(vc.bind(null,n,Pi,Jo),r);break}vc(n,Pi,Jo);break;case 5:vc(n,Pi,Jo);break;default:throw Error(Ze(329))}}}return Li(n,rr()),n.callbackNode===t?oI.bind(null,n):null}function $b(n,e){var t=ep;return n.current.memoizedState.isDehydrated&&(Uc(n,e).flags|=256),n=dy(n,e),n!==2&&(e=Pi,Pi=t,e!==null&&Zb(e)),n}function Zb(n){Pi===null?Pi=n:Pi.push.apply(Pi,n)}function xU(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Qs(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ja(n,e){for(e&=~aM,e&=~sx,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Zs(e),r=1<<t;n[t]=-1,e&=~r}}function e3(n){if(sn&6)throw Error(Ze(327));Bd();var e=Z0(n,0);if(!(e&1))return Li(n,rr()),null;var t=dy(n,e);if(n.tag!==0&&t===2){var r=yb(n);r!==0&&(e=r,t=$b(n,r))}if(t===1)throw t=kp,Uc(n,0),Ja(n,e),Li(n,rr()),t;if(t===6)throw Error(Ze(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,vc(n,Pi,Jo),Li(n,rr()),null}function cM(n,e){var t=sn;sn|=1;try{return n(e)}finally{sn=t,sn===0&&(af=rr()+500,tx&&Vl())}}function ru(n){ll!==null&&ll.tag===0&&!(sn&6)&&Bd();var e=sn;sn|=1;var t=Cs.transition,r=xn;try{if(Cs.transition=null,xn=1,n)return n()}finally{xn=r,Cs.transition=t,sn=e,!(sn&6)&&Vl()}}function uM(){Zi=Sd.current,Rn(Sd)}function Uc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,XB(t)),pr!==null)for(t=pr.return;t!==null;){var r=t;switch(H2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Q0();break;case 3:sf(),Rn(ki),Rn(ii),J2();break;case 5:Q2(r);break;case 4:sf();break;case 13:Rn(Bn);break;case 19:Rn(Bn);break;case 10:q2(r.type._context);break;case 22:case 23:uM()}t=t.return}if(Dr=n,pr=n=yl(n.current,null),Br=Zi=e,Sr=0,kp=null,aM=sx=nu=0,Pi=ep=null,Tc!==null){for(e=0;e<Tc.length;e++)if(t=Tc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Tc=null}return n}function aI(n,e){do{var t=pr;try{if(Z2(),_0.current=ay,oy){for(var r=Hn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oy=!1}if(tu=0,Rr=_r=Hn=null,Qh=!1,Ap=0,oM.current=null,t===null||t.return===null){Sr=1,kp=e,pr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Br,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=UA(o);if(g!==null){g.flags&=-257,VA(g,o,a,s,e),g.mode&1&&BA(s,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){BA(s,c,e),dM();break e}l=Error(Ze(426))}}else if(On&&a.mode&1){var x=UA(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),VA(x,o,a,s,e),G2(of(l,a));break e}}s=l=of(l,a),Sr!==4&&(Sr=2),ep===null?ep=[s]:ep.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=HL(s,l,e);IA(s,b);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(gl===null||!gl.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=GL(s,a,e);IA(s,E);break e}}s=s.return}while(s!==null)}uI(t)}catch(C){e=C,pr===t&&t!==null&&(pr=t=t.return);continue}break}while(!0)}function lI(){var n=ly.current;return ly.current=ay,n===null?ay:n}function dM(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Dr===null||!(nu&268435455)&&!(sx&268435455)||Ja(Dr,Br)}function dy(n,e){var t=sn;sn|=2;var r=lI();(Dr!==n||Br!==e)&&(Jo=null,Uc(n,e));do try{wU();break}catch(i){aI(n,i)}while(!0);if(Z2(),sn=t,ly.current=r,pr!==null)throw Error(Ze(261));return Dr=null,Br=0,Sr}function wU(){for(;pr!==null;)cI(pr)}function _U(){for(;pr!==null&&!$6();)cI(pr)}function cI(n){var e=fI(n.alternate,n,Zi);n.memoizedProps=n.pendingProps,e===null?uI(n):pr=e,oM.current=null}function uI(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=pU(t,e),t!==null){t.flags&=32767,pr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Sr=6,pr=null;return}}else if(t=hU(t,e,Zi),t!==null){pr=t;return}if(e=e.sibling,e!==null){pr=e;return}pr=e=n}while(e!==null);Sr===0&&(Sr=5)}function vc(n,e,t){var r=xn,i=Cs.transition;try{Cs.transition=null,xn=1,bU(n,e,t,r)}finally{Cs.transition=i,xn=r}return null}function bU(n,e,t,r){do Bd();while(ll!==null);if(sn&6)throw Error(Ze(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ze(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(nB(n,s),n===Dr&&(pr=Dr=null,Br=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||hv||(hv=!0,hI($0,function(){return Bd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Cs.transition,Cs.transition=null;var o=xn;xn=1;var a=sn;sn|=4,oM.current=null,gU(n,t),iI(t,n),VB(Mb),q0=!!Sb,Mb=Sb=null,n.current=t,vU(t),Z6(),sn=a,xn=o,Cs.transition=s}else n.current=t;if(hv&&(hv=!1,ll=n,uy=i),s=n.pendingLanes,s===0&&(gl=null),Y6(t.stateNode),Li(n,rr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(cy)throw cy=!1,n=Hb,Hb=null,n;return uy&1&&n.tag!==0&&Bd(),s=n.pendingLanes,s&1?n===Gb?tp++:(tp=0,Gb=n):tp=0,Vl(),null}function Bd(){if(ll!==null){var n=HR(uy),e=Cs.transition,t=xn;try{if(Cs.transition=null,xn=16>n?16:n,ll===null)var r=!1;else{if(n=ll,ll=null,uy=0,sn&6)throw Error(Ze(331));var i=sn;for(sn|=4,ht=n.current;ht!==null;){var s=ht,o=s.child;if(ht.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ht=c;ht!==null;){var d=ht;switch(d.tag){case 0:case 11:case 15:Jh(8,d,s)}var h=d.child;if(h!==null)h.return=d,ht=h;else for(;ht!==null;){d=ht;var p=d.sibling,g=d.return;if(tI(d),d===c){ht=null;break}if(p!==null){p.return=g,ht=p;break}ht=g}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ht=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ht=o;else e:for(;ht!==null;){if(s=ht,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Jh(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ht=b;break e}ht=s.return}}var _=n.current;for(ht=_;ht!==null;){o=ht;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ht=S;else e:for(o=_;ht!==null;){if(a=ht,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ix(9,a)}}catch(C){Xn(a,a.return,C)}if(a===o){ht=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ht=E;break e}ht=a.return}}if(sn=i,Vl(),So&&typeof So.onPostCommitFiberRoot=="function")try{So.onPostCommitFiberRoot(Yy,n)}catch{}r=!0}return r}finally{xn=t,Cs.transition=e}}return!1}function t3(n,e,t){e=of(t,e),e=HL(n,e,1),n=ml(n,e,1),e=xi(),n!==null&&(Mm(n,1,e),Li(n,e))}function Xn(n,e,t){if(n.tag===3)t3(n,n,t);else for(;e!==null;){if(e.tag===3){t3(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gl===null||!gl.has(r))){n=of(t,n),n=GL(e,n,1),e=ml(e,n,1),n=xi(),e!==null&&(Mm(e,1,n),Li(e,n));break}}e=e.return}}function SU(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=xi(),n.pingedLanes|=n.suspendedLanes&t,Dr===n&&(Br&t)===t&&(Sr===4||Sr===3&&(Br&130023424)===Br&&500>rr()-lM?Uc(n,0):aM|=t),Li(n,e)}function dI(n,e){e===0&&(n.mode&1?(e=rv,rv<<=1,!(rv&130023424)&&(rv=4194304)):e=1);var t=xi();n=pa(n,e),n!==null&&(Mm(n,e,t),Li(n,t))}function MU(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),dI(n,t)}function EU(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ze(314))}r!==null&&r.delete(e),dI(n,t)}var fI;fI=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ki.current)Ni=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ni=!1,fU(n,e,t);Ni=!!(n.flags&131072)}else Ni=!1,On&&e.flags&1048576&&gL(e,ty,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;S0(n,e),n=e.pendingProps;var i=tf(e,ii.current);zd(e,t),i=tM(null,e,r,n,i,t);var s=nM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ri(r)?(s=!0,J0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Y2(e),i.updater=rx,e.stateNode=i,i._reactInternals=e,Lb(e,r,n,t),e=Ob(null,e,r,!0,s,t)):(e.tag=0,On&&s&&W2(e),mi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(S0(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CU(r),n=Fs(r,n),i){case 0:e=Db(null,e,r,n,t);break e;case 1:e=GA(null,e,r,n,t);break e;case 11:e=WA(null,e,r,n,t);break e;case 14:e=HA(null,e,r,Fs(r.type,n),t);break e}throw Error(Ze(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fs(r,i),Db(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fs(r,i),GA(n,e,r,i,t);case 3:e:{if(XL(e),n===null)throw Error(Ze(387));r=e.pendingProps,s=e.memoizedState,i=s.element,bL(n,e),iy(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=of(Error(Ze(423)),e),e=$A(n,e,r,t,i);break e}else if(r!==i){i=of(Error(Ze(424)),e),e=$A(n,e,r,t,i);break e}else for(Xi=pl(e.stateNode.containerInfo.firstChild),Yi=e,On=!0,Vs=null,t=wL(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(nf(),r===i){e=ma(n,e,t);break e}mi(n,e,r,t)}e=e.child}return e;case 5:return SL(e),n===null&&Nb(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,Eb(r,i)?o=null:s!==null&&Eb(r,s)&&(e.flags|=32),qL(n,e),mi(n,e,o,t),e.child;case 6:return n===null&&Nb(e),null;case 13:return YL(n,e,t);case 4:return K2(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=rf(e,null,r,t):mi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fs(r,i),WA(n,e,r,i,t);case 7:return mi(n,e,e.pendingProps,t),e.child;case 8:return mi(n,e,e.pendingProps.children,t),e.child;case 12:return mi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Cn(ny,r._currentValue),r._currentValue=o,s!==null)if(Qs(s.value,o)){if(s.children===i.children&&!ki.current){e=ma(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ca(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),kb(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ze(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),kb(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zd(e,t),i=As(i),r=r(i),e.flags|=1,mi(n,e,r,t),e.child;case 14:return r=e.type,i=Fs(r,e.pendingProps),i=Fs(r.type,i),HA(n,e,r,i,t);case 15:return $L(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fs(r,i),S0(n,e),e.tag=1,Ri(r)?(n=!0,J0(e)):n=!1,zd(e,t),WL(e,r,i),Lb(e,r,i,t),Ob(null,e,r,!0,n,t);case 19:return KL(n,e,t);case 22:return ZL(n,e,t)}throw Error(Ze(156,e.tag))};function hI(n,e){return BR(n,e)}function TU(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(n,e,t,r){return new TU(n,e,t,r)}function fM(n){return n=n.prototype,!(!n||!n.isReactComponent)}function CU(n){if(typeof n=="function")return fM(n)?1:0;if(n!=null){if(n=n.$$typeof,n===k2)return 11;if(n===R2)return 14}return 2}function yl(n,e){var t=n.alternate;return t===null?(t=Ts(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function T0(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")fM(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case hd:return Vc(t.children,i,s,e);case N2:o=8,i|=8;break;case rb:return n=Ts(12,t,e,i|2),n.elementType=rb,n.lanes=s,n;case ib:return n=Ts(13,t,e,i),n.elementType=ib,n.lanes=s,n;case sb:return n=Ts(19,t,e,i),n.elementType=sb,n.lanes=s,n;case SR:return ox(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _R:o=10;break e;case bR:o=9;break e;case k2:o=11;break e;case R2:o=14;break e;case qa:o=16,r=null;break e}throw Error(Ze(130,n==null?n:typeof n,""))}return e=Ts(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Vc(n,e,t,r){return n=Ts(7,n,r,e),n.lanes=t,n}function ox(n,e,t,r){return n=Ts(22,n,r,e),n.elementType=SR,n.lanes=t,n.stateNode={isHidden:!1},n}function Dw(n,e,t){return n=Ts(6,n,null,e),n.lanes=t,n}function Ow(n,e,t){return e=Ts(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function AU(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gw(0),this.expirationTimes=gw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hM(n,e,t,r,i,s,o,a,l){return n=new AU(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ts(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y2(s),n}function PU(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fd,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function pI(n){if(!n)return Sl;n=n._reactInternals;e:{if(fu(n)!==n||n.tag!==1)throw Error(Ze(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ze(171))}if(n.tag===1){var t=n.type;if(Ri(t))return pL(n,t,e)}return e}function mI(n,e,t,r,i,s,o,a,l){return n=hM(t,r,!0,n,i,s,o,a,l),n.context=pI(null),t=n.current,r=xi(),i=vl(t),s=ca(r,i),s.callback=e??null,ml(t,s,i),n.current.lanes=i,Mm(n,i,r),Li(n,r),n}function ax(n,e,t,r){var i=e.current,s=xi(),o=vl(i);return t=pI(t),e.context===null?e.context=t:e.pendingContext=t,e=ca(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ml(i,e,o),n!==null&&(qs(n,i,o,s),w0(n,i,o)),o}function fy(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function n3(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function pM(n,e){n3(n,e),(n=n.alternate)&&n3(n,e)}function NU(){return null}var gI=typeof reportError=="function"?reportError:function(n){console.error(n)};function mM(n){this._internalRoot=n}lx.prototype.render=mM.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ze(409));ax(n,e,null,null)};lx.prototype.unmount=mM.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ru(function(){ax(null,n,null,null)}),e[ha]=null}};function lx(n){this._internalRoot=n}lx.prototype.unstable_scheduleHydration=function(n){if(n){var e=ZR();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Qa.length&&e!==0&&e<Qa[t].priority;t++);Qa.splice(t,0,n),t===0&&XR(n)}};function gM(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function cx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function r3(){}function kU(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=fy(o);s.call(c)}}var o=mI(e,r,n,0,null,!1,!1,"",r3);return n._reactRootContainer=o,n[ha]=o.current,Sp(n.nodeType===8?n.parentNode:n),ru(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=fy(l);a.call(c)}}var l=hM(n,0,!1,null,null,!1,!1,"",r3);return n._reactRootContainer=l,n[ha]=l.current,Sp(n.nodeType===8?n.parentNode:n),ru(function(){ax(e,l,t,r)}),l}function ux(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fy(o);a.call(l)}}ax(e,o,n,i)}else o=kU(t,e,n,i,r);return fy(o)}GR=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Bh(e.pendingLanes);t!==0&&(D2(e,t|1),Li(e,rr()),!(sn&6)&&(af=rr()+500,Vl()))}break;case 13:ru(function(){var r=pa(n,1);if(r!==null){var i=xi();qs(r,n,1,i)}}),pM(n,1)}};O2=function(n){if(n.tag===13){var e=pa(n,134217728);if(e!==null){var t=xi();qs(e,n,134217728,t)}pM(n,134217728)}};$R=function(n){if(n.tag===13){var e=vl(n),t=pa(n,e);if(t!==null){var r=xi();qs(t,n,e,r)}pM(n,e)}};ZR=function(){return xn};qR=function(n,e){var t=xn;try{return xn=n,e()}finally{xn=t}};mb=function(n,e,t){switch(e){case"input":if(lb(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ex(r);if(!i)throw Error(Ze(90));ER(r),lb(r,i)}}}break;case"textarea":CR(n,t);break;case"select":e=t.value,e!=null&&Dd(n,!!t.multiple,e,!1)}};IR=cM;DR=ru;var RU={usingClientEntryPoint:!1,Events:[Tm,vd,ex,RR,LR,cM]},fh={findFiberByHostInstance:Ec,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LU={bundleType:fh.bundleType,version:fh.version,rendererPackageName:fh.rendererPackageName,rendererConfig:fh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=FR(n),n===null?null:n.stateNode},findFiberByHostInstance:fh.findFiberByHostInstance||NU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pv.isDisabled&&pv.supportsFiber)try{Yy=pv.inject(LU),So=pv}catch{}}is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RU;is.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gM(e))throw Error(Ze(200));return PU(n,e,null,t)};is.createRoot=function(n,e){if(!gM(n))throw Error(Ze(299));var t=!1,r="",i=gI;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hM(n,1,!1,null,null,t,!1,r,i),n[ha]=e.current,Sp(n.nodeType===8?n.parentNode:n),new mM(e)};is.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ze(188)):(n=Object.keys(n).join(","),Error(Ze(268,n)));return n=FR(e),n=n===null?null:n.stateNode,n};is.flushSync=function(n){return ru(n)};is.hydrate=function(n,e,t){if(!cx(e))throw Error(Ze(200));return ux(null,n,e,!0,t)};is.hydrateRoot=function(n,e,t){if(!gM(n))throw Error(Ze(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=gI;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=mI(e,null,n,1,t??null,i,!1,s,o),n[ha]=e.current,Sp(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new lx(e)};is.render=function(n,e,t){if(!cx(e))throw Error(Ze(200));return ux(null,n,e,!1,t)};is.unmountComponentAtNode=function(n){if(!cx(n))throw Error(Ze(40));return n._reactRootContainer?(ru(function(){ux(null,null,n,!1,function(){n._reactRootContainer=null,n[ha]=null})}),!0):!1};is.unstable_batchedUpdates=cM;is.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!cx(t))throw Error(Ze(200));if(n==null||n._reactInternals===void 0)throw Error(Ze(38));return ux(n,e,t,!1,r)};is.version="18.3.1-next-f1338f8080-20240426";function vI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vI)}catch(n){console.error(n)}}vI(),vR.exports=is;var Am=vR.exports;const yI=b2(Am);var vM,i3=Am;vM=i3.createRoot,i3.hydrateRoot;const IU=1,DU=1e6;let jw=0;function OU(){return jw=(jw+1)%Number.MAX_SAFE_INTEGER,jw.toString()}const Fw=new Map,s3=n=>{if(Fw.has(n))return;const e=setTimeout(()=>{Fw.delete(n),np({type:"REMOVE_TOAST",toastId:n})},DU);Fw.set(n,e)},jU=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,IU)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?s3(t):n.toasts.forEach(r=>{s3(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},C0=[];let A0={toasts:[]};function np(n){A0=jU(A0,n),C0.forEach(e=>{e(A0)})}function xI({...n}){const e=OU(),t=i=>np({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>np({type:"DISMISS_TOAST",toastId:e});return np({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function wI(){const[n,e]=N.useState(A0);return N.useEffect(()=>(C0.push(e),()=>{const t=C0.indexOf(e);t>-1&&C0.splice(t,1)}),[n]),{...n,toast:xI,dismiss:t=>np({type:"DISMISS_TOAST",toastId:t})}}function gn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function FU(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function _I(...n){return e=>n.forEach(t=>FU(t,e))}function Di(...n){return N.useCallback(_I(...n),n)}function zU(n,e=[]){let t=[];function r(s,o){const a=N.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:p,children:g,...v}=h,y=(p==null?void 0:p[n][l])||a,x=N.useMemo(()=>v,Object.values(v));return m.jsx(y.Provider,{value:x,children:g})}function d(h,p){const g=(p==null?void 0:p[n][l])||a,v=N.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=t.map(o=>N.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return N.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,BU(i,...e)]}function BU(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var lf=N.forwardRef((n,e)=>{const{children:t,...r}=n,i=N.Children.toArray(t),s=i.find(UU);if(s){const o=s.props.children,a=i.map(l=>l===s?N.Children.count(o)>1?N.Children.only(null):N.isValidElement(o)?o.props.children:null:l);return m.jsx(qb,{...r,ref:e,children:N.isValidElement(o)?N.cloneElement(o,void 0,a):null})}return m.jsx(qb,{...r,ref:e,children:t})});lf.displayName="Slot";var qb=N.forwardRef((n,e)=>{const{children:t,...r}=n;if(N.isValidElement(t)){const i=WU(t);return N.cloneElement(t,{...VU(r,t.props),ref:e?_I(e,i):i})}return N.Children.count(t)>1?N.Children.only(null):null});qb.displayName="SlotClone";var bI=({children:n})=>m.jsx(m.Fragment,{children:n});function UU(n){return N.isValidElement(n)&&n.type===bI}function VU(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function WU(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function yM(n){const e=n+"CollectionProvider",[t,r]=zU(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,x=Ee.useRef(null),b=Ee.useRef(new Map).current;return m.jsx(i,{scope:v,itemMap:b,collectionRef:x,children:y})};o.displayName=e;const a=n+"CollectionSlot",l=Ee.forwardRef((g,v)=>{const{scope:y,children:x}=g,b=s(a,y),_=Di(v,b.collectionRef);return m.jsx(lf,{ref:_,children:x})});l.displayName=a;const c=n+"CollectionItemSlot",d="data-radix-collection-item",h=Ee.forwardRef((g,v)=>{const{scope:y,children:x,...b}=g,_=Ee.useRef(null),S=Di(v,_),E=s(c,y);return Ee.useEffect(()=>(E.itemMap.set(_,{ref:_,...b}),()=>void E.itemMap.delete(_))),m.jsx(lf,{[d]:"",ref:S,children:x})});h.displayName=c;function p(g){const v=s(n+"CollectionConsumer",g);return Ee.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((E,C)=>b.indexOf(E.ref.current)-b.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}function Pm(n,e=[]){let t=[];function r(s,o){const a=N.createContext(o),l=t.length;t=[...t,o];const c=h=>{var b;const{scope:p,children:g,...v}=h,y=((b=p==null?void 0:p[n])==null?void 0:b[l])||a,x=N.useMemo(()=>v,Object.values(v));return m.jsx(y.Provider,{value:x,children:g})};c.displayName=s+"Provider";function d(h,p){var y;const g=((y=p==null?void 0:p[n])==null?void 0:y[l])||a,v=N.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=t.map(o=>N.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return N.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,HU(i,...e)]}function HU(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var GU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],An=GU.reduce((n,e)=>{const t=N.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?lf:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function SI(n,e){n&&Am.flushSync(()=>n.dispatchEvent(e))}function Js(n){const e=N.useRef(n);return N.useEffect(()=>{e.current=n}),N.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function $U(n,e=globalThis==null?void 0:globalThis.document){const t=Js(n);N.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var ZU="DismissableLayer",Xb="dismissableLayer.update",qU="dismissableLayer.pointerDownOutside",XU="dismissableLayer.focusOutside",o3,MI=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xM=N.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=N.useContext(MI),[d,h]=N.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=N.useState({}),v=Di(e,I=>h(I)),y=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(x),_=d?y.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,E=_>=b,C=KU(I=>{const T=I.target,k=[...c.branches].some(O=>O.contains(T));!E||k||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),P=QU(I=>{const T=I.target;[...c.branches].some(O=>O.contains(T))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return $U(I=>{_===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),N.useEffect(()=>{if(d)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(o3=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),a3(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=o3)}},[d,p,t,c]),N.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),a3())},[d,c]),N.useEffect(()=>{const I=()=>g({});return document.addEventListener(Xb,I),()=>document.removeEventListener(Xb,I)},[]),m.jsx(An.div,{...l,ref:v,style:{pointerEvents:S?E?"auto":"none":void 0,...n.style},onFocusCapture:gn(n.onFocusCapture,P.onFocusCapture),onBlurCapture:gn(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:gn(n.onPointerDownCapture,C.onPointerDownCapture)})});xM.displayName=ZU;var YU="DismissableLayerBranch",EI=N.forwardRef((n,e)=>{const t=N.useContext(MI),r=N.useRef(null),i=Di(e,r);return N.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),m.jsx(An.div,{...n,ref:i})});EI.displayName=YU;function KU(n,e=globalThis==null?void 0:globalThis.document){const t=Js(n),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){TI(qU,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function QU(n,e=globalThis==null?void 0:globalThis.document){const t=Js(n),r=N.useRef(!1);return N.useEffect(()=>{const i=s=>{s.target&&!r.current&&TI(XU,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function a3(){const n=new CustomEvent(Xb);document.dispatchEvent(n)}function TI(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?SI(i,s):i.dispatchEvent(s)}var JU=xM,eV=EI,ga=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},tV="Portal",CI=N.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=N.useState(!1);ga(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?yI.createPortal(m.jsx(An.div,{...r,ref:e}),o):null});CI.displayName=tV;function nV(n,e){return N.useReducer((t,r)=>e[t][r]??t,n)}var Nm=n=>{const{present:e,children:t}=n,r=rV(e),i=typeof t=="function"?t({present:r.isPresent}):N.Children.only(t),s=Di(r.ref,iV(i));return typeof t=="function"||r.isPresent?N.cloneElement(i,{ref:s}):null};Nm.displayName="Presence";function rV(n){const[e,t]=N.useState(),r=N.useRef({}),i=N.useRef(n),s=N.useRef("none"),o=n?"mounted":"unmounted",[a,l]=nV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const c=mv(r.current);s.current=a==="mounted"?c:"none"},[a]),ga(()=>{const c=r.current,d=i.current;if(d!==n){const p=s.current,g=mv(c);n?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),ga(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=g=>{const y=mv(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(s.current=mv(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:N.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function mv(n){return(n==null?void 0:n.animationName)||"none"}function iV(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Ef({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=sV({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=Js(t),l=N.useCallback(c=>{if(s){const h=typeof c=="function"?c(n):c;h!==n&&a(h)}else i(c)},[s,n,i,a]);return[o,l]}function sV({defaultProp:n,onChange:e}){const t=N.useState(n),[r]=t,i=N.useRef(r),s=Js(e);return N.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var oV="VisuallyHidden",dx=N.forwardRef((n,e)=>m.jsx(An.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));dx.displayName=oV;var aV=dx,wM="ToastProvider",[_M,lV,cV]=yM("Toast"),[AI,eae]=Pm("Toast",[cV]),[uV,fx]=AI(wM),PI=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=N.useState(null),[c,d]=N.useState(0),h=N.useRef(!1),p=N.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${wM}\`. Expected non-empty \`string\`.`),m.jsx(_M.Provider,{scope:e,children:m.jsx(uV,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:N.useCallback(()=>d(g=>g+1),[]),onToastRemove:N.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};PI.displayName=wM;var NI="ToastViewport",dV=["F8"],Yb="toast.viewportPause",Kb="toast.viewportResume",kI=N.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=dV,label:i="Notifications ({hotkey})",...s}=n,o=fx(NI,t),a=lV(t),l=N.useRef(null),c=N.useRef(null),d=N.useRef(null),h=N.useRef(null),p=Di(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;N.useEffect(()=>{const x=b=>{var S;r.length!==0&&r.every(E=>b[E]||b.code===E)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),N.useEffect(()=>{const x=l.current,b=h.current;if(v&&x&&b){const _=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(Yb);b.dispatchEvent(P),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(Kb);b.dispatchEvent(P),o.isClosePausedRef.current=!1}},E=P=>{!x.contains(P.relatedTarget)&&S()},C=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",_),x.addEventListener("focusout",E),x.addEventListener("pointermove",_),x.addEventListener("pointerleave",C),window.addEventListener("blur",_),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",_),x.removeEventListener("focusout",E),x.removeEventListener("pointermove",_),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",_),window.removeEventListener("focus",S)}}},[v,o.isClosePausedRef]);const y=N.useCallback(({tabbingDirection:x})=>{const _=a().map(S=>{const E=S.ref.current,C=[E,...MV(E)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?_.reverse():_).flat()},[a]);return N.useEffect(()=>{const x=h.current;if(x){const b=_=>{var C,P,I;const S=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!S){const T=document.activeElement,k=_.shiftKey;if(_.target===x&&k){(C=c.current)==null||C.focus();return}const H=y({tabbingDirection:k?"backwards":"forwards"}),V=H.findIndex(z=>z===T);zw(H.slice(V+1))?_.preventDefault():k?(P=c.current)==null||P.focus():(I=d.current)==null||I.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[a,y]),m.jsxs(eV,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&m.jsx(Qb,{ref:c,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});zw(x)}}),m.jsx(_M.Slot,{scope:t,children:m.jsx(An.ol,{tabIndex:-1,...s,ref:p})}),v&&m.jsx(Qb,{ref:d,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});zw(x)}})]})});kI.displayName=NI;var RI="ToastFocusProxy",Qb=N.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=fx(RI,t);return m.jsx(dx,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Qb.displayName=RI;var hx="Toast",fV="toast.swipeStart",hV="toast.swipeMove",pV="toast.swipeCancel",mV="toast.swipeEnd",LI=N.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a=!0,l]=Ef({prop:r,defaultProp:i,onChange:s});return m.jsx(Nm,{present:t||a,children:m.jsx(yV,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Js(n.onPause),onResume:Js(n.onResume),onSwipeStart:gn(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:gn(n.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:gn(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:gn(n.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});LI.displayName=hx;var[gV,vV]=AI(hx,{onClose(){}}),yV=N.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...v}=n,y=fx(hx,t),[x,b]=N.useState(null),_=Di(e,z=>b(z)),S=N.useRef(null),E=N.useRef(null),C=i||y.duration,P=N.useRef(0),I=N.useRef(C),T=N.useRef(0),{onToastAdd:k,onToastRemove:O}=y,U=Js(()=>{var ee;(x==null?void 0:x.contains(document.activeElement))&&((ee=y.viewport)==null||ee.focus()),o()}),H=N.useCallback(z=>{!z||z===1/0||(window.clearTimeout(T.current),P.current=new Date().getTime(),T.current=window.setTimeout(U,z))},[U]);N.useEffect(()=>{const z=y.viewport;if(z){const ee=()=>{H(I.current),c==null||c()},K=()=>{const le=new Date().getTime()-P.current;I.current=I.current-le,window.clearTimeout(T.current),l==null||l()};return z.addEventListener(Yb,K),z.addEventListener(Kb,ee),()=>{z.removeEventListener(Yb,K),z.removeEventListener(Kb,ee)}}},[y.viewport,C,l,c,H]),N.useEffect(()=>{s&&!y.isClosePausedRef.current&&H(C)},[s,C,y.isClosePausedRef,H]),N.useEffect(()=>(k(),()=>O()),[k,O]);const V=N.useMemo(()=>x?BI(x):null,[x]);return y.viewport?m.jsxs(m.Fragment,{children:[V&&m.jsx(xV,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),m.jsx(gV,{scope:t,onClose:U,children:Am.createPortal(m.jsx(_M.ItemSlot,{scope:t,children:m.jsx(JU,{asChild:!0,onEscapeKeyDown:gn(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||U(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(An.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:_,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:gn(n.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:gn(n.onPointerDown,z=>{z.button===0&&(S.current={x:z.clientX,y:z.clientY})}),onPointerMove:gn(n.onPointerMove,z=>{if(!S.current)return;const ee=z.clientX-S.current.x,K=z.clientY-S.current.y,le=!!E.current,D=["left","right"].includes(y.swipeDirection),W=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,G=D?W(0,ee):0,J=D?0:W(0,K),Z=z.pointerType==="touch"?10:2,oe={x:G,y:J},we={originalEvent:z,delta:oe};le?(E.current=oe,gv(hV,h,we,{discrete:!1})):l3(oe,y.swipeDirection,Z)?(E.current=oe,gv(fV,d,we,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(ee)>Z||Math.abs(K)>Z)&&(S.current=null)}),onPointerUp:gn(n.onPointerUp,z=>{const ee=E.current,K=z.target;if(K.hasPointerCapture(z.pointerId)&&K.releasePointerCapture(z.pointerId),E.current=null,S.current=null,ee){const le=z.currentTarget,D={originalEvent:z,delta:ee};l3(ee,y.swipeDirection,y.swipeThreshold)?gv(mV,g,D,{discrete:!0}):gv(pV,p,D,{discrete:!0}),le.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),xV=n=>{const{__scopeToast:e,children:t,...r}=n,i=fx(hx,e),[s,o]=N.useState(!1),[a,l]=N.useState(!1);return bV(()=>o(!0)),N.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:m.jsx(CI,{asChild:!0,children:m.jsx(dx,{...r,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",t]})})})},wV="ToastTitle",II=N.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return m.jsx(An.div,{...r,ref:e})});II.displayName=wV;var _V="ToastDescription",DI=N.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return m.jsx(An.div,{...r,ref:e})});DI.displayName=_V;var OI="ToastAction",jI=N.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?m.jsx(zI,{altText:t,asChild:!0,children:m.jsx(bM,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${OI}\`. Expected non-empty \`string\`.`),null)});jI.displayName=OI;var FI="ToastClose",bM=N.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=vV(FI,t);return m.jsx(zI,{asChild:!0,children:m.jsx(An.button,{type:"button",...r,ref:e,onClick:gn(n.onClick,i.onClose)})})});bM.displayName=FI;var zI=N.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return m.jsx(An.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function BI(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),SV(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...BI(r))}}),e}function gv(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?SI(i,s):i.dispatchEvent(s)}var l3=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function bV(n=()=>{}){const e=Js(n);ga(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function SV(n){return n.nodeType===n.ELEMENT_NODE}function MV(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function zw(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var EV=PI,UI=kI,VI=LI,WI=II,HI=DI,GI=jI,$I=bM;function ZI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=ZI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function qI(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=ZI(n))&&(r&&(r+=" "),r+=e);return r}const c3=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,u3=qI,SM=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return u3(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=t==null?void 0:t[c],h=s==null?void 0:s[c];if(d===null)return null;const p=c3(d)||c3(h);return i[c][p]}),a=t&&Object.entries(t).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...g}=d;return Object.entries(g).every(v=>{let[y,x]=v;return Array.isArray(x)?x.includes({...s,...a}[y]):{...s,...a}[y]===x})?[...c,h,p]:c},[]);return u3(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XI=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>N.createElement("svg",{ref:l,...CV,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:XI("lucide",i),...a},[...o.map(([c,d])=>N.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=(n,e)=>{const t=N.forwardRef(({className:r,...i},s)=>N.createElement(AV,{ref:s,iconNode:e,className:XI(`lucide-${TV(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=Qn("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Qn("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=Qn("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=Qn("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Qn("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Qn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=Qn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Qn("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=Qn("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=Qn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=Qn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=Qn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Qn("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=Qn("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=Qn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=Qn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Qn("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=Qn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=Qn("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=Qn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=Qn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Qn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),MM="-",zV=n=>{const e=UV(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(MM);return a[0]===""&&a.length!==1&&a.shift(),JI(a,e)||BV(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},JI=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?JI(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(MM);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},g3=/^\[(.+)\]$/,BV=n=>{if(g3.test(n)){const e=g3.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},UV=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return WV(Object.entries(n.classGroups),t).forEach(([s,o])=>{tS(o,r,s,e)}),r},tS=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:v3(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(VV(i)){tS(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{tS(o,v3(e,s),t,r)})})},v3=(n,e)=>{let t=n;return e.split(MM).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},VV=n=>n.isThemeGetter,WV=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,HV=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},eD="!",GV=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let x=0;x<a.length;x++){let b=a[x];if(c===0){if(b===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(d,x)),d=x+s;continue}if(b==="/"){h=x;continue}}b==="["?c++:b==="]"&&c--}const p=l.length===0?a:a.substring(d),g=p.startsWith(eD),v=g?p.substring(1):p,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return t?a=>t({className:a,parseClassName:o}):o},$V=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},ZV=n=>({cache:HV(n.cacheSize),parseClassName:GV(n),...zV(n)}),qV=/\s+/,XV=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(qV);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=t(c);let v=!!g,y=r(v?p.substring(0,g):p);if(!y){if(!v){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}v=!1}const x=$V(d).join(":"),b=h?x+eD:x,_=b+y;if(s.includes(_))continue;s.push(_);const S=i(y,v);for(let E=0;E<S.length;++E){const C=S[E];s.push(b+C)}a=c+(a.length>0?" "+a:a)}return a};function YV(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=tD(e))&&(r&&(r+=" "),r+=t);return r}const tD=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=tD(n[r]))&&(t&&(t+=" "),t+=e);return t};function KV(n,...e){let t,r,i,s=o;function o(l){const c=e.reduce((d,h)=>h(d),n());return t=ZV(c),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=XV(l,t);return i(l,d),d}return function(){return s(YV.apply(null,arguments))}}const Pn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},nD=/^\[(?:([a-z-]+):)?(.+)\]$/i,QV=/^\d+\/\d+$/,JV=new Set(["px","full","screen"]),e8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,r8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,i8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wo=n=>Ud(n)||JV.has(n)||QV.test(n),Fa=n=>Tf(n,"length",f8),Ud=n=>!!n&&!Number.isNaN(Number(n)),Bw=n=>Tf(n,"number",Ud),hh=n=>!!n&&Number.isInteger(Number(n)),s8=n=>n.endsWith("%")&&Ud(n.slice(0,-1)),Vt=n=>nD.test(n),za=n=>e8.test(n),o8=new Set(["length","size","percentage"]),a8=n=>Tf(n,o8,rD),l8=n=>Tf(n,"position",rD),c8=new Set(["image","url"]),u8=n=>Tf(n,c8,p8),d8=n=>Tf(n,"",h8),ph=()=>!0,Tf=(n,e,t)=>{const r=nD.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},f8=n=>t8.test(n)&&!n8.test(n),rD=()=>!1,h8=n=>r8.test(n),p8=n=>i8.test(n),m8=()=>{const n=Pn("colors"),e=Pn("spacing"),t=Pn("blur"),r=Pn("brightness"),i=Pn("borderColor"),s=Pn("borderRadius"),o=Pn("borderSpacing"),a=Pn("borderWidth"),l=Pn("contrast"),c=Pn("grayscale"),d=Pn("hueRotate"),h=Pn("invert"),p=Pn("gap"),g=Pn("gradientColorStops"),v=Pn("gradientColorStopPositions"),y=Pn("inset"),x=Pn("margin"),b=Pn("opacity"),_=Pn("padding"),S=Pn("saturate"),E=Pn("scale"),C=Pn("sepia"),P=Pn("skew"),I=Pn("space"),T=Pn("translate"),k=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Vt,e],H=()=>[Vt,e],V=()=>["",Wo,Fa],z=()=>["auto",Ud,Vt],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Vt],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Ud,Vt];return{cacheSize:500,separator:":",theme:{colors:[ph],spacing:[Wo,Fa],blur:["none","",za,Vt],brightness:J(),borderColor:[n],borderRadius:["none","","full",za,Vt],borderSpacing:H(),borderWidth:V(),contrast:J(),grayscale:W(),hueRotate:J(),invert:W(),gap:H(),gradientColorStops:[n],gradientColorStopPositions:[s8,Fa],inset:U(),margin:U(),opacity:J(),padding:H(),saturate:J(),scale:J(),sepia:W(),skew:J(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",Vt]}],container:["container"],columns:[{columns:[za]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),Vt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hh,Vt]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Vt]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",hh,Vt]}],"grid-cols":[{"grid-cols":[ph]}],"col-start-end":[{col:["auto",{span:["full",hh,Vt]},Vt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[ph]}],"row-start-end":[{row:["auto",{span:[hh,Vt]},Vt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Vt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Vt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Vt,e]}],"min-w":[{"min-w":[Vt,e,"min","max","fit"]}],"max-w":[{"max-w":[Vt,e,"none","full","min","max","fit","prose",{screen:[za]},za]}],h:[{h:[Vt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Vt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Vt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Vt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",za,Fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bw]}],"font-family":[{font:[ph]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Vt]}],"line-clamp":[{"line-clamp":["none",Ud,Bw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wo,Vt]}],"list-image":[{"list-image":["none",Vt]}],"list-style-type":[{list:["none","disc","decimal",Vt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wo,Fa]}],"underline-offset":[{"underline-offset":["auto",Wo,Vt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),l8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",a8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},u8]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Wo,Vt]}],"outline-w":[{outline:[Wo,Fa]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Wo,Fa]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",za,d8]}],"shadow-color":[{shadow:[ph]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",za,Vt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Vt]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Vt]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Vt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[hh,Vt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Vt]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Vt]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Vt]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Wo,Fa,Bw]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},g8=KV(m8);function ar(...n){return g8(qI(n))}const v8=EV,iD=N.forwardRef(({className:n,...e},t)=>m.jsx(UI,{ref:t,className:ar("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));iD.displayName=UI.displayName;const y8=SM("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sD=N.forwardRef(({className:n,variant:e,...t},r)=>m.jsx(VI,{ref:r,className:ar(y8({variant:e}),n),...t}));sD.displayName=VI.displayName;const x8=N.forwardRef(({className:n,...e},t)=>m.jsx(GI,{ref:t,className:ar("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));x8.displayName=GI.displayName;const oD=N.forwardRef(({className:n,...e},t)=>m.jsx($I,{ref:t,className:ar("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:m.jsx(QI,{className:"h-4 w-4"})}));oD.displayName=$I.displayName;const aD=N.forwardRef(({className:n,...e},t)=>m.jsx(WI,{ref:t,className:ar("text-sm font-semibold",n),...e}));aD.displayName=WI.displayName;const lD=N.forwardRef(({className:n,...e},t)=>m.jsx(HI,{ref:t,className:ar("text-sm opacity-90",n),...e}));lD.displayName=HI.displayName;function w8(){const{toasts:n}=wI();return m.jsxs(v8,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return m.jsxs(sD,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[t&&m.jsx(aD,{children:t}),r&&m.jsx(lD,{children:r})]}),i,m.jsx(oD,{})]},e)}),m.jsx(iD,{})]})}var y3=["light","dark"],_8="(prefers-color-scheme: dark)",b8=N.createContext(void 0),S8={setTheme:n=>{},themes:[]},M8=()=>{var n;return(n=N.useContext(b8))!=null?n:S8};N.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=i?y3.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,y=!1,x=!0)=>{let b=o?o[v]:v,_=y?v+"|| ''":`'${b}'`,S="";return i&&x&&!y&&y3.includes(v)&&(S+=`d.style.colorScheme = '${v}';`),t==="class"?y||b?S+=`c.add(${_})`:S+="null":b&&(S+=`d[s](n,${_})`),S},g=n?`!function(){${d}${p(n)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${_8}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${h}}catch(t){}}();`;return N.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var E8=n=>{switch(n){case"success":return A8;case"info":return N8;case"warning":return P8;case"error":return k8;default:return null}},T8=Array(12).fill(0),C8=({visible:n})=>Ee.createElement("div",{className:"sonner-loading-wrapper","data-visible":n},Ee.createElement("div",{className:"sonner-spinner"},T8.map((e,t)=>Ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),A8=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),P8=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),N8=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),k8=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),R8=()=>{let[n,e]=Ee.useState(document.hidden);return Ee.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},nS=1,L8=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,i=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:nS++,s=this.toasts.find(a=>a.id===i),o=n.dismissible===void 0?!0:n.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...n,id:i,title:t}),{...a,...n,id:i,dismissible:o,title:t}):a):this.addToast({title:t,...r,dismissible:o,id:i}),i},this.dismiss=n=>(n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),i=t!==void 0;return r.then(async s=>{if(D8(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:t,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:t,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:t,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(t),t=void 0),(s=e.finally)==null||s.call(e)}),t},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||nS++;return this.create({jsx:n(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},$i=new L8,I8=(n,e)=>{let t=(e==null?void 0:e.id)||nS++;return $i.addToast({title:n,...e,id:t}),t},D8=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",O8=I8,j8=()=>$i.toasts;Object.assign(O8,{success:$i.success,info:$i.info,warning:$i.warning,error:$i.error,custom:$i.custom,message:$i.message,promise:$i.promise,dismiss:$i.dismiss,loading:$i.loading},{getHistory:j8});function F8(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}F8(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vv(n){return n.label!==void 0}var z8=3,B8="32px",U8=4e3,V8=356,W8=14,H8=20,G8=200;function $8(...n){return n.filter(Boolean).join(" ")}var Z8=n=>{var e,t,r,i,s,o,a,l,c,d;let{invert:h,toast:p,unstyled:g,interacting:v,setHeights:y,visibleToasts:x,heights:b,index:_,toasts:S,expanded:E,removeToast:C,defaultRichColors:P,closeButton:I,style:T,cancelButtonStyle:k,actionButtonStyle:O,className:U="",descriptionClassName:H="",duration:V,position:z,gap:ee,loadingIcon:K,expandByDefault:le,classNames:D,icons:W,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:J,cn:Z}=n,[oe,we]=Ee.useState(!1),[Ae,re]=Ee.useState(!1),[Ve,Ge]=Ee.useState(!1),[et,De]=Ee.useState(!1),[He,be]=Ee.useState(0),[ye,Ue]=Ee.useState(0),it=Ee.useRef(null),qe=Ee.useRef(null),wt=_===0,X=_+1<=x,ie=p.type,fe=p.dismissible!==!1,Fe=p.className||"",B=p.descriptionClassName||"",j=Ee.useMemo(()=>b.findIndex(Ce=>Ce.toastId===p.id)||0,[b,p.id]),ae=Ee.useMemo(()=>{var Ce;return(Ce=p.closeButton)!=null?Ce:I},[p.closeButton,I]),_e=Ee.useMemo(()=>p.duration||V||U8,[p.duration,V]),Oe=Ee.useRef(0),je=Ee.useRef(0),pt=Ee.useRef(0),Je=Ee.useRef(null),[Te,mt]=z.split("-"),St=Ee.useMemo(()=>b.reduce((Ce,te,ne)=>ne>=j?Ce:Ce+te.height,0),[b,j]),ot=R8(),at=p.invert||h,dt=ie==="loading";je.current=Ee.useMemo(()=>j*ee+St,[j,St]),Ee.useEffect(()=>{we(!0)},[]),Ee.useLayoutEffect(()=>{if(!oe)return;let Ce=qe.current,te=Ce.style.height;Ce.style.height="auto";let ne=Ce.getBoundingClientRect().height;Ce.style.height=te,Ue(ne),y(Re=>Re.find(Ye=>Ye.toastId===p.id)?Re.map(Ye=>Ye.toastId===p.id?{...Ye,height:ne}:Ye):[{toastId:p.id,height:ne,position:p.position},...Re])},[oe,p.title,p.description,y,p.id]);let se=Ee.useCallback(()=>{re(!0),be(je.current),y(Ce=>Ce.filter(te=>te.toastId!==p.id)),setTimeout(()=>{C(p)},G8)},[p,C,y,je]);Ee.useEffect(()=>{if(p.promise&&ie==="loading"||p.duration===1/0||p.type==="loading")return;let Ce,te=_e;return E||v||J&&ot?(()=>{if(pt.current<Oe.current){let ne=new Date().getTime()-Oe.current;te=te-ne}pt.current=new Date().getTime()})():te!==1/0&&(Oe.current=new Date().getTime(),Ce=setTimeout(()=>{var ne;(ne=p.onAutoClose)==null||ne.call(p,p),se()},te)),()=>clearTimeout(Ce)},[E,v,le,p,_e,se,p.promise,ie,J,ot]),Ee.useEffect(()=>{let Ce=qe.current;if(Ce){let te=Ce.getBoundingClientRect().height;return Ue(te),y(ne=>[{toastId:p.id,height:te,position:p.position},...ne]),()=>y(ne=>ne.filter(Re=>Re.toastId!==p.id))}},[y,p.id]),Ee.useEffect(()=>{p.delete&&se()},[se,p.delete]);function Ne(){return W!=null&&W.loading?Ee.createElement("div",{className:"sonner-loader","data-visible":ie==="loading"},W.loading):K?Ee.createElement("div",{className:"sonner-loader","data-visible":ie==="loading"},K):Ee.createElement(C8,{visible:ie==="loading"})}return Ee.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:qe,className:Z(U,Fe,D==null?void 0:D.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[ie],(t=p==null?void 0:p.classNames)==null?void 0:t[ie]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:P,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":oe,"data-promise":!!p.promise,"data-removed":Ae,"data-visible":X,"data-y-position":Te,"data-x-position":mt,"data-index":_,"data-front":wt,"data-swiping":Ve,"data-dismissible":fe,"data-type":ie,"data-invert":at,"data-swipe-out":et,"data-expanded":!!(E||le&&oe),style:{"--index":_,"--toasts-before":_,"--z-index":S.length-_,"--offset":`${Ae?He:je.current}px`,"--initial-height":le?"auto":`${ye}px`,...T,...p.style},onPointerDown:Ce=>{dt||!fe||(it.current=new Date,be(je.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(Ge(!0),Je.current={x:Ce.clientX,y:Ce.clientY}))},onPointerUp:()=>{var Ce,te,ne,Re;if(et||!fe)return;Je.current=null;let Ye=Number(((Ce=qe.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount").replace("px",""))||0),gt=new Date().getTime()-((te=it.current)==null?void 0:te.getTime()),Wt=Math.abs(Ye)/gt;if(Math.abs(Ye)>=H8||Wt>.11){be(je.current),(ne=p.onDismiss)==null||ne.call(p,p),se(),De(!0);return}(Re=qe.current)==null||Re.style.setProperty("--swipe-amount","0px"),Ge(!1)},onPointerMove:Ce=>{var te;if(!Je.current||!fe)return;let ne=Ce.clientY-Je.current.y,Re=Ce.clientX-Je.current.x,Ye=(Te==="top"?Math.min:Math.max)(0,ne),gt=Ce.pointerType==="touch"?10:2;Math.abs(Ye)>gt?(te=qe.current)==null||te.style.setProperty("--swipe-amount",`${ne}px`):Math.abs(Re)>gt&&(Je.current=null)}},ae&&!p.jsx?Ee.createElement("button",{"aria-label":G,"data-disabled":dt,"data-close-button":!0,onClick:dt||!fe?()=>{}:()=>{var Ce;se(),(Ce=p.onDismiss)==null||Ce.call(p,p)},className:Z(D==null?void 0:D.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||Ee.isValidElement(p.title)?p.jsx||p.title:Ee.createElement(Ee.Fragment,null,ie||p.icon||p.promise?Ee.createElement("div",{"data-icon":"",className:Z(D==null?void 0:D.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ne():null,p.type!=="loading"?p.icon||(W==null?void 0:W[ie])||E8(ie):null):null,Ee.createElement("div",{"data-content":"",className:Z(D==null?void 0:D.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},Ee.createElement("div",{"data-title":"",className:Z(D==null?void 0:D.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?Ee.createElement("div",{"data-description":"",className:Z(H,B,D==null?void 0:D.description,(l=p==null?void 0:p.classNames)==null?void 0:l.description)},p.description):null),Ee.isValidElement(p.cancel)?p.cancel:p.cancel&&vv(p.cancel)?Ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:Ce=>{var te,ne;vv(p.cancel)&&fe&&((ne=(te=p.cancel).onClick)==null||ne.call(te,Ce),se())},className:Z(D==null?void 0:D.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,Ee.isValidElement(p.action)?p.action:p.action&&vv(p.action)?Ee.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||O,onClick:Ce=>{var te,ne;vv(p.action)&&(Ce.defaultPrevented||((ne=(te=p.action).onClick)==null||ne.call(te,Ce),se()))},className:Z(D==null?void 0:D.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function x3(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var q8=n=>{let{invert:e,position:t="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:h,visibleToasts:p=z8,toastOptions:g,dir:v=x3(),gap:y=W8,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S,cn:E=$8}=n,[C,P]=Ee.useState([]),I=Ee.useMemo(()=>Array.from(new Set([t].concat(C.filter(J=>J.position).map(J=>J.position)))),[C,t]),[T,k]=Ee.useState([]),[O,U]=Ee.useState(!1),[H,V]=Ee.useState(!1),[z,ee]=Ee.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=Ee.useRef(null),le=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=Ee.useRef(null),W=Ee.useRef(!1),G=Ee.useCallback(J=>{var Z;(Z=C.find(oe=>oe.id===J.id))!=null&&Z.delete||$i.dismiss(J.id),P(oe=>oe.filter(({id:we})=>we!==J.id))},[C]);return Ee.useEffect(()=>$i.subscribe(J=>{if(J.dismiss){P(Z=>Z.map(oe=>oe.id===J.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{yI.flushSync(()=>{P(Z=>{let oe=Z.findIndex(we=>we.id===J.id);return oe!==-1?[...Z.slice(0,oe),{...Z[oe],...J},...Z.slice(oe+1)]:[J,...Z]})})})}),[]),Ee.useEffect(()=>{if(l!=="system"){ee(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:J})=>{ee(J?"dark":"light")})},[l]),Ee.useEffect(()=>{C.length<=1&&U(!1)},[C]),Ee.useEffect(()=>{let J=Z=>{var oe,we;r.every(Ae=>Z[Ae]||Z.code===Ae)&&(U(!0),(oe=K.current)==null||oe.focus()),Z.code==="Escape"&&(document.activeElement===K.current||(we=K.current)!=null&&we.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[r]),Ee.useEffect(()=>{if(K.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,W.current=!1)}},[K.current]),C.length?Ee.createElement("section",{"aria-label":`${_} ${le}`,tabIndex:-1},I.map((J,Z)=>{var oe;let[we,Ae]=J.split("-");return Ee.createElement("ol",{key:J,dir:v==="auto"?x3():v,tabIndex:-1,ref:K,className:o,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":we,"data-x-position":Ae,style:{"--front-toast-height":`${((oe=T[0])==null?void 0:oe.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||B8,"--width":`${V8}px`,"--gap":`${y}px`,...h},onBlur:re=>{W.current&&!re.currentTarget.contains(re.relatedTarget)&&(W.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||W.current||(W.current=!0,D.current=re.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{H||U(!1)},onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},C.filter(re=>!re.position&&Z===0||re.position===J).map((re,Ve)=>{var Ge,et;return Ee.createElement(Z8,{key:re.id,icons:b,index:Ve,toast:re,defaultRichColors:c,duration:(Ge=g==null?void 0:g.duration)!=null?Ge:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:p,closeButton:(et=g==null?void 0:g.closeButton)!=null?et:s,interacting:H,position:J,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:G,toasts:C.filter(De=>De.position==re.position),heights:T.filter(De=>De.position==re.position),setHeights:k,expandByDefault:i,gap:y,loadingIcon:x,expanded:O,pauseWhenPageIsHidden:S,cn:E})}))})):null};const X8=({...n})=>{const{theme:e="system"}=M8();return m.jsx(q8,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var Y8=mR.useId||(()=>{}),K8=0;function px(n){const[e,t]=N.useState(Y8());return ga(()=>{t(r=>r??String(K8++))},[n]),e?`radix-${e}`:""}const Q8=["top","right","bottom","left"],Ml=Math.min,qi=Math.max,py=Math.round,yv=Math.floor,El=n=>({x:n,y:n}),J8={left:"right",right:"left",bottom:"top",top:"bottom"},eW={start:"end",end:"start"};function rS(n,e,t){return qi(n,Ml(e,t))}function va(n,e){return typeof n=="function"?n(e):n}function ya(n){return n.split("-")[0]}function Cf(n){return n.split("-")[1]}function EM(n){return n==="x"?"y":"x"}function TM(n){return n==="y"?"height":"width"}function Tl(n){return["top","bottom"].includes(ya(n))?"y":"x"}function CM(n){return EM(Tl(n))}function tW(n,e,t){t===void 0&&(t=!1);const r=Cf(n),i=CM(n),s=TM(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=my(o)),[o,my(o)]}function nW(n){const e=my(n);return[iS(n),e,iS(e)]}function iS(n){return n.replace(/start|end/g,e=>eW[e])}function rW(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function iW(n,e,t,r){const i=Cf(n);let s=rW(ya(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(iS)))),s}function my(n){return n.replace(/left|right|bottom|top/g,e=>J8[e])}function sW(n){return{top:0,right:0,bottom:0,left:0,...n}}function cD(n){return typeof n!="number"?sW(n):{top:n,right:n,bottom:n,left:n}}function gy(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function w3(n,e,t){let{reference:r,floating:i}=n;const s=Tl(e),o=CM(e),a=TM(o),l=ya(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Cf(e)){case"start":g[o]-=p*(t&&c?-1:1);break;case"end":g[o]+=p*(t&&c?-1:1);break}return g}const oW=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:h}=w3(c,r,l),p=r,g={},v=0;for(let y=0;y<a.length;y++){const{name:x,fn:b}=a[y],{x:_,y:S,data:E,reset:C}=await b({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:n,floating:e}});d=_??d,h=S??h,g={...g,[x]:{...g[x],...E}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):C.rects),{x:d,y:h}=w3(c,p,l)),y=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:g}};async function Rp(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=va(e,n),v=cD(g),x=a[p?h==="floating"?"reference":"floating":h],b=gy(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},C=gy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:S,strategy:l}):_);return{top:(b.top-C.top+v.top)/E.y,bottom:(C.bottom-b.bottom+v.bottom)/E.y,left:(b.left-C.left+v.left)/E.x,right:(C.right-b.right+v.right)/E.x}}const aW=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=va(n,e)||{};if(c==null)return{};const h=cD(d),p={x:t,y:r},g=CM(i),v=TM(g),y=await o.getDimensions(c),x=g==="y",b=x?"top":"left",_=x?"bottom":"right",S=x?"clientHeight":"clientWidth",E=s.reference[v]+s.reference[g]-p[g]-s.floating[v],C=p[g]-s.reference[g],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=P?P[S]:0;(!I||!await(o.isElement==null?void 0:o.isElement(P)))&&(I=a.floating[S]||s.floating[v]);const T=E/2-C/2,k=I/2-y[v]/2-1,O=Ml(h[b],k),U=Ml(h[_],k),H=O,V=I-y[v]-U,z=I/2-y[v]/2+T,ee=rS(H,z,V),K=!l.arrow&&Cf(i)!=null&&z!==ee&&s.reference[v]/2-(z<H?O:U)-y[v]/2<0,le=K?z<H?z-H:z-V:0;return{[g]:p[g]+le,data:{[g]:ee,centerOffset:z-ee-le,...K&&{alignmentOffset:le}},reset:K}}}),lW=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...x}=va(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const b=ya(i),_=Tl(a),S=ya(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=p||(S||!y?[my(a)]:nW(a)),P=v!=="none";!p&&P&&C.push(...iW(a,y,v,E));const I=[a,...C],T=await Rp(e,x),k=[];let O=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&k.push(T[b]),h){const z=tW(i,o,E);k.push(T[z[0]],T[z[1]])}if(O=[...O,{placement:i,overflows:k}],!k.every(z=>z<=0)){var U,H;const z=(((U=s.flip)==null?void 0:U.index)||0)+1,ee=I[z];if(ee)return{data:{index:z,overflows:O},reset:{placement:ee}};let K=(H=O.filter(le=>le.overflows[0]<=0).sort((le,D)=>le.overflows[1]-D.overflows[1])[0])==null?void 0:H.placement;if(!K)switch(g){case"bestFit":{var V;const le=(V=O.filter(D=>{if(P){const W=Tl(D.placement);return W===_||W==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(W=>W>0).reduce((W,G)=>W+G,0)]).sort((D,W)=>D[1]-W[1])[0])==null?void 0:V[0];le&&(K=le);break}case"initialPlacement":K=a;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function _3(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function b3(n){return Q8.some(e=>n[e]>=0)}const cW=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=va(n,e);switch(r){case"referenceHidden":{const s=await Rp(e,{...i,elementContext:"reference"}),o=_3(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:b3(o)}}}case"escaped":{const s=await Rp(e,{...i,altBoundary:!0}),o=_3(s,t.floating);return{data:{escapedOffsets:o,escaped:b3(o)}}}default:return{}}}}};async function uW(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ya(t),a=Cf(t),l=Tl(t)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=va(e,n);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const dW=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await uW(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},fW=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:b,y:_}=x;return{x:b,y:_}}},...l}=va(n,e),c={x:t,y:r},d=await Rp(e,l),h=Tl(ya(i)),p=EM(h);let g=c[p],v=c[h];if(s){const x=p==="y"?"top":"left",b=p==="y"?"bottom":"right",_=g+d[x],S=g-d[b];g=rS(_,g,S)}if(o){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",_=v+d[x],S=v-d[b];v=rS(_,v,S)}const y=a.fn({...e,[p]:g,[h]:v});return{...y,data:{x:y.x-t,y:y.y-r,enabled:{[p]:s,[h]:o}}}}}},hW=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=va(n,e),d={x:t,y:r},h=Tl(i),p=EM(h);let g=d[p],v=d[h];const y=va(a,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const S=p==="y"?"height":"width",E=s.reference[p]-s.floating[S]+x.mainAxis,C=s.reference[p]+s.reference[S]-x.mainAxis;g<E?g=E:g>C&&(g=C)}if(c){var b,_;const S=p==="y"?"width":"height",E=["top","left"].includes(ya(i)),C=s.reference[h]-s.floating[S]+(E&&((b=o.offset)==null?void 0:b[h])||0)+(E?0:x.crossAxis),P=s.reference[h]+s.reference[S]+(E?0:((_=o.offset)==null?void 0:_[h])||0)-(E?x.crossAxis:0);v<C?v=C:v>P&&(v=P)}return{[p]:g,[h]:v}}}},pW=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=va(n,e),d=await Rp(e,c),h=ya(i),p=Cf(i),g=Tl(i)==="y",{width:v,height:y}=s.floating;let x,b;h==="top"||h==="bottom"?(x=h,b=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=h,x=p==="end"?"top":"bottom");const _=y-d.top-d.bottom,S=v-d.left-d.right,E=Ml(y-d[x],_),C=Ml(v-d[b],S),P=!e.middlewareData.shift;let I=E,T=C;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=_),P&&!p){const O=qi(d.left,0),U=qi(d.right,0),H=qi(d.top,0),V=qi(d.bottom,0);g?T=v-2*(O!==0||U!==0?O+U:qi(d.left,d.right)):I=y-2*(H!==0||V!==0?H+V:qi(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:I});const k=await o.getDimensions(a.floating);return v!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}};function mx(){return typeof window<"u"}function Af(n){return uD(n)?(n.nodeName||"").toLowerCase():"#document"}function Ki(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Lo(n){var e;return(e=(uD(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function uD(n){return mx()?n instanceof Node||n instanceof Ki(n).Node:!1}function eo(n){return mx()?n instanceof Element||n instanceof Ki(n).Element:!1}function Po(n){return mx()?n instanceof HTMLElement||n instanceof Ki(n).HTMLElement:!1}function S3(n){return!mx()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ki(n).ShadowRoot}function km(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=to(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function mW(n){return["table","td","th"].includes(Af(n))}function gx(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function AM(n){const e=PM(),t=eo(n)?to(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function gW(n){let e=Cl(n);for(;Po(e)&&!cf(e);){if(AM(e))return e;if(gx(e))return null;e=Cl(e)}return null}function PM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cf(n){return["html","body","#document"].includes(Af(n))}function to(n){return Ki(n).getComputedStyle(n)}function vx(n){return eo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Cl(n){if(Af(n)==="html")return n;const e=n.assignedSlot||n.parentNode||S3(n)&&n.host||Lo(n);return S3(e)?e.host:e}function dD(n){const e=Cl(n);return cf(e)?n.ownerDocument?n.ownerDocument.body:n.body:Po(e)&&km(e)?e:dD(e)}function Lp(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=dD(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Ki(i);if(s){const a=sS(o);return e.concat(o,o.visualViewport||[],km(i)?i:[],a&&t?Lp(a):[])}return e.concat(i,Lp(i,[],t))}function sS(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function fD(n){const e=to(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Po(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=py(t)!==s||py(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function NM(n){return eo(n)?n:n.contextElement}function Vd(n){const e=NM(n);if(!Po(e))return El(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=fD(e);let o=(s?py(t.width):t.width)/r,a=(s?py(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const vW=El(0);function hD(n){const e=Ki(n);return!PM()||!e.visualViewport?vW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yW(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ki(n)?!1:e}function iu(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=NM(n);let o=El(1);e&&(r?eo(r)&&(o=Vd(r)):o=Vd(n));const a=yW(s,t,r)?hD(s):El(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const p=Ki(s),g=r&&eo(r)?Ki(r):r;let v=p,y=sS(v);for(;y&&r&&g!==v;){const x=Vd(y),b=y.getBoundingClientRect(),_=to(y),S=b.left+(y.clientLeft+parseFloat(_.paddingLeft))*x.x,E=b.top+(y.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,h*=x.y,l+=S,c+=E,v=Ki(y),y=sS(v)}}return gy({width:d,height:h,x:l,y:c})}function xW(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Lo(r),a=e?gx(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=El(1);const d=El(0),h=Po(r);if((h||!h&&!s)&&((Af(r)!=="body"||km(o))&&(l=vx(r)),Po(r))){const p=iu(r);c=Vd(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+d.x,y:t.y*c.y-l.scrollTop*c.y+d.y}}function wW(n){return Array.from(n.getClientRects())}function oS(n,e){const t=vx(n).scrollLeft;return e?e.left+t:iu(Lo(n)).left+t}function _W(n){const e=Lo(n),t=vx(n),r=n.ownerDocument.body,i=qi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=qi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+oS(n);const a=-t.scrollTop;return to(r).direction==="rtl"&&(o+=qi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function bW(n,e){const t=Ki(n),r=Lo(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=PM();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function SW(n,e){const t=iu(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Po(n)?Vd(n):El(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function M3(n,e,t){let r;if(e==="viewport")r=bW(n,t);else if(e==="document")r=_W(Lo(n));else if(eo(e))r=SW(e,t);else{const i=hD(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return gy(r)}function pD(n,e){const t=Cl(n);return t===e||!eo(t)||cf(t)?!1:to(t).position==="fixed"||pD(t,e)}function MW(n,e){const t=e.get(n);if(t)return t;let r=Lp(n,[],!1).filter(a=>eo(a)&&Af(a)!=="body"),i=null;const s=to(n).position==="fixed";let o=s?Cl(n):n;for(;eo(o)&&!cf(o);){const a=to(o),l=AM(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||km(o)&&!l&&pD(n,o))?r=r.filter(d=>d!==o):i=a,o=Cl(o)}return e.set(n,r),r}function EW(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?gx(e)?[]:MW(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,d)=>{const h=M3(e,d,i);return c.top=qi(h.top,c.top),c.right=Ml(h.right,c.right),c.bottom=Ml(h.bottom,c.bottom),c.left=qi(h.left,c.left),c},M3(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function TW(n){const{width:e,height:t}=fD(n);return{width:e,height:t}}function CW(n,e,t){const r=Po(e),i=Lo(e),s=t==="fixed",o=iu(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=El(0);if(r||!r&&!s)if((Af(e)!=="body"||km(i))&&(a=vx(e)),r){const g=iu(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=oS(i));let c=0,d=0;if(i&&!r&&!s){const g=i.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-oS(i,g)}const h=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-d;return{x:h,y:p,width:o.width,height:o.height}}function Uw(n){return to(n).position==="static"}function E3(n,e){if(!Po(n)||to(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Lo(n)===t&&(t=t.ownerDocument.body),t}function mD(n,e){const t=Ki(n);if(gx(n))return t;if(!Po(n)){let i=Cl(n);for(;i&&!cf(i);){if(eo(i)&&!Uw(i))return i;i=Cl(i)}return t}let r=E3(n,e);for(;r&&mW(r)&&Uw(r);)r=E3(r,e);return r&&cf(r)&&Uw(r)&&!AM(r)?t:r||gW(n)||t}const AW=async function(n){const e=this.getOffsetParent||mD,t=this.getDimensions,r=await t(n.floating);return{reference:CW(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function PW(n){return to(n).direction==="rtl"}const NW={convertOffsetParentRelativeRectToViewportRelativeRect:xW,getDocumentElement:Lo,getClippingRect:EW,getOffsetParent:mD,getElementRects:AW,getClientRects:wW,getDimensions:TW,getScale:Vd,isElement:eo,isRTL:PW};function kW(n,e){let t=null,r;const i=Lo(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:h,height:p}=n.getBoundingClientRect();if(a||e(),!h||!p)return;const g=yv(d),v=yv(i.clientWidth-(c+h)),y=yv(i.clientHeight-(d+p)),x=yv(c),_={rootMargin:-g+"px "+-v+"px "+-y+"px "+-x+"px",threshold:qi(0,Ml(1,l))||1};let S=!0;function E(C){const P=C[0].intersectionRatio;if(P!==l){if(!S)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{t=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{t=new IntersectionObserver(E,_)}t.observe(n)}return o(!0),s}function RW(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=NM(n),d=i||s?[...c?Lp(c):[],...Lp(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",t,{passive:!0}),s&&b.addEventListener("resize",t)});const h=c&&a?kW(c,t):null;let p=-1,g=null;o&&(g=new ResizeObserver(b=>{let[_]=b;_&&_.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),t()}),c&&!l&&g.observe(c),g.observe(e));let v,y=l?iu(n):null;l&&x();function x(){const b=iu(n);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&t(),y=b,v=requestAnimationFrame(x)}return t(),()=>{var b;d.forEach(_=>{i&&_.removeEventListener("scroll",t),s&&_.removeEventListener("resize",t)}),h==null||h(),(b=g)==null||b.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const LW=dW,IW=fW,DW=lW,OW=pW,jW=cW,T3=aW,FW=hW,zW=(n,e,t)=>{const r=new Map,i={platform:NW,...t},s={...i.platform,_c:r};return oW(n,e,{...i,platform:s})};var P0=typeof document<"u"?N.useLayoutEffect:N.useEffect;function vy(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!vy(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!vy(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function gD(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function C3(n,e){const t=gD(n);return Math.round(e*t)/t}function Vw(n){const e=N.useRef(n);return P0(()=>{e.current=n}),e}function BW(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[d,h]=N.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=N.useState(r);vy(p,r)||g(r);const[v,y]=N.useState(null),[x,b]=N.useState(null),_=N.useCallback(D=>{D!==P.current&&(P.current=D,y(D))},[]),S=N.useCallback(D=>{D!==I.current&&(I.current=D,b(D))},[]),E=s||v,C=o||x,P=N.useRef(null),I=N.useRef(null),T=N.useRef(d),k=l!=null,O=Vw(l),U=Vw(i),H=Vw(c),V=N.useCallback(()=>{if(!P.current||!I.current)return;const D={placement:e,strategy:t,middleware:p};U.current&&(D.platform=U.current),zW(P.current,I.current,D).then(W=>{const G={...W,isPositioned:H.current!==!1};z.current&&!vy(T.current,G)&&(T.current=G,Am.flushSync(()=>{h(G)}))})},[p,e,t,U,H]);P0(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[c]);const z=N.useRef(!1);P0(()=>(z.current=!0,()=>{z.current=!1}),[]),P0(()=>{if(E&&(P.current=E),C&&(I.current=C),E&&C){if(O.current)return O.current(E,C,V);V()}},[E,C,V,O,k]);const ee=N.useMemo(()=>({reference:P,floating:I,setReference:_,setFloating:S}),[_,S]),K=N.useMemo(()=>({reference:E,floating:C}),[E,C]),le=N.useMemo(()=>{const D={position:t,left:0,top:0};if(!K.floating)return D;const W=C3(K.floating,d.x),G=C3(K.floating,d.y);return a?{...D,transform:"translate("+W+"px, "+G+"px)",...gD(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:W,top:G}},[t,a,K.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:V,refs:ee,elements:K,floatingStyles:le}),[d,V,ee,K,le])}const UW=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?T3({element:r.current,padding:i}).fn(t):{}:r?T3({element:r,padding:i}).fn(t):{}}}},VW=(n,e)=>({...LW(n),options:[n,e]}),WW=(n,e)=>({...IW(n),options:[n,e]}),HW=(n,e)=>({...FW(n),options:[n,e]}),GW=(n,e)=>({...DW(n),options:[n,e]}),$W=(n,e)=>({...OW(n),options:[n,e]}),ZW=(n,e)=>({...jW(n),options:[n,e]}),qW=(n,e)=>({...UW(n),options:[n,e]});var XW="Arrow",vD=N.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return m.jsx(An.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});vD.displayName=XW;var YW=vD;function KW(n,e=[]){let t=[];function r(s,o){const a=N.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:p,children:g,...v}=h,y=(p==null?void 0:p[n][l])||a,x=N.useMemo(()=>v,Object.values(v));return m.jsx(y.Provider,{value:x,children:g})}function d(h,p){const g=(p==null?void 0:p[n][l])||a,v=N.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=t.map(o=>N.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return N.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,QW(i,...e)]}function QW(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function JW(n){const[e,t]=N.useState(void 0);return ga(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var yD="Popper",[xD,wD]=KW(yD),[tae,_D]=xD(yD),bD="PopperAnchor",SD=N.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=_D(bD,t),o=N.useRef(null),a=Di(e,o);return N.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(An.div,{...i,ref:a})});SD.displayName=bD;var kM="PopperContent",[eH,tH]=xD(kM),MD=N.forwardRef((n,e)=>{var Ve,Ge,et,De,He,be;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=n,x=_D(kM,t),[b,_]=N.useState(null),S=Di(e,ye=>_(ye)),[E,C]=N.useState(null),P=JW(E),I=(P==null?void 0:P.width)??0,T=(P==null?void 0:P.height)??0,k=r+(s!=="center"?"-"+s:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},U=Array.isArray(c)?c:[c],H=U.length>0,V={padding:O,boundary:U.filter(rH),altBoundary:H},{refs:z,floatingStyles:ee,placement:K,isPositioned:le,middlewareData:D}=BW({strategy:"fixed",placement:k,whileElementsMounted:(...ye)=>RW(...ye,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[VW({mainAxis:i+T,alignmentAxis:o}),l&&WW({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?HW():void 0,...V}),l&&GW({...V}),$W({...V,apply:({elements:ye,rects:Ue,availableWidth:it,availableHeight:qe})=>{const{width:wt,height:X}=Ue.reference,ie=ye.floating.style;ie.setProperty("--radix-popper-available-width",`${it}px`),ie.setProperty("--radix-popper-available-height",`${qe}px`),ie.setProperty("--radix-popper-anchor-width",`${wt}px`),ie.setProperty("--radix-popper-anchor-height",`${X}px`)}}),E&&qW({element:E,padding:a}),iH({arrowWidth:I,arrowHeight:T}),p&&ZW({strategy:"referenceHidden",...V})]}),[W,G]=CD(K),J=Js(v);ga(()=>{le&&(J==null||J())},[le,J]);const Z=(Ve=D.arrow)==null?void 0:Ve.x,oe=(Ge=D.arrow)==null?void 0:Ge.y,we=((et=D.arrow)==null?void 0:et.centerOffset)!==0,[Ae,re]=N.useState();return ga(()=>{b&&re(window.getComputedStyle(b).zIndex)},[b]),m.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:le?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(De=D.transformOrigin)==null?void 0:De.x,(He=D.transformOrigin)==null?void 0:He.y].join(" "),...((be=D.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:m.jsx(eH,{scope:t,placedSide:W,onArrowChange:C,arrowX:Z,arrowY:oe,shouldHideArrow:we,children:m.jsx(An.div,{"data-side":W,"data-align":G,...y,ref:S,style:{...y.style,animation:le?void 0:"none"}})})})});MD.displayName=kM;var ED="PopperArrow",nH={top:"bottom",right:"left",bottom:"top",left:"right"},TD=N.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=tH(ED,r),o=nH[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(YW,{...i,ref:t,style:{...i.style,display:"block"}})})});TD.displayName=ED;function rH(n){return n!==null}var iH=n=>({name:"transformOrigin",options:n,fn(e){var x,b,_;const{placement:t,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,d]=CD(t),h={start:"0%",center:"50%",end:"100%"}[d],p=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,g=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=o?h:`${p}px`,y=`${-l}px`):c==="top"?(v=o?h:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=o?h:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,y=o?h:`${g}px`),{data:{x:v,y}}}});function CD(n){const[e,t="center"]=n.split("-");return[e,t]}var sH=SD,oH=MD,aH=TD,[yx,nae]=Pm("Tooltip",[wD]),RM=wD(),AD="TooltipProvider",lH=700,A3="tooltip.open",[cH,PD]=yx(AD),ND=n=>{const{__scopeTooltip:e,delayDuration:t=lH,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,[o,a]=N.useState(!0),l=N.useRef(!1),c=N.useRef(0);return N.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),m.jsx(cH,{scope:e,isOpenDelayed:o,delayDuration:t,onOpen:N.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:N.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};ND.displayName=AD;var kD="Tooltip",[rae,xx]=yx(kD),aS="TooltipTrigger",uH=N.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=xx(aS,t),s=PD(aS,t),o=RM(t),a=N.useRef(null),l=Di(e,a,i.onTriggerChange),c=N.useRef(!1),d=N.useRef(!1),h=N.useCallback(()=>c.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),m.jsx(sH,{asChild:!0,...o,children:m.jsx(An.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:gn(n.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:gn(n.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:gn(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:gn(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:gn(n.onBlur,i.onClose),onClick:gn(n.onClick,i.onClose)})})});uH.displayName=aS;var dH="TooltipPortal",[iae,fH]=yx(dH,{forceMount:void 0}),uf="TooltipContent",RD=N.forwardRef((n,e)=>{const t=fH(uf,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=xx(uf,n.__scopeTooltip);return m.jsx(Nm,{present:r||o.open,children:o.disableHoverableContent?m.jsx(LD,{side:i,...s,ref:e}):m.jsx(hH,{side:i,...s,ref:e})})}),hH=N.forwardRef((n,e)=>{const t=xx(uf,n.__scopeTooltip),r=PD(uf,n.__scopeTooltip),i=N.useRef(null),s=Di(e,i),[o,a]=N.useState(null),{trigger:l,onClose:c}=t,d=i.current,{onPointerInTransitChange:h}=r,p=N.useCallback(()=>{a(null),h(!1)},[h]),g=N.useCallback((v,y)=>{const x=v.currentTarget,b={x:v.clientX,y:v.clientY},_=vH(b,x.getBoundingClientRect()),S=yH(b,_),E=xH(y.getBoundingClientRect()),C=_H([...S,...E]);a(C),h(!0)},[h]);return N.useEffect(()=>()=>p(),[p]),N.useEffect(()=>{if(l&&d){const v=x=>g(x,d),y=x=>g(x,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",y)}}},[l,d,g,p]),N.useEffect(()=>{if(o){const v=y=>{const x=y.target,b={x:y.clientX,y:y.clientY},_=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),S=!wH(b,o);_?p():S&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,p]),m.jsx(LD,{...n,ref:s})}),[pH,mH]=yx(kD,{isInside:!1}),LD=N.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=xx(uf,t),c=RM(t),{onClose:d}=l;return N.useEffect(()=>(document.addEventListener(A3,d),()=>document.removeEventListener(A3,d)),[d]),N.useEffect(()=>{if(l.trigger){const h=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),m.jsx(xM,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:m.jsxs(oH,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(bI,{children:r}),m.jsx(pH,{scope:t,isInside:!0,children:m.jsx(aV,{id:l.contentId,role:"tooltip",children:i||r})})]})})});RD.displayName=uf;var ID="TooltipArrow",gH=N.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=RM(t);return mH(ID,t).isInside?null:m.jsx(aH,{...i,...r,ref:e})});gH.displayName=ID;function vH(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function yH(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function xH(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function wH(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&t<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function _H(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),bH(e)}function bH(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var SH=ND,DD=RD;const MH=SH,EH=N.forwardRef(({className:n,sideOffset:e=4,...t},r)=>m.jsx(DD,{ref:r,sideOffset:e,className:ar("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));EH.displayName=DD.displayName;var wx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_x=typeof window>"u"||"Deno"in globalThis;function zs(){}function TH(n,e){return typeof n=="function"?n(e):n}function CH(n){return typeof n=="number"&&n>=0&&n!==1/0}function AH(n,e){return Math.max(n+(e||0)-Date.now(),0)}function P3(n,e){return typeof n=="function"?n(e):n}function PH(n,e){return typeof n=="function"?n(e):n}function N3(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==LM(o,e.options))return!1}else if(!Dp(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function k3(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Ip(e.options.mutationKey)!==Ip(s))return!1}else if(!Dp(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function LM(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ip)(n)}function Ip(n){return JSON.stringify(n,(e,t)=>lS(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Dp(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Dp(n[t],e[t])):!1}function OD(n,e){if(n===e)return n;const t=R3(n)&&R3(e);if(t||lS(n)&&lS(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{};let l=0;for(let c=0;c<o;c++){const d=t?c:s[c];(!t&&r.includes(d)||t)&&n[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=OD(n[d],e[d]),a[d]===n[d]&&n[d]!==void 0&&l++)}return i===o&&l===i?n:a}return e}function R3(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function lS(n){if(!L3(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!L3(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function L3(n){return Object.prototype.toString.call(n)==="[object Object]"}function NH(n){return new Promise(e=>{setTimeout(e,n)})}function kH(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?OD(n,e):e}function RH(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function LH(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var IM=Symbol();function jD(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===IM?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var jc,nl,Gd,Kk,IH=(Kk=class extends wx{constructor(){super();pn(this,jc);pn(this,nl);pn(this,Gd);$t(this,Gd,e=>{if(!_x&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){ze(this,nl)||this.setEventListener(ze(this,Gd))}onUnsubscribe(){var e;this.hasListeners()||((e=ze(this,nl))==null||e.call(this),$t(this,nl,void 0))}setEventListener(e){var t;$t(this,Gd,e),(t=ze(this,nl))==null||t.call(this),$t(this,nl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ze(this,jc)!==e&&($t(this,jc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof ze(this,jc)=="boolean"?ze(this,jc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jc=new WeakMap,nl=new WeakMap,Gd=new WeakMap,Kk),FD=new IH,$d,rl,Zd,Qk,DH=(Qk=class extends wx{constructor(){super();pn(this,$d,!0);pn(this,rl);pn(this,Zd);$t(this,Zd,e=>{if(!_x&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){ze(this,rl)||this.setEventListener(ze(this,Zd))}onUnsubscribe(){var e;this.hasListeners()||((e=ze(this,rl))==null||e.call(this),$t(this,rl,void 0))}setEventListener(e){var t;$t(this,Zd,e),(t=ze(this,rl))==null||t.call(this),$t(this,rl,e(this.setOnline.bind(this)))}setOnline(e){ze(this,$d)!==e&&($t(this,$d,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ze(this,$d)}},$d=new WeakMap,rl=new WeakMap,Zd=new WeakMap,Qk),yy=new DH;function OH(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function jH(n){return Math.min(1e3*2**n,3e4)}function zD(n){return(n??"online")==="online"?yy.isOnline():!0}var BD=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Ww(n){return n instanceof BD}function UD(n){let e=!1,t=0,r=!1,i;const s=OH(),o=y=>{var x;r||(p(new BD(y)),(x=n.abort)==null||x.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>FD.isFocused()&&(n.networkMode==="always"||yy.isOnline())&&n.canRun(),d=()=>zD(n.networkMode)&&n.canRun(),h=y=>{var x;r||(r=!0,(x=n.onSuccess)==null||x.call(n,y),i==null||i(),s.resolve(y))},p=y=>{var x;r||(r=!0,(x=n.onError)==null||x.call(n,y),i==null||i(),s.reject(y))},g=()=>new Promise(y=>{var x;i=b=>{(r||c())&&y(b)},(x=n.onPause)==null||x.call(n)}).then(()=>{var y;i=void 0,r||(y=n.onContinue)==null||y.call(n)}),v=()=>{if(r)return;let y;const x=t===0?n.initialPromise:void 0;try{y=x??n.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var P;if(r)return;const _=n.retry??(_x?0:3),S=n.retryDelay??jH,E=typeof S=="function"?S(t,b):S,C=_===!0||typeof _=="number"&&t<_||typeof _=="function"&&_(t,b);if(e||!C){p(b);return}t++,(P=n.onFail)==null||P.call(n,t,b),NH(E).then(()=>c()?void 0:g()).then(()=>{e?p(b):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():g().then(v),s)}}function FH(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var vi=FH(),Fc,Jk,VD=(Jk=class{constructor(){pn(this,Fc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CH(this.gcTime)&&$t(this,Fc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(_x?1/0:5*60*1e3))}clearGcTimeout(){ze(this,Fc)&&(clearTimeout(ze(this,Fc)),$t(this,Fc,void 0))}},Fc=new WeakMap,Jk),qd,Xd,ys,Kr,_m,zc,Bs,Ko,eR,zH=(eR=class extends VD{constructor(e){super();pn(this,Bs);pn(this,qd);pn(this,Xd);pn(this,ys);pn(this,Kr);pn(this,_m);pn(this,zc);$t(this,zc,!1),$t(this,_m,e.defaultOptions),this.setOptions(e.options),this.observers=[],$t(this,ys,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,$t(this,qd,UH(this.options)),this.state=e.state??ze(this,qd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ze(this,Kr))==null?void 0:e.promise}setOptions(e){this.options={...ze(this,_m),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ze(this,ys).remove(this)}setData(e,t){const r=kH(this.state.data,e,this.options);return $r(this,Bs,Ko).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){$r(this,Bs,Ko).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=ze(this,Kr))==null?void 0:r.promise;return(i=ze(this,Kr))==null||i.cancel(e),t?t.then(zs).catch(zs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ze(this,qd))}isActive(){return this.observers.some(e=>PH(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===IM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!AH(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=ze(this,Kr))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=ze(this,Kr))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ze(this,ys).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(ze(this,Kr)&&(ze(this,zc)?ze(this,Kr).cancel({revert:!0}):ze(this,Kr).cancelRetry()),this.scheduleGc()),ze(this,ys).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$r(this,Bs,Ko).call(this,{type:"invalidate"})}fetch(e,t){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(ze(this,Kr))return ze(this,Kr).continueRetry(),ze(this,Kr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>($t(this,zc,!0),r.signal)})},s=()=>{const h=jD(this.options,t),p={queryKey:this.queryKey,meta:this.meta};return i(p),$t(this,zc,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),$t(this,Xd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&$r(this,Bs,Ko).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=h=>{var p,g,v,y;Ww(h)&&h.silent||$r(this,Bs,Ko).call(this,{type:"error",error:h}),Ww(h)||((g=(p=ze(this,ys).config).onError)==null||g.call(p,h,this),(y=(v=ze(this,ys).config).onSettled)==null||y.call(v,this.state.data,h,this)),this.scheduleGc()};return $t(this,Kr,UD({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,g,v,y;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){a(x);return}(g=(p=ze(this,ys).config).onSuccess)==null||g.call(p,h,this),(y=(v=ze(this,ys).config).onSettled)==null||y.call(v,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,p)=>{$r(this,Bs,Ko).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{$r(this,Bs,Ko).call(this,{type:"pause"})},onContinue:()=>{$r(this,Bs,Ko).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ze(this,Kr).start()}},qd=new WeakMap,Xd=new WeakMap,ys=new WeakMap,Kr=new WeakMap,_m=new WeakMap,zc=new WeakMap,Bs=new WeakSet,Ko=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...BH(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Ww(i)&&i.revert&&ze(this,Xd)?{...ze(this,Xd),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),vi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ze(this,ys).notify({query:this,type:"updated",action:e})})},eR);function BH(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zD(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function UH(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var yo,tR,VH=(tR=class extends wx{constructor(e={}){super();pn(this,yo);this.config=e,$t(this,yo,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??LM(i,t);let o=this.get(s);return o||(o=new zH({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ze(this,yo).has(e.queryHash)||(ze(this,yo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=ze(this,yo).get(e.queryHash);t&&(e.destroy(),t===e&&ze(this,yo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){vi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ze(this,yo).get(e)}getAll(){return[...ze(this,yo).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>N3(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>N3(e,r)):t}notify(e){vi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){vi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){vi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yo=new WeakMap,tR),xo,hi,Bc,wo,$a,nR,WH=(nR=class extends VD{constructor(e){super();pn(this,wo);pn(this,xo);pn(this,hi);pn(this,Bc);this.mutationId=e.mutationId,$t(this,hi,e.mutationCache),$t(this,xo,[]),this.state=e.state||HH(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ze(this,xo).includes(e)||(ze(this,xo).push(e),this.clearGcTimeout(),ze(this,hi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){$t(this,xo,ze(this,xo).filter(t=>t!==e)),this.scheduleGc(),ze(this,hi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ze(this,xo).length||(this.state.status==="pending"?this.scheduleGc():ze(this,hi).remove(this))}continue(){var e;return((e=ze(this,Bc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,d,h,p,g,v,y,x,b,_,S,E,C,P,I;$t(this,Bc,UD({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,k)=>{$r(this,wo,$a).call(this,{type:"failed",failureCount:T,error:k})},onPause:()=>{$r(this,wo,$a).call(this,{type:"pause"})},onContinue:()=>{$r(this,wo,$a).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ze(this,hi).canRun(this)}));const t=this.state.status==="pending",r=!ze(this,Bc).canStart();try{if(!t){$r(this,wo,$a).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=ze(this,hi).config).onMutate)==null?void 0:s.call(i,e,this));const k=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));k!==this.state.context&&$r(this,wo,$a).call(this,{type:"pending",context:k,variables:e,isPaused:r})}const T=await ze(this,Bc).start();return await((c=(l=ze(this,hi).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,T,e,this.state.context)),await((g=(p=ze(this,hi).config).onSettled)==null?void 0:g.call(p,T,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,T,null,e,this.state.context)),$r(this,wo,$a).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(x=ze(this,hi).config).onError)==null?void 0:b.call(x,T,e,this.state.context,this)),await((S=(_=this.options).onError)==null?void 0:S.call(_,T,e,this.state.context)),await((C=(E=ze(this,hi).config).onSettled)==null?void 0:C.call(E,void 0,T,this.state.variables,this.state.context,this)),await((I=(P=this.options).onSettled)==null?void 0:I.call(P,void 0,T,e,this.state.context)),T}finally{$r(this,wo,$a).call(this,{type:"error",error:T})}}finally{ze(this,hi).runNext(this)}}},xo=new WeakMap,hi=new WeakMap,Bc=new WeakMap,wo=new WeakSet,$a=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),vi.batch(()=>{ze(this,xo).forEach(r=>{r.onMutationUpdate(e)}),ze(this,hi).notify({mutation:this,type:"updated",action:e})})},nR);function HH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gi,bm,rR,GH=(rR=class extends wx{constructor(e={}){super();pn(this,Gi);pn(this,bm);this.config=e,$t(this,Gi,new Map),$t(this,bm,Date.now())}build(e,t,r){const i=new WH({mutationCache:this,mutationId:++Kg(this,bm)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){const t=xv(e),r=ze(this,Gi).get(t)??[];r.push(e),ze(this,Gi).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var r;const t=xv(e);if(ze(this,Gi).has(t)){const i=(r=ze(this,Gi).get(t))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?ze(this,Gi).delete(t):ze(this,Gi).set(t,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const t=(r=ze(this,Gi).get(xv(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!t||t===e}runNext(e){var r;const t=(r=ze(this,Gi).get(xv(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){vi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ze(this,Gi).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>k3(t,r))}findAll(e={}){return this.getAll().filter(t=>k3(e,t))}notify(e){vi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return vi.batch(()=>Promise.all(e.map(t=>t.continue().catch(zs))))}},Gi=new WeakMap,bm=new WeakMap,rR);function xv(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function I3(n){return{onFetch:(e,t)=>{var d,h,p,g,v;const r=e.options,i=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=jD(e.options,e.fetchOptions),_=async(S,E,C)=>{if(y)return Promise.reject();if(E==null&&S.pages.length)return Promise.resolve(S);const P={queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};x(P);const I=await b(P),{maxPages:T}=e.options,k=C?LH:RH;return{pages:k(S.pages,I,T),pageParams:k(S.pageParams,E,T)}};if(i&&s.length){const S=i==="backward",E=S?$H:D3,C={pages:s,pageParams:o},P=E(r,C);a=await _(C,P,S)}else{const S=n??s.length;do{const E=l===0?o[0]??r.initialPageParam:D3(r,a);if(l>0&&E==null)break;a=await _(a,E),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function D3(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function $H(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var qn,il,sl,Yd,Kd,ol,Qd,Jd,iR,ZH=(iR=class{constructor(n={}){pn(this,qn);pn(this,il);pn(this,sl);pn(this,Yd);pn(this,Kd);pn(this,ol);pn(this,Qd);pn(this,Jd);$t(this,qn,n.queryCache||new VH),$t(this,il,n.mutationCache||new GH),$t(this,sl,n.defaultOptions||{}),$t(this,Yd,new Map),$t(this,Kd,new Map),$t(this,ol,0)}mount(){Kg(this,ol)._++,ze(this,ol)===1&&($t(this,Qd,FD.subscribe(async n=>{n&&(await this.resumePausedMutations(),ze(this,qn).onFocus())})),$t(this,Jd,yy.subscribe(async n=>{n&&(await this.resumePausedMutations(),ze(this,qn).onOnline())})))}unmount(){var n,e;Kg(this,ol)._--,ze(this,ol)===0&&((n=ze(this,Qd))==null||n.call(this),$t(this,Qd,void 0),(e=ze(this,Jd))==null||e.call(this),$t(this,Jd,void 0))}isFetching(n){return ze(this,qn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return ze(this,il).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=ze(this,qn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=ze(this,qn).build(this,t);return n.revalidateIfStale&&r.isStaleByTime(P3(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return ze(this,qn).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=ze(this,qn).get(r.queryHash),s=i==null?void 0:i.state.data,o=TH(e,s);if(o!==void 0)return ze(this,qn).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return vi.batch(()=>ze(this,qn).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=ze(this,qn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=ze(this,qn);vi.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=ze(this,qn),r={type:"active",...n};return vi.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=vi.batch(()=>ze(this,qn).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(zs).catch(zs)}invalidateQueries(n={},e={}){return vi.batch(()=>{if(ze(this,qn).findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=vi.batch(()=>ze(this,qn).findAll(n).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(zs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(zs)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=ze(this,qn).build(this,e);return t.isStaleByTime(P3(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(zs).catch(zs)}fetchInfiniteQuery(n){return n.behavior=I3(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(zs).catch(zs)}ensureInfiniteQueryData(n){return n.behavior=I3(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return yy.isOnline()?ze(this,il).resumePausedMutations():Promise.resolve()}getQueryCache(){return ze(this,qn)}getMutationCache(){return ze(this,il)}getDefaultOptions(){return ze(this,sl)}setDefaultOptions(n){$t(this,sl,n)}setQueryDefaults(n,e){ze(this,Yd).set(Ip(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...ze(this,Yd).values()];let t={};return e.forEach(r=>{Dp(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){ze(this,Kd).set(Ip(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...ze(this,Kd).values()];let t={};return e.forEach(r=>{Dp(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...ze(this,sl).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=LM(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===IM&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...ze(this,sl).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){ze(this,qn).clear(),ze(this,il).clear()}},qn=new WeakMap,il=new WeakMap,sl=new WeakMap,Yd=new WeakMap,Kd=new WeakMap,ol=new WeakMap,Qd=new WeakMap,Jd=new WeakMap,iR),qH=N.createContext(void 0),XH=({client:n,children:e})=>(N.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),m.jsx(qH.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Op(){return Op=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Op.apply(this,arguments)}var cl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(cl||(cl={}));const O3="popstate";function YH(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return cS("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:xy(i)}return QH(e,t,null,n)}function Kn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function WD(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KH(){return Math.random().toString(36).substr(2,8)}function j3(n,e){return{usr:n.state,key:n.key,idx:e}}function cS(n,e,t,r){return t===void 0&&(t=null),Op({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Pf(e):e,{state:t,key:e&&e.key||r||KH()})}function xy(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Pf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function QH(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=cl.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Op({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=cl.Pop;let x=d(),b=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:b})}function p(x,b){a=cl.Push;let _=cS(y.location,x,b);c=d()+1;let S=j3(_,c),E=y.createHref(_);try{o.pushState(S,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(E)}s&&l&&l({action:a,location:y.location,delta:1})}function g(x,b){a=cl.Replace;let _=cS(y.location,x,b);c=d();let S=j3(_,c),E=y.createHref(_);o.replaceState(S,"",E),s&&l&&l({action:a,location:y.location,delta:0})}function v(x){let b=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof x=="string"?x:xy(x);return _=_.replace(/ $/,"%20"),Kn(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let y={get action(){return a},get location(){return n(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(O3,h),l=x,()=>{i.removeEventListener(O3,h),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let b=v(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:g,go(x){return o.go(x)}};return y}var F3;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(F3||(F3={}));function JH(n,e,t){return t===void 0&&(t="/"),e9(n,e,t,!1)}function e9(n,e,t,r){let i=typeof e=="string"?Pf(e):e,s=df(i.pathname||"/",t);if(s==null)return null;let o=HD(n);t9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=f9(s);a=u9(o[l],c,r)}return a}function HD(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Kn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=xl([r,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(Kn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),HD(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:l9(c,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of GD(s.path))i(s,o,l)}),e}function GD(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=GD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function t9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:c9(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const n9=/^:[\w-]+$/,r9=3,i9=2,s9=1,o9=10,a9=-2,z3=n=>n==="*";function l9(n,e){let t=n.split("/"),r=t.length;return t.some(z3)&&(r+=a9),e&&(r+=i9),t.filter(i=>!z3(i)).reduce((i,s)=>i+(n9.test(s)?r9:s===""?s9:o9),r)}function c9(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function u9(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=wy({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&t&&!r[r.length-1].route.index&&(h=wy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:xl([s,h.pathname]),pathnameBase:g9(xl([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=xl([s,h.pathnameBase]))}return o}function wy(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=d9(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[h];return g&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function d9(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),WD(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function f9(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return WD(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function df(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function h9(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Pf(n):n;return{pathname:t?t.startsWith("/")?t:p9(t,e):e,search:v9(r),hash:y9(i)}}function p9(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Hw(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $D(n,e){let t=m9(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function ZD(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Pf(n):(i=Op({},n),Kn(!i.pathname||!i.pathname.includes("?"),Hw("?","pathname","search",i)),Kn(!i.pathname||!i.pathname.includes("#"),Hw("#","pathname","hash",i)),Kn(!i.search||!i.search.includes("#"),Hw("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=h9(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const xl=n=>n.join("/").replace(/\/\/+/g,"/"),g9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),v9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,y9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function x9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const qD=["post","put","patch","delete"];new Set(qD);const w9=["get",...qD];new Set(w9);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jp(){return jp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jp.apply(this,arguments)}const bx=N.createContext(null),XD=N.createContext(null),Wl=N.createContext(null),Sx=N.createContext(null),Hl=N.createContext({outlet:null,matches:[],isDataRoute:!1}),YD=N.createContext(null);function _9(n,e){let{relative:t}=e===void 0?{}:e;Rm()||Kn(!1);let{basename:r,navigator:i}=N.useContext(Wl),{hash:s,pathname:o,search:a}=Mx(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:xl([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Rm(){return N.useContext(Sx)!=null}function hu(){return Rm()||Kn(!1),N.useContext(Sx).location}function KD(n){N.useContext(Wl).static||N.useLayoutEffect(n)}function io(){let{isDataRoute:n}=N.useContext(Hl);return n?O9():b9()}function b9(){Rm()||Kn(!1);let n=N.useContext(bx),{basename:e,future:t,navigator:r}=N.useContext(Wl),{matches:i}=N.useContext(Hl),{pathname:s}=hu(),o=JSON.stringify($D(i,t.v7_relativeSplatPath)),a=N.useRef(!1);return KD(()=>{a.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=ZD(c,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:xl([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,n])}const S9=N.createContext(null);function M9(n){let e=N.useContext(Hl).outlet;return e&&N.createElement(S9.Provider,{value:n},e)}function Mx(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=N.useContext(Wl),{matches:i}=N.useContext(Hl),{pathname:s}=hu(),o=JSON.stringify($D(i,r.v7_relativeSplatPath));return N.useMemo(()=>ZD(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function E9(n,e){return T9(n,e)}function T9(n,e,t,r){Rm()||Kn(!1);let{navigator:i}=N.useContext(Wl),{matches:s}=N.useContext(Hl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=hu(),d;if(e){var h;let x=typeof e=="string"?Pf(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||Kn(!1),d=x}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=JH(n,{pathname:g}),y=k9(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:xl([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:xl([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,t,r);return e&&y?N.createElement(Sx.Provider,{value:{location:jp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:cl.Pop}},y):y}function C9(){let n=D9(),e=x9(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:i},t):null,null)}const A9=N.createElement(C9,null);class P9 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(Hl.Provider,{value:this.props.routeContext},N.createElement(YD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N9(n){let{routeContext:e,match:t,children:r}=n,i=N.useContext(bx);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Hl.Provider,{value:e},r)}function k9(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Kn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:g}=t,v=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,v=!1,y=null,x=null;t&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||A9,l&&(c<0&&p===0?(v=!0,x=null):c===p&&(v=!0,x=h.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),_=()=>{let S;return g?S=y:v?S=x:h.route.Component?S=N.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,N.createElement(N9,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:t!=null},children:S})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?N.createElement(P9,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var QD=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(QD||{}),_y=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(_y||{});function R9(n){let e=N.useContext(bx);return e||Kn(!1),e}function L9(n){let e=N.useContext(XD);return e||Kn(!1),e}function I9(n){let e=N.useContext(Hl);return e||Kn(!1),e}function JD(n){let e=I9(),t=e.matches[e.matches.length-1];return t.route.id||Kn(!1),t.route.id}function D9(){var n;let e=N.useContext(YD),t=L9(_y.UseRouteError),r=JD(_y.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function O9(){let{router:n}=R9(QD.UseNavigateStable),e=JD(_y.UseNavigateStable),t=N.useRef(!1);return KD(()=>{t.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,jp({fromRouteId:e},s)))},[n,e])}function j9(n){return M9(n.context)}function gs(n){Kn(!1)}function F9(n){let{basename:e="/",children:t=null,location:r,navigationType:i=cl.Pop,navigator:s,static:o=!1,future:a}=n;Rm()&&Kn(!1);let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:o,future:jp({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Pf(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:v="default"}=r,y=N.useMemo(()=>{let x=df(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:g,key:v},navigationType:i}},[l,d,h,p,g,v,i]);return y==null?null:N.createElement(Wl.Provider,{value:c},N.createElement(Sx.Provider,{children:t,value:y}))}function z9(n){let{children:e,location:t}=n;return E9(uS(e),t)}new Promise(()=>{});function uS(n,e){e===void 0&&(e=[]);let t=[];return N.Children.forEach(n,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){t.push.apply(t,uS(r.props.children,s));return}r.type!==gs&&Kn(!1),!r.props.index||!r.props.children||Kn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=uS(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function by(){return by=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},by.apply(this,arguments)}function e4(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function B9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function U9(n,e){return n.button===0&&(!e||e==="_self")&&!B9(n)}const V9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],W9=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],H9="6";try{window.__reactRouterVersion=H9}catch{}const G9=N.createContext({isTransitioning:!1}),$9="startTransition",B3=mR[$9];function Z9(n){let{basename:e,children:t,future:r,window:i}=n,s=N.useRef();s.current==null&&(s.current=YH({window:i,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=N.useCallback(h=>{c&&B3?B3(()=>l(h)):l(h)},[l,c]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.createElement(F9,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const q9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y9=N.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=e4(e,V9),{basename:g}=N.useContext(Wl),v,y=!1;if(typeof c=="string"&&X9.test(c)&&(v=c,q9))try{let S=new URL(window.location.href),E=c.startsWith("//")?new URL(S.protocol+c):new URL(c),C=df(E.pathname,g);E.origin===S.origin&&C!=null?c=C+E.search+E.hash:y=!0}catch{}let x=_9(c,{relative:i}),b=Q9(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function _(S){r&&r(S),S.defaultPrevented||b(S)}return N.createElement("a",by({},p,{href:v||x,onClick:y||s?r:_,ref:t,target:l}))}),ui=N.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:d}=e,h=e4(e,W9),p=Mx(l,{relative:h.relative}),g=hu(),v=N.useContext(XD),{navigator:y,basename:x}=N.useContext(Wl),b=v!=null&&J9(p)&&c===!0,_=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,S=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(S=S.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&x&&(E=df(E,x)||E);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=S===_||!o&&S.startsWith(_)&&S.charAt(C)==="/",I=E!=null&&(E===_||!o&&E.startsWith(_)&&E.charAt(_.length)==="/"),T={isActive:P,isPending:I,isTransitioning:b},k=P?r:void 0,O;typeof s=="function"?O=s(T):O=[s,P?"active":null,I?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(T):a;return N.createElement(Y9,by({},h,{"aria-current":k,className:O,ref:t,style:U,to:l,viewTransition:c}),typeof d=="function"?d(T):d)});var dS;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(dS||(dS={}));var U3;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(U3||(U3={}));function K9(n){let e=N.useContext(bx);return e||Kn(!1),e}function Q9(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=io(),c=hu(),d=Mx(n,{relative:o});return N.useCallback(h=>{if(U9(h,t)){h.preventDefault();let p=r!==void 0?r:xy(c)===xy(d);l(n,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,t,n,s,o,a])}function J9(n,e){e===void 0&&(e={});let t=N.useContext(G9);t==null&&Kn(!1);let{basename:r}=K9(dS.useViewTransitionState),i=Mx(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=df(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=df(t.nextLocation.pathname,r)||t.nextLocation.pathname;return wy(i.pathname,o)!=null||wy(i.pathname,s)!=null}const eG=SM("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Mr=N.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?lf:"button";return m.jsx(o,{className:ar(eG({variant:e,size:t,className:n})),ref:s,...i})});Mr.displayName="Button";const tG=()=>{const[n,e]=N.useState(!1),[t,r]=N.useState(!1),i=hu();N.useEffect(()=>{const o=()=>{r(window.scrollY>10)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),N.useEffect(()=>{e(!1)},[i.pathname]);const s=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Services",path:"/services",dropdown:[{name:"Software Development",path:"/services/software-development"},{name:"AI Development",path:"/services/ai-development"},{name:"Trading Bots",path:"/services/trading-bots"}]},{name:"Portfolio",path:"/portfolio"},{name:"Tech Stack",path:"/tech-stack"},{name:"Contact",path:"/contact"}];return m.jsxs("div",{className:"min-h-screen flex flex-col",children:[m.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"glass py-2":"py-4"}`,children:m.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[m.jsx(ui,{to:"/",className:"text-2xl font-bold gradient-text",children:"CODEVIOR"}),m.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:s.map(o=>o.dropdown?m.jsxs("div",{className:"relative group",children:[m.jsxs("button",{className:"flex items-center space-x-1 py-2 text-foreground/80 hover:text-primary transition-colors",children:[m.jsx("span",{children:o.name}),m.jsx(YI,{className:"h-4 w-4"})]}),m.jsx("div",{className:"absolute left-0 mt-2 w-48 rounded-md shadow-lg glass overflow-hidden transform scale-0 group-hover:scale-100 transition-transform origin-top",children:m.jsx("div",{className:"py-1",children:o.dropdown.map(a=>m.jsx(ui,{to:a.path,className:({isActive:l})=>`block px-4 py-2 text-sm ${l?"text-primary":"text-foreground/80 hover:text-primary"} transition-colors`,children:a.name},a.name))})})]},o.name):m.jsx(ui,{to:o.path,className:({isActive:a})=>`py-2 link-underline ${a?"text-primary":"text-foreground/80 hover:text-primary"} transition-colors`,children:o.name},o.name))}),m.jsx("div",{className:"hidden md:block",children:m.jsx(Mr,{asChild:!0,variant:"default",children:m.jsx(ui,{to:"/contact",children:"Contact Us"})})}),m.jsx("button",{className:"md:hidden text-foreground",onClick:()=>e(!n),"aria-label":"Toggle menu",children:n?m.jsx(QI,{size:24}):m.jsx(DV,{size:24})})]})}),n&&m.jsx("div",{className:"fixed inset-0 z-40 bg-background/95 backdrop-blur-sm flex flex-col md:hidden pt-20 pb-6 px-4",children:m.jsx("nav",{className:"flex-1 overflow-y-auto",children:m.jsx("ul",{className:"space-y-4 px-2",children:s.map(o=>m.jsx("li",{children:o.dropdown?m.jsxs("div",{className:"mb-2",children:[m.jsx("div",{className:"text-lg font-medium text-primary mb-2",children:o.name}),m.jsx("ul",{className:"pl-4 space-y-2 border-l-2 border-primary/30",children:o.dropdown.map(a=>m.jsx("li",{children:m.jsx(ui,{to:a.path,className:({isActive:l})=>`block py-1 ${l?"text-primary":"text-foreground/70 hover:text-primary"} transition-colors`,children:a.name})},a.name))})]}):m.jsx(ui,{to:o.path,className:({isActive:a})=>`block text-lg ${a?"text-primary font-medium":"text-foreground/70 hover:text-primary"} transition-colors`,children:o.name})},o.name))})})}),m.jsx("main",{className:"flex-1 pt-20",children:m.jsx(j9,{})}),m.jsx("footer",{className:"glass mt-16 py-12",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold gradient-text mb-4",children:"CODEVIOR"}),m.jsx("p",{className:"text-foreground/70 mb-4",children:"Transforming ideas into intelligent software solutions with AI, ML, and cutting-edge development."}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("a",{href:"#",className:"text-foreground/70 hover:text-primary transition-colors","aria-label":"Twitter",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"})})}),m.jsx("a",{href:"#",className:"text-foreground/70 hover:text-primary transition-colors","aria-label":"LinkedIn",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),m.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),m.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),m.jsx("a",{href:"#",className:"text-foreground/70 hover:text-primary transition-colors","aria-label":"GitHub",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Services"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:m.jsx(ui,{to:"/services/software-development",className:"text-foreground/70 hover:text-primary transition-colors",children:"Software Development"})}),m.jsx("li",{children:m.jsx(ui,{to:"/services/ai-development",className:"text-foreground/70 hover:text-primary transition-colors",children:"AI Development"})}),m.jsx("li",{children:m.jsx(ui,{to:"/services/trading-bots",className:"text-foreground/70 hover:text-primary transition-colors",children:"Trading Bots"})})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Company"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:m.jsx(ui,{to:"/about",className:"text-foreground/70 hover:text-primary transition-colors",children:"About Us"})}),m.jsx("li",{children:m.jsx(ui,{to:"/tech-stack",className:"text-foreground/70 hover:text-primary transition-colors",children:"Tech Stack"})}),m.jsx("li",{children:m.jsx(ui,{to:"/portfolio",className:"text-foreground/70 hover:text-primary transition-colors",children:"Portfolio"})}),m.jsx("li",{children:m.jsx(ui,{to:"/contact",className:"text-foreground/70 hover:text-primary transition-colors",children:"Contact"})})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),m.jsxs("address",{className:"not-italic text-foreground/70",children:[m.jsx("p",{className:"mb-2",children:"123 Innovation Street"}),m.jsx("p",{className:"mb-2",children:"Tech City, TC 12345"}),m.jsx("p",{className:"mb-2",children:m.jsx("a",{href:"mailto:contact@codevior.com",className:"hover:text-primary transition-colors",children:"contact@codevior.com"})}),m.jsx("p",{children:m.jsx("a",{href:"tel:+11234567890",className:"hover:text-primary transition-colors",children:"+1 (123) 456-7890"})})]})]})]}),m.jsx("div",{className:"mt-8 pt-8 border-t border-border/30",children:m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[m.jsxs("p",{className:"text-foreground/50 text-sm",children:[" ",new Date().getFullYear()," Codevior. All rights reserved."]}),m.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[m.jsx(ui,{to:"/privacy",className:"text-foreground/50 hover:text-primary transition-colors text-sm",children:"Privacy Policy"}),m.jsx(ui,{to:"/terms",className:"text-foreground/50 hover:text-primary transition-colors text-sm",children:"Terms of Service"})]})]})})]})})]})},t4=N.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Ex=N.createContext({}),DM=N.createContext(null),Tx=typeof document<"u",nG=Tx?N.useLayoutEffect:N.useEffect,n4=N.createContext({strict:!1}),OM=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),rG="framerAppearId",r4="data-"+OM(rG);function iG(n,e,t,r){const{visualElement:i}=N.useContext(Ex),s=N.useContext(n4),o=N.useContext(DM),a=N.useContext(t4).reducedMotion,l=N.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;N.useInsertionEffect(()=>{c&&c.update(t,o)});const d=N.useRef(!!(t[r4]&&!window.HandoffComplete));return nG(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),N.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function Md(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function sG(n,e,t){return N.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Md(t)&&(t.current=r))},[e])}function Fp(n){return typeof n=="string"||Array.isArray(n)}function Cx(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const jM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],FM=["initial",...jM];function Ax(n){return Cx(n.animate)||FM.some(e=>Fp(n[e]))}function i4(n){return!!(Ax(n)||n.variants)}function oG(n,e){if(Ax(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Fp(t)?t:void 0,animate:Fp(r)?r:void 0}}return n.inherit!==!1?e:{}}function aG(n){const{initial:e,animate:t}=oG(n,N.useContext(Ex));return N.useMemo(()=>({initial:e,animate:t}),[V3(e),V3(t)])}function V3(n){return Array.isArray(n)?n.join(" "):n}const W3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zp={};for(const n in W3)zp[n]={isEnabled:e=>W3[n].some(t=>!!e[t])};function lG(n){for(const e in n)zp[e]={...zp[e],...n[e]}}const s4=N.createContext({}),o4=N.createContext({}),cG=Symbol.for("motionComponentSymbol");function uG({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&lG(n);function s(a,l){let c;const d={...N.useContext(t4),...a,layoutId:dG(a)},{isStatic:h}=d,p=aG(a),g=r(a,h);if(!h&&Tx){p.visualElement=iG(i,g,d,e);const v=N.useContext(o4),y=N.useContext(n4).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,y,n,v))}return N.createElement(Ex.Provider,{value:p},c&&p.visualElement?N.createElement(c,{visualElement:p.visualElement,...d}):null,t(i,a,sG(g,p.visualElement,l),g,h,p.visualElement))}const o=N.forwardRef(s);return o[cG]=i,o}function dG({layoutId:n}){const e=N.useContext(s4).id;return e&&n!==void 0?e+"-"+n:n}function fG(n){function e(r,i={}){return uG(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const hG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zM(n){return typeof n!="string"||n.includes("-")?!1:!!(hG.indexOf(n)>-1||/[A-Z]/.test(n))}const Sy={};function pG(n){Object.assign(Sy,n)}const Lm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pu=new Set(Lm);function a4(n,{layout:e,layoutId:t}){return pu.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Sy[n]||n==="opacity")}const Oi=n=>!!(n&&n.getVelocity),mG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gG=Lm.length;function vG(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<gG;o++){const a=Lm[o];if(n[a]!==void 0){const l=mG[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const l4=n=>e=>typeof e=="string"&&e.startsWith(n),c4=l4("--"),fS=l4("var(--"),yG=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,xG=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Al=(n,e,t)=>Math.min(Math.max(t,n),e),mu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},rp={...mu,transform:n=>Al(0,1,n)},wv={...mu,default:1},ip=n=>Math.round(n*1e5)/1e5,Px=/(-)?([\d]*\.?[\d])+/g,u4=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,wG=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Im(n){return typeof n=="string"}const Dm=n=>({test:e=>Im(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Za=Dm("deg"),Eo=Dm("%"),Rt=Dm("px"),_G=Dm("vh"),bG=Dm("vw"),H3={...Eo,parse:n=>Eo.parse(n)/100,transform:n=>Eo.transform(n*100)},G3={...mu,transform:Math.round},d4={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,size:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,rotate:Za,rotateX:Za,rotateY:Za,rotateZ:Za,scale:wv,scaleX:wv,scaleY:wv,scaleZ:wv,skew:Za,skewX:Za,skewY:Za,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:rp,originX:H3,originY:H3,originZ:Rt,zIndex:G3,fillOpacity:rp,strokeOpacity:rp,numOctaves:G3};function BM(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,d=!0;for(const h in e){const p=e[h];if(c4(h)){s[h]=p;continue}const g=d4[h],v=xG(p,g);if(pu.has(h)){if(l=!0,o[h]=v,!d)continue;p!==(g.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,a[h]=v):i[h]=v}if(e.transform||(l||r?i.transform=vG(n.transform,t,d,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;i.transformOrigin=`${h} ${p} ${g}`}}const UM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function f4(n,e,t){for(const r in e)!Oi(e[r])&&!a4(r,t)&&(n[r]=e[r])}function SG({transformTemplate:n},e,t){return N.useMemo(()=>{const r=UM();return BM(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function MG(n,e,t){const r=n.style||{},i={};return f4(i,r,n),Object.assign(i,SG(n,e,t)),n.transformValues?n.transformValues(i):i}function EG(n,e,t){const r={},i=MG(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const TG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function My(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||TG.has(n)}let h4=n=>!My(n);function CG(n){n&&(h4=e=>e.startsWith("on")?!My(e):n(e))}try{CG(require("@emotion/is-prop-valid").default)}catch{}function AG(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(h4(i)||t===!0&&My(i)||!e&&!My(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function $3(n,e,t){return typeof n=="string"?n:Rt.transform(e+t*n)}function PG(n,e,t){const r=$3(e,n.x,n.width),i=$3(t,n.y,n.height);return`${r} ${i}`}const NG={offset:"stroke-dashoffset",array:"stroke-dasharray"},kG={offset:"strokeDashoffset",array:"strokeDasharray"};function RG(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?NG:kG;n[s.offset]=Rt.transform(-r);const o=Rt.transform(e),a=Rt.transform(t);n[s.array]=`${o} ${a}`}function VM(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h,p){if(BM(n,c,d,p),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:v,dimensions:y}=n;g.transform&&(y&&(v.transform=g.transform),delete g.transform),y&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=PG(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),r!==void 0&&(g.scale=r),o!==void 0&&RG(g,o,a,l,!1)}const p4=()=>({...UM(),attrs:{}}),WM=n=>typeof n=="string"&&n.toLowerCase()==="svg";function LG(n,e,t,r){const i=N.useMemo(()=>{const s=p4();return VM(s,e,{enableHardwareAcceleration:!1},WM(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};f4(s,n.style,n),i.style={...s,...i.style}}return i}function IG(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(zM(t)?LG:EG)(r,s,o,t),d={...AG(r,typeof t=="string",n),...l,ref:i},{children:h}=r,p=N.useMemo(()=>Oi(h)?h.get():h,[h]);return N.createElement(t,{...d,children:p})}}function m4(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const g4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v4(n,e,t,r){m4(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(g4.has(i)?i:OM(i),e.attrs[i])}function HM(n,e){const{style:t}=n,r={};for(const i in t)(Oi(t[i])||e.style&&Oi(e.style[i])||a4(i,n))&&(r[i]=t[i]);return r}function y4(n,e){const t=HM(n,e);for(const r in n)if(Oi(n[r])||Oi(e[r])){const i=Lm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function GM(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function DG(n){const e=N.useRef(null);return e.current===null&&(e.current=n()),e.current}const Ey=n=>Array.isArray(n),OG=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),jG=n=>Ey(n)?n[n.length-1]||0:n;function N0(n){const e=Oi(n)?n.get():n;return OG(e)?e.toValue():e}function FG({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:zG(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const x4=n=>(e,t)=>{const r=N.useContext(Ex),i=N.useContext(DM),s=()=>FG(n,e,r,i);return t?s():DG(s)};function zG(n,e,t,r){const i={},s=r(n,{});for(const p in s)i[p]=N0(s[p]);let{initial:o,animate:a}=n;const l=Ax(n),c=i4(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!Cx(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const v=GM(n,g);if(!v)return;const{transitionEnd:y,transition:x,...b}=v;for(const _ in b){let S=b[_];if(Array.isArray(S)){const E=d?S.length-1:0;S=S[E]}S!==null&&(i[_]=S)}for(const _ in y)i[_]=y[_]}),i}const sr=n=>n;class Z3{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function BG(n){let e=new Z3,t=new Z3,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const h=d&&i,p=h?e:t;return c&&o.add(l),p.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];d(l),o.has(d)&&(a.schedule(d),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const _v=["prepare","read","update","preRender","render","postRender"],UG=40;function VG(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=_v.reduce((h,p)=>(h[p]=BG(()=>t=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,UG),1),i.timestamp=h,i.isProcessing=!0,_v.forEach(o),i.isProcessing=!1,t&&e&&(r=!1,n(a))},l=()=>{t=!0,r=!0,i.isProcessing||n(a)};return{schedule:_v.reduce((h,p)=>{const g=s[p];return h[p]=(v,y=!1,x=!1)=>(t||l(),g.schedule(v,y,x)),h},{}),cancel:h=>_v.forEach(p=>s[p].cancel(h)),state:i,steps:s}}const{schedule:Ln,cancel:xa,state:Qr,steps:Gw}=VG(typeof requestAnimationFrame<"u"?requestAnimationFrame:sr,!0),WG={useVisualState:x4({scrapeMotionValuesFromProps:y4,createRenderState:p4,onMount:(n,e,{renderState:t,latestValues:r})=>{Ln.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Ln.render(()=>{VM(t,r,{enableHardwareAcceleration:!1},WM(e.tagName),n.transformTemplate),v4(e,t)})}})},HG={useVisualState:x4({scrapeMotionValuesFromProps:HM,createRenderState:UM})};function GG(n,{forwardMotionProps:e=!1},t,r){return{...zM(n)?WG:HG,preloadedFeatures:t,useRender:IG(e),createVisualElement:r,Component:n}}function sa(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const w4=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Nx(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const $G=n=>e=>w4(e)&&n(e,Nx(e));function ua(n,e,t,r){return sa(n,e,$G(t),r)}const ZG=(n,e)=>t=>e(n(t)),wl=(...n)=>n.reduce(ZG);function _4(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const q3=_4("dragHorizontal"),X3=_4("dragVertical");function b4(n){let e=!1;if(n==="y")e=X3();else if(n==="x")e=q3();else{const t=q3(),r=X3();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function S4(){const n=b4(!0);return n?(n(),!1):!0}let Gl=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};function Y3(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||S4())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&Ln.update(()=>a[r](s,o))};return ua(n.current,t,i,{passive:!n.getProps()[r]})}class qG extends Gl{mount(){this.unmount=wl(Y3(this.node,!0),Y3(this.node,!1))}unmount(){}}class XG extends Gl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wl(sa(this.node.current,"focus",()=>this.onFocus()),sa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const M4=(n,e)=>e?n===e?!0:M4(n,e.parentElement):!1;function $w(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Nx(t))}class YG extends Gl{constructor(){super(...arguments),this.removeStartListeners=sr,this.removeEndListeners=sr,this.removeAccessibleListeners=sr,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=ua(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Ln.update(()=>{!h&&!M4(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=ua(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wl(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||$w("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Ln.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=sa(this.node.current,"keyup",o),$w("down",(a,l)=>{this.startPress(a,l)})},t=sa(this.node.current,"keydown",e),r=()=>{this.isPressing&&$w("cancel",(s,o)=>this.cancelPress(s,o))},i=sa(this.node.current,"blur",r);this.removeAccessibleListeners=wl(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ln.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!S4()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ln.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=ua(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=sa(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wl(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const hS=new WeakMap,Zw=new WeakMap,KG=n=>{const e=hS.get(n.target);e&&e(n)},QG=n=>{n.forEach(KG)};function JG({root:n,...e}){const t=n||document;Zw.has(t)||Zw.set(t,{});const r=Zw.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(QG,{root:n,...e})),r[i]}function e7(n,e,t){const r=JG(e);return hS.set(n,t),r.observe(n),()=>{hS.delete(n),r.unobserve(n)}}const t7={some:0,all:1};class n7 extends Gl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:t7[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return e7(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(r7(e,t))&&this.startObserver()}unmount(){}}function r7({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const i7={inView:{Feature:n7},tap:{Feature:YG},focus:{Feature:XG},hover:{Feature:qG}};function E4(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function s7(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function o7(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function kx(n,e,t){const r=n.getProps();return GM(r,e,t!==void 0?t:r.custom,s7(n),o7(n))}let Ty=sr;const Wc=n=>n*1e3,da=n=>n/1e3,a7={current:!1},T4=n=>Array.isArray(n)&&typeof n[0]=="number";function C4(n){return!!(!n||typeof n=="string"&&A4[n]||T4(n)||Array.isArray(n)&&n.every(C4))}const Vh=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,A4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vh([0,.65,.55,1]),circOut:Vh([.55,0,1,.45]),backIn:Vh([.31,.01,.66,-.59]),backOut:Vh([.33,1.53,.69,.99])};function P4(n){if(n)return T4(n)?Vh(n):Array.isArray(n)?n.map(P4):A4[n]}function l7(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const d=P4(a);return Array.isArray(d)&&(c.easing=d),n.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function c7(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const N4=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,u7=1e-7,d7=12;function f7(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=N4(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>u7&&++a<d7);return o}function Om(n,e,t,r){if(n===e&&t===r)return sr;const i=s=>f7(s,0,1,n,t);return s=>s===0||s===1?s:N4(i(s),e,r)}const h7=Om(.42,0,1,1),p7=Om(0,0,.58,1),k4=Om(.42,0,.58,1),m7=n=>Array.isArray(n)&&typeof n[0]!="number",R4=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,L4=n=>e=>1-n(1-e),$M=n=>1-Math.sin(Math.acos(n)),I4=L4($M),g7=R4($M),D4=Om(.33,1.53,.69,.99),ZM=L4(D4),v7=R4(ZM),y7=n=>(n*=2)<1?.5*ZM(n):.5*(2-Math.pow(2,-10*(n-1))),K3={linear:sr,easeIn:h7,easeInOut:k4,easeOut:p7,circIn:$M,circInOut:g7,circOut:I4,backIn:ZM,backInOut:v7,backOut:D4,anticipate:y7},Q3=n=>{if(Array.isArray(n)){Ty(n.length===4);const[e,t,r,i]=n;return Om(e,t,r,i)}else if(typeof n=="string")return Ty(K3[n]!==void 0),K3[n];return n},qM=(n,e)=>t=>!!(Im(t)&&wG.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),O4=(n,e,t)=>r=>{if(!Im(r))return r;const[i,s,o,a]=r.match(Px);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},x7=n=>Al(0,255,n),qw={...mu,transform:n=>Math.round(x7(n))},Ac={test:qM("rgb","red"),parse:O4("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+qw.transform(n)+", "+qw.transform(e)+", "+qw.transform(t)+", "+ip(rp.transform(r))+")"};function w7(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const pS={test:qM("#"),parse:w7,transform:Ac.transform},Ed={test:qM("hsl","hue"),parse:O4("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Eo.transform(ip(e))+", "+Eo.transform(ip(t))+", "+ip(rp.transform(r))+")"},pi={test:n=>Ac.test(n)||pS.test(n)||Ed.test(n),parse:n=>Ac.test(n)?Ac.parse(n):Ed.test(n)?Ed.parse(n):pS.parse(n),transform:n=>Im(n)?n:n.hasOwnProperty("red")?Ac.transform(n):Ed.transform(n)},Vn=(n,e,t)=>-t*n+t*e+n;function Xw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function _7({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=Xw(l,a,n+1/3),s=Xw(l,a,n),o=Xw(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Yw=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},b7=[pS,Ac,Ed],S7=n=>b7.find(e=>e.test(n));function J3(n){const e=S7(n);let t=e.parse(n);return e===Ed&&(t=_7(t)),t}const j4=(n,e)=>{const t=J3(n),r=J3(e),i={...t};return s=>(i.red=Yw(t.red,r.red,s),i.green=Yw(t.green,r.green,s),i.blue=Yw(t.blue,r.blue,s),i.alpha=Vn(t.alpha,r.alpha,s),Ac.transform(i))};function M7(n){var e,t;return isNaN(n)&&Im(n)&&(((e=n.match(Px))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(u4))===null||t===void 0?void 0:t.length)||0)>0}const F4={regex:yG,countKey:"Vars",token:"${v}",parse:sr},z4={regex:u4,countKey:"Colors",token:"${c}",parse:pi.parse},B4={regex:Px,countKey:"Numbers",token:"${n}",parse:mu.parse};function Kw(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function Cy(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Kw(t,F4),Kw(t,z4),Kw(t,B4),t}function U4(n){return Cy(n).values}function V4(n){const{values:e,numColors:t,numVars:r,tokenised:i}=Cy(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(F4.token,o[l]):l<r+t?a=a.replace(z4.token,pi.transform(o[l])):a=a.replace(B4.token,ip(o[l]));return a}}const E7=n=>typeof n=="number"?0:n;function T7(n){const e=U4(n);return V4(n)(e.map(E7))}const Pl={test:M7,parse:U4,createTransformer:V4,getAnimatableNone:T7},W4=(n,e)=>t=>`${t>0?e:n}`;function H4(n,e){return typeof n=="number"?t=>Vn(n,e,t):pi.test(n)?j4(n,e):n.startsWith("var(")?W4(n,e):$4(n,e)}const G4=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>H4(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},C7=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=H4(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},$4=(n,e)=>{const t=Pl.createTransformer(e),r=Cy(n),i=Cy(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?wl(G4(r.values,i.values),t):W4(n,e)},Bp=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},eP=(n,e)=>t=>Vn(n,e,t);function A7(n){return typeof n=="number"?eP:typeof n=="string"?pi.test(n)?j4:$4:Array.isArray(n)?G4:typeof n=="object"?C7:eP}function P7(n,e,t){const r=[],i=t||A7(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||sr:e;a=wl(l,a)}r.push(a)}return r}function Z4(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(Ty(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=P7(e,r,i),a=o.length,l=c=>{let d=0;if(a>1)for(;d<n.length-2&&!(c<n[d+1]);d++);const h=Bp(n[d],n[d+1],c);return o[d](h)};return t?c=>l(Al(n[0],n[s-1],c)):l}function N7(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Bp(0,e,r);n.push(Vn(t,1,i))}}function k7(n){const e=[0];return N7(e,n.length-1),e}function R7(n,e){return n.map(t=>t*e)}function L7(n,e){return n.map(()=>e||k4).splice(0,n.length-1)}function Ay({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=m7(r)?r.map(Q3):Q3(r),s={done:!1,value:e[0]},o=R7(t&&t.length===e.length?t:k7(e),n),a=Z4(o,e,{ease:Array.isArray(i)?i:L7(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function q4(n,e){return e?n*(1e3/e):0}const I7=5;function X4(n,e,t){const r=Math.max(e-I7,0);return q4(t-n(r),e-r)}const Qw=.001,D7=.01,O7=10,j7=.05,F7=1;function z7({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s,o=1-e;o=Al(j7,F7,o),n=Al(D7,O7,da(n)),o<1?(i=c=>{const d=c*o,h=d*n,p=d-t,g=mS(c,o),v=Math.exp(-h);return Qw-p/g*v},s=c=>{const h=c*o*n,p=h*t+t,g=Math.pow(o,2)*Math.pow(c,2)*n,v=Math.exp(-h),y=mS(Math.pow(c,2),o);return(-i(c)+Qw>0?-1:1)*((p-g)*v)/y}):(i=c=>{const d=Math.exp(-c*n),h=(c-t)*n+1;return-Qw+d*h},s=c=>{const d=Math.exp(-c*n),h=(t-c)*(n*n);return d*h});const a=5/n,l=U7(i,s,a);if(n=Wc(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const B7=12;function U7(n,e,t){let r=t;for(let i=1;i<B7;i++)r=r-n(r)/e(r);return r}function mS(n,e){return n*Math.sqrt(1-e*e)}const V7=["duration","bounce"],W7=["stiffness","damping","mass"];function tP(n,e){return e.some(t=>n[t]!==void 0)}function H7(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!tP(n,W7)&&tP(n,V7)){const t=z7(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function Y4({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:p}=H7({...r,velocity:-da(r.velocity||0)}),g=h||0,v=l/(2*Math.sqrt(a*c)),y=s-i,x=da(Math.sqrt(a/c)),b=Math.abs(y)<5;t||(t=b?.01:2),e||(e=b?.005:.5);let _;if(v<1){const S=mS(x,v);_=E=>{const C=Math.exp(-v*x*E);return s-C*((g+v*x*y)/S*Math.sin(S*E)+y*Math.cos(S*E))}}else if(v===1)_=S=>s-Math.exp(-x*S)*(y+(g+x*y)*S);else{const S=x*Math.sqrt(v*v-1);_=E=>{const C=Math.exp(-v*x*E),P=Math.min(S*E,300);return s-C*((g+v*x*y)*Math.sinh(P)+S*y*Math.cosh(P))/S}}return{calculatedDuration:p&&d||null,next:S=>{const E=_(S);if(p)o.done=S>=d;else{let C=g;S!==0&&(v<1?C=X4(_,S,E):C=0);const P=Math.abs(C)<=t,I=Math.abs(s-E)<=e;o.done=P&&I}return o.value=o.done?s:E,o}}}function nP({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=n[0],p={done:!1,value:h},g=T=>a!==void 0&&T<a||l!==void 0&&T>l,v=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let y=t*e;const x=h+y,b=o===void 0?x:o(x);b!==x&&(y=b-h);const _=T=>-y*Math.exp(-T/r),S=T=>b+_(T),E=T=>{const k=_(T),O=S(T);p.done=Math.abs(k)<=c,p.value=p.done?b:O};let C,P;const I=T=>{g(p.value)&&(C=T,P=Y4({keyframes:[p.value,v(p.value)],velocity:X4(S,T,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return I(0),{calculatedDuration:null,next:T=>{let k=!1;return!P&&C===void 0&&(k=!0,E(T),I(T)),C!==void 0&&T>C?P.next(T-C):(!k&&E(T),p)}}}const G7=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ln.update(e,!0),stop:()=>xa(e),now:()=>Qr.isProcessing?Qr.timestamp:performance.now()}},rP=2e4;function iP(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<rP;)e+=t,r=n.next(e);return e>=rP?1/0:e}const $7={decay:nP,inertia:nP,tween:Ay,keyframes:Ay,spring:Y4};function Py({autoplay:n=!0,delay:e=0,driver:t=G7,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:h,...p}){let g=1,v=!1,y,x;const b=()=>{x=new Promise(J=>{y=J})};b();let _;const S=$7[i]||Ay;let E;S!==Ay&&typeof r[0]!="number"&&(E=Z4([0,100],r,{clamp:!1}),r=[0,100]);const C=S({...p,keyframes:r});let P;a==="mirror"&&(P=S({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let I="idle",T=null,k=null,O=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=iP(C));const{calculatedDuration:U}=C;let H=1/0,V=1/0;U!==null&&(H=U+o,V=H*(s+1)-o);let z=0;const ee=J=>{if(k===null)return;g>0&&(k=Math.min(k,J)),g<0&&(k=Math.min(J-V/g,k)),T!==null?z=T:z=Math.round(J-k)*g;const Z=z-e*(g>=0?1:-1),oe=g>=0?Z<0:Z>V;z=Math.max(Z,0),I==="finished"&&T===null&&(z=V);let we=z,Ae=C;if(s){const et=Math.min(z,V)/H;let De=Math.floor(et),He=et%1;!He&&et>=1&&(He=1),He===1&&De--,De=Math.min(De,s+1),!!(De%2)&&(a==="reverse"?(He=1-He,o&&(He-=o/H)):a==="mirror"&&(Ae=P)),we=Al(0,1,He)*H}const re=oe?{done:!1,value:r[0]}:Ae.next(we);E&&(re.value=E(re.value));let{done:Ve}=re;!oe&&U!==null&&(Ve=g>=0?z>=V:z<=0);const Ge=T===null&&(I==="finished"||I==="running"&&Ve);return h&&h(re.value),Ge&&D(),re},K=()=>{_&&_.stop(),_=void 0},le=()=>{I="idle",K(),y(),b(),k=O=null},D=()=>{I="finished",d&&d(),K(),y()},W=()=>{if(v)return;_||(_=t(ee));const J=_.now();l&&l(),T!==null?k=J-T:(!k||I==="finished")&&(k=J),I==="finished"&&b(),O=k,T=null,I="running",_.start()};n&&W();const G={then(J,Z){return x.then(J,Z)},get time(){return da(z)},set time(J){J=Wc(J),z=J,T!==null||!_||g===0?T=J:k=_.now()-J/g},get duration(){const J=C.calculatedDuration===null?iP(C):C.calculatedDuration;return da(J)},get speed(){return g},set speed(J){J===g||!_||(g=J,G.time=da(z))},get state(){return I},play:W,pause:()=>{I="paused",T=z},stop:()=>{v=!0,I!=="idle"&&(I="idle",c&&c(),le())},cancel:()=>{O!==null&&ee(O),le()},complete:()=>{I="finished"},sample:J=>(k=0,ee(J))};return G}function Z7(n){let e;return()=>(e===void 0&&(e=n()),e)}const q7=Z7(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),X7=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),bv=10,Y7=2e4,K7=(n,e)=>e.type==="spring"||n==="backgroundColor"||!C4(e.ease);function Q7(n,e,{onUpdate:t,onComplete:r,...i}){if(!(q7()&&X7.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(S=>{a=S})};d();let{keyframes:h,duration:p=300,ease:g,times:v}=i;if(K7(e,i)){const S=Py({...i,repeat:0,delay:0});let E={done:!1,value:h[0]};const C=[];let P=0;for(;!E.done&&P<Y7;)E=S.sample(P),C.push(E.value),P+=bv;v=void 0,h=C,p=P-bv,g="linear"}const y=l7(n.owner.current,e,h,{...i,duration:p,ease:g,times:v}),x=()=>{c=!1,y.cancel()},b=()=>{c=!0,Ln.update(x),a(),d()};return y.onfinish=()=>{c||(n.set(c7(h,i)),r&&r(),b())},{then(S,E){return l.then(S,E)},attachTimeline(S){return y.timeline=S,y.onfinish=null,sr},get time(){return da(y.currentTime||0)},set time(S){y.currentTime=Wc(S)},get speed(){return y.playbackRate},set speed(S){y.playbackRate=S},get duration(){return da(p)},play:()=>{o||(y.play(),xa(x))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:S}=y;if(S){const E=Py({...i,autoplay:!1});n.setWithVelocity(E.sample(S-bv).value,E.sample(S).value,bv)}b()},complete:()=>{c||y.finish()},cancel:b}}function J7({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:sr,pause:sr,stop:sr,then:s=>(s(),Promise.resolve()),cancel:sr,complete:sr});return e?Py({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const e$={type:"spring",stiffness:500,damping:25,restSpeed:10},t$=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),n$={type:"keyframes",duration:.8},r$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},i$=(n,{keyframes:e})=>e.length>2?n$:pu.has(n)?n.startsWith("scale")?t$(e[1]):e$:r$,gS=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Pl.test(e)||e==="0")&&!e.startsWith("url(")),s$=new Set(["brightness","contrast","saturate","opacity"]);function o$(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Px)||[];if(!r)return n;const i=t.replace(r,"");let s=s$.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const a$=/([a-z-]*)\(.*?\)/g,vS={...Pl,getAnimatableNone:n=>{const e=n.match(a$);return e?e.map(o$).join(" "):n}},l$={...d4,color:pi,backgroundColor:pi,outlineColor:pi,fill:pi,stroke:pi,borderColor:pi,borderTopColor:pi,borderRightColor:pi,borderBottomColor:pi,borderLeftColor:pi,filter:vS,WebkitFilter:vS},XM=n=>l$[n];function K4(n,e){let t=XM(n);return t!==vS&&(t=Pl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Q4=n=>/^0[^.\s]+$/.test(n);function c$(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||Q4(n)}function u$(n,e,t,r){const i=gS(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),c$(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];s[d]=K4(e,a)}return s}function d$({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function YM(n,e){return n[e]||n.default||n}const f$={skipAnimations:!1},KM=(n,e,t,r={})=>i=>{const s=YM(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Wc(o);const l=u$(e,n,t,s),c=l[0],d=l[l.length-1],h=gS(n,c),p=gS(n,d);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(d$(s)||(g={...g,...i$(n,g)}),g.duration&&(g.duration=Wc(g.duration)),g.repeatDelay&&(g.repeatDelay=Wc(g.repeatDelay)),!h||!p||a7.current||s.type===!1||f$.skipAnimations)return J7(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=Q7(e,n,g);if(v)return v}return Py(g)};function Ny(n){return!!(Oi(n)&&n.add)}const J4=n=>/^\-?\d*\.?\d+$/.test(n);function QM(n,e){n.indexOf(e)===-1&&n.push(e)}function JM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class eE{constructor(){this.subscriptions=[]}add(e){return QM(this.subscriptions,e),()=>JM(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const h$=n=>!isNaN(parseFloat(n));class p${constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Qr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ln.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ln.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=h$(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new eE);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ln.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?q4(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ff(n,e){return new p$(n,e)}const eO=n=>e=>e.test(n),m$={test:n=>n==="auto",parse:n=>n},tO=[mu,Rt,Eo,Za,bG,_G,m$],mh=n=>tO.find(eO(n)),g$=[...tO,pi,Pl],v$=n=>g$.find(eO(n));function y$(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ff(t))}function x$(n,e){const t=kx(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=jG(s[o]);y$(n,o,a)}}function w$(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(J4(d)||Q4(d))?d=parseFloat(d):!v$(d)&&Pl.test(c)&&(d=K4(l,c)),n.addValue(l,ff(d,{owner:n})),t[l]===void 0&&(t[l]=d),d!==null&&n.setBaseTarget(l,d))}}function _$(n,e){return e?(e[n]||e.default||e).from:void 0}function b$(n,e,t){const r={};for(const i in n){const s=_$(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function S$({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function M$(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function nO(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],d=i&&n.animationState&&n.animationState.getState()[i];for(const h in a){const p=n.getValue(h),g=a[h];if(!p||g===void 0||d&&S$(d,h))continue;const v={delay:t,elapsed:0,...YM(s||{},h)};if(window.HandoffAppearAnimations){const b=n.getProps()[r4];if(b){const _=window.HandoffAppearAnimations(b,h,p,Ln);_!==null&&(v.elapsed=_,v.isHandoff=!0)}}let y=!v.isHandoff&&!M$(p,g);if(v.type==="spring"&&(p.getVelocity()||v.velocity)&&(y=!1),p.animation&&(y=!1),y)continue;p.start(KM(h,p,g,n.shouldReduceMotion&&pu.has(h)?{type:!1}:v));const x=p.animation;Ny(l)&&(l.add(h),x.then(()=>l.remove(h))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&x$(n,o)}),c}function yS(n,e,t={}){const r=kx(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(nO(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return E$(n,e,c+l,d,h,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function E$(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(T$).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(yS(c,e,{...s,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function T$(n,e){return n.sortNodePosition(e)}function C$(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>yS(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=yS(n,e,t);else{const i=typeof e=="function"?kx(n,e,t.custom):e;r=Promise.all(nO(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const A$=[...jM].reverse(),P$=jM.length;function N$(n){return e=>Promise.all(e.map(({animation:t,options:r})=>C$(n,t,r)))}function k$(n){let e=N$(n);const t=L$();let r=!0;const i=(l,c)=>{const d=kx(n,c);if(d){const{transition:h,transitionEnd:p,...g}=d;l={...l,...g,...p}}return l};function s(l){e=l(n)}function o(l,c){const d=n.getProps(),h=n.getVariantContext(!0)||{},p=[],g=new Set;let v={},y=1/0;for(let b=0;b<P$;b++){const _=A$[b],S=t[_],E=d[_]!==void 0?d[_]:h[_],C=Fp(E),P=_===c?S.isActive:null;P===!1&&(y=b);let I=E===h[_]&&E!==d[_]&&C;if(I&&r&&n.manuallyAnimateOnMount&&(I=!1),S.protectedKeys={...v},!S.isActive&&P===null||!E&&!S.prevProp||Cx(E)||typeof E=="boolean")continue;let k=R$(S.prevProp,E)||_===c&&S.isActive&&!I&&C||b>y&&C,O=!1;const U=Array.isArray(E)?E:[E];let H=U.reduce(i,{});P===!1&&(H={});const{prevResolvedValues:V={}}=S,z={...V,...H},ee=K=>{k=!0,g.has(K)&&(O=!0,g.delete(K)),S.needsAnimating[K]=!0};for(const K in z){const le=H[K],D=V[K];if(v.hasOwnProperty(K))continue;let W=!1;Ey(le)&&Ey(D)?W=!E4(le,D):W=le!==D,W?le!==void 0?ee(K):g.add(K):le!==void 0&&g.has(K)?ee(K):S.protectedKeys[K]=!0}S.prevProp=E,S.prevResolvedValues=H,S.isActive&&(v={...v,...H}),r&&n.blockInitialAnimation&&(k=!1),k&&(!I||O)&&p.push(...U.map(K=>({animation:K,options:{type:_,...l}})))}if(g.size){const b={};g.forEach(_=>{const S=n.getBaseTarget(_);S!==void 0&&(b[_]=S)}),p.push({animation:b})}let x=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function a(l,c,d){var h;if(t[l].isActive===c)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(g=>{var v;return(v=g.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),t[l].isActive=c;const p=o(d,l);for(const g in t)t[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function R$(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!E4(e,n):!1}function oc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function L$(){return{animate:oc(!0),whileInView:oc(),whileHover:oc(),whileTap:oc(),whileDrag:oc(),whileFocus:oc(),exit:oc()}}class I$ extends Gl{constructor(e){super(e),e.animationState||(e.animationState=k$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Cx(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let D$=0;class O$ extends Gl{constructor(){super(...arguments),this.id=D$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const j$={animation:{Feature:I$},exit:{Feature:O$}},sP=(n,e)=>Math.abs(n-e);function F$(n,e){const t=sP(n.x,e.x),r=sP(n.y,e.y);return Math.sqrt(t**2+r**2)}class rO{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=e_(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=F$(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=h,{timestamp:y}=Qr;this.history.push({...v,timestamp:y});const{onStart:x,onMove:b}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Jw(p,this.transformPagePoint),Ln.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=e_(h.type==="pointercancel"?this.lastMoveEventInfo:Jw(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,x),v&&v(h,x)},!w4(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=Nx(e),a=Jw(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Qr;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,e_(a,this.history)),this.removeListeners=wl(ua(this.contextWindow,"pointermove",this.handlePointerMove),ua(this.contextWindow,"pointerup",this.handlePointerUp),ua(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xa(this.updatePoint)}}function Jw(n,e){return e?{point:e(n.point)}:n}function oP(n,e){return{x:n.x-e.x,y:n.y-e.y}}function e_({point:n},e){return{point:n,delta:oP(n,iO(e)),offset:oP(n,z$(e)),velocity:B$(e,.1)}}function z$(n){return n[0]}function iO(n){return n[n.length-1]}function B$(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=iO(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Wc(e)));)t--;if(!r)return{x:0,y:0};const s=da(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ns(n){return n.max-n.min}function xS(n,e=0,t=.01){return Math.abs(n-e)<=t}function aP(n,e,t,r=.5){n.origin=r,n.originPoint=Vn(e.min,e.max,n.origin),n.scale=ns(t)/ns(e),(xS(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Vn(t.min,t.max,n.origin)-n.originPoint,(xS(n.translate)||isNaN(n.translate))&&(n.translate=0)}function sp(n,e,t,r){aP(n.x,e.x,t.x,r?r.originX:void 0),aP(n.y,e.y,t.y,r?r.originY:void 0)}function lP(n,e,t){n.min=t.min+e.min,n.max=n.min+ns(e)}function U$(n,e,t){lP(n.x,e.x,t.x),lP(n.y,e.y,t.y)}function cP(n,e,t){n.min=e.min-t.min,n.max=n.min+ns(e)}function op(n,e,t){cP(n.x,e.x,t.x),cP(n.y,e.y,t.y)}function V$(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Vn(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Vn(t,n,r.max):Math.min(n,t)),n}function uP(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function W$(n,{top:e,left:t,bottom:r,right:i}){return{x:uP(n.x,t,i),y:uP(n.y,e,r)}}function dP(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function H$(n,e){return{x:dP(n.x,e.x),y:dP(n.y,e.y)}}function G$(n,e){let t=.5;const r=ns(n),i=ns(e);return i>r?t=Bp(e.min,e.max-r,n.min):r>i&&(t=Bp(n.min,n.max-i,e.min)),Al(0,1,t)}function $$(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const wS=.35;function Z$(n=wS){return n===!1?n=0:n===!0&&(n=wS),{x:fP(n,"left","right"),y:fP(n,"top","bottom")}}function fP(n,e,t){return{min:hP(n,e),max:hP(n,t)}}function hP(n,e){return typeof n=="number"?n:n[e]||0}const pP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Td=()=>({x:pP(),y:pP()}),mP=()=>({min:0,max:0}),hr=()=>({x:mP(),y:mP()});function vs(n){return[n("x"),n("y")]}function sO({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function q$({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function X$(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function t_(n){return n===void 0||n===1}function _S({scale:n,scaleX:e,scaleY:t}){return!t_(n)||!t_(e)||!t_(t)}function yc(n){return _S(n)||oO(n)||n.z||n.rotate||n.rotateX||n.rotateY}function oO(n){return gP(n.x)||gP(n.y)}function gP(n){return n&&n!=="0%"}function ky(n,e,t){const r=n-t,i=e*r;return t+i}function vP(n,e,t,r,i){return i!==void 0&&(n=ky(n,i,r)),ky(n,t,r)+e}function bS(n,e=0,t=1,r,i){n.min=vP(n.min,e,t,r,i),n.max=vP(n.max,e,t,r,i)}function aO(n,{x:e,y:t}){bS(n.x,e.translate,e.scale,e.originPoint),bS(n.y,t.translate,t.scale,t.originPoint)}function Y$(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Cd(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,aO(n,o)),r&&yc(s.latestValues)&&Cd(n,s.latestValues))}e.x=yP(e.x),e.y=yP(e.y)}function yP(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Ya(n,e){n.min=n.min+e,n.max=n.max+e}function xP(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Vn(n.min,n.max,s);bS(n,e[t],e[r],o,e.scale)}const K$=["x","scaleX","originX"],Q$=["y","scaleY","originY"];function Cd(n,e){xP(n.x,e,K$),xP(n.y,e,Q$)}function lO(n,e){return sO(X$(n.getBoundingClientRect(),e))}function J$(n,e,t){const r=lO(n,t),{scroll:i}=e;return i&&(Ya(r.x,i.offset.x),Ya(r.y,i.offset.y)),r}const cO=({current:n})=>n?n.ownerDocument.defaultView:null,eZ=new WeakMap;class tZ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Nx(d,"page").point)},s=(d,h)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=b4(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vs(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Eo.test(b)){const{projection:_}=this.visualElement;if(_&&_.layout){const S=_.layout.layoutBox[x];S&&(b=ns(S)*(parseFloat(b)/100))}}this.originPoint[x]=b}),v&&Ln.update(()=>v(d,h),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=h;if(g&&this.currentDirection===null){this.currentDirection=nZ(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&y(d,h)},a=(d,h)=>this.stop(d,h),l=()=>vs(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new rO(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:cO(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ln.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Sv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=V$(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Md(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=W$(i.layoutBox,t):this.constraints=!1,this.elastic=Z$(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vs(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=$$(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Md(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=J$(r,i.root,this.visualElement.getTransformPagePoint());let o=H$(i.layout.layoutBox,s);if(t){const a=t(q$(o));this.hasMutatedConstraints=!!a,a&&(o=sO(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=vs(d=>{if(!Sv(d,t,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(KM(e,r,0,t))}stopAnimation(){vs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vs(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vs(t=>{const{drag:r}=this.getProps();if(!Sv(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-Vn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Md(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vs(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=G$({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vs(o=>{if(!Sv(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Vn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;eZ.set(this.visualElement,this);const e=this.visualElement.current,t=ua(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Md(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=sa(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(vs(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=wS,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Sv(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function nZ(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class rZ extends Gl{constructor(e){super(e),this.removeGroupControls=sr,this.removeListeners=sr,this.controls=new tZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sr}unmount(){this.removeGroupControls(),this.removeListeners()}}const wP=n=>(e,t)=>{n&&Ln.update(()=>n(e,t))};class iZ extends Gl{constructor(){super(...arguments),this.removePointerDownListener=sr}onPointerDown(e){this.session=new rO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:wP(e),onStart:wP(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ln.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=ua(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function sZ(){const n=N.useContext(DM);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=N.useId();return N.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const k0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _P(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const gh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Rt.test(n))n=parseFloat(n);else return n;const t=_P(n,e.target.x),r=_P(n,e.target.y);return`${t}% ${r}%`}},oZ={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Pl.parse(n);if(i.length>5)return r;const s=Pl.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Vn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class aZ extends Ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;pG(lZ),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),k0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ln.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function uO(n){const[e,t]=sZ(),r=N.useContext(s4);return Ee.createElement(aZ,{...n,layoutGroup:r,switchLayoutGroup:N.useContext(o4),isPresent:e,safeToRemove:t})}const lZ={borderRadius:{...gh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gh,borderTopRightRadius:gh,borderBottomLeftRadius:gh,borderBottomRightRadius:gh,boxShadow:oZ},dO=["TopLeft","TopRight","BottomLeft","BottomRight"],cZ=dO.length,bP=n=>typeof n=="string"?parseFloat(n):n,SP=n=>typeof n=="number"||Rt.test(n);function uZ(n,e,t,r,i,s){i?(n.opacity=Vn(0,t.opacity!==void 0?t.opacity:1,dZ(r)),n.opacityExit=Vn(e.opacity!==void 0?e.opacity:1,0,fZ(r))):s&&(n.opacity=Vn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<cZ;o++){const a=`border${dO[o]}Radius`;let l=MP(e,a),c=MP(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||SP(l)===SP(c)?(n[a]=Math.max(Vn(bP(l),bP(c),r),0),(Eo.test(c)||Eo.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=Vn(e.rotate||0,t.rotate||0,r))}function MP(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const dZ=fO(0,.5,I4),fZ=fO(.5,.95,sr);function fO(n,e,t){return r=>r<n?0:r>e?1:t(Bp(n,e,r))}function EP(n,e){n.min=e.min,n.max=e.max}function ps(n,e){EP(n.x,e.x),EP(n.y,e.y)}function TP(n,e,t,r,i){return n-=e,n=ky(n,1/t,r),i!==void 0&&(n=ky(n,1/i,r)),n}function hZ(n,e=0,t=1,r=.5,i,s=n,o=n){if(Eo.test(e)&&(e=parseFloat(e),e=Vn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Vn(s.min,s.max,r);n===s&&(a-=e),n.min=TP(n.min,e,t,a,i),n.max=TP(n.max,e,t,a,i)}function CP(n,e,[t,r,i],s,o){hZ(n,e[t],e[r],e[i],e.scale,s,o)}const pZ=["x","scaleX","originX"],mZ=["y","scaleY","originY"];function AP(n,e,t,r){CP(n.x,e,pZ,t?t.x:void 0,r?r.x:void 0),CP(n.y,e,mZ,t?t.y:void 0,r?r.y:void 0)}function PP(n){return n.translate===0&&n.scale===1}function hO(n){return PP(n.x)&&PP(n.y)}function gZ(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function pO(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function NP(n){return ns(n.x)/ns(n.y)}class vZ{constructor(){this.members=[]}add(e){QM(this.members,e),e.scheduleRender()}remove(e){if(JM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kP(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:d}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const yZ=(n,e)=>n.depth-e.depth;class xZ{constructor(){this.children=[],this.isDirty=!1}add(e){QM(this.children,e),this.isDirty=!0}remove(e){JM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yZ),this.isDirty=!1,this.children.forEach(e)}}function wZ(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(xa(r),n(s-e))};return Ln.read(r,!0),()=>xa(r)}function _Z(n){window.MotionDebug&&window.MotionDebug.record(n)}function bZ(n){return n instanceof SVGElement&&n.tagName!=="svg"}function SZ(n,e,t){const r=Oi(n)?n:ff(n);return r.start(KM("",r,e,t)),r.animation}const RP=["","X","Y","Z"],MZ={visibility:"hidden"},LP=1e3;let EZ=0;const xc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function mO({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=EZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xc.totalNodes=xc.resolvedTargetDeltas=xc.recalculatedProjection=0,this.nodes.forEach(AZ),this.nodes.forEach(LZ),this.nodes.forEach(IZ),this.nodes.forEach(PZ),_Z(xc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new xZ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new eE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bZ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=wZ(p,250),k0.hasAnimatedSinceResize&&(k0.hasAnimatedSinceResize=!1,this.nodes.forEach(DP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||zZ,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),_=!this.targetLayout||!pO(this.targetLayout,v)||g,S=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const E={...YM(y,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||DP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DZ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IP);return}this.isUpdating||this.nodes.forEach(kZ),this.isUpdating=!1,this.nodes.forEach(RZ),this.nodes.forEach(TZ),this.nodes.forEach(CZ),this.clearAllSnapshots();const a=performance.now();Qr.delta=Al(0,1e3/60,a-Qr.timestamp),Qr.timestamp=a,Qr.isProcessing=!0,Gw.update.process(Qr),Gw.preRender.process(Qr),Gw.render.process(Qr),Qr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(NZ),this.sharedNodes.forEach(OZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!hO(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||yc(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),BZ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return hr();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ya(a.x,l.offset.x),Ya(a.y,l.offset.y)),a}removeElementScroll(o){const a=hr();ps(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){ps(a,o);const{scroll:p}=this.root;p&&(Ya(a.x,-p.offset.x),Ya(a.y,-p.offset.y))}Ya(a.x,d.offset.x),Ya(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=hr();ps(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Cd(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),yc(d.latestValues)&&Cd(l,d.latestValues)}return yc(this.latestValues)&&Cd(l,this.latestValues),l}removeTransform(o){const a=hr();ps(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!yc(c.latestValues))continue;_S(c.latestValues)&&c.updateSnapshot();const d=hr(),h=c.measurePageBox();ps(d,h),AP(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return yc(this.latestValues)&&AP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Qr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hr(),this.relativeTargetOrigin=hr(),op(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=hr(),this.targetWithTransforms=hr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ps(this.target,this.layout.layoutBox),aO(this.target,this.targetDelta)):ps(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hr(),this.relativeTargetOrigin=hr(),op(this.relativeTargetOrigin,this.target,g.target),ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_S(this.parent.latestValues)||oO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Qr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ps(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Y$(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Td(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Td(),this.projectionDeltaWithTransform=Td());const y=this.projectionTransform;sp(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=kP(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==p||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),xc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Td();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=hr(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,x=this.getStack(),b=!x||x.members.length<=1,_=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(FZ));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const C=E/1e3;OP(h.x,o.x,C),OP(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(op(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jZ(this.relativeTarget,this.relativeTargetOrigin,p,C),S&&gZ(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=hr()),ps(S,this.relativeTarget)),y&&(this.animationValues=d,uZ(d,c,this.latestValues,C,_,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ln.update(()=>{k0.hasAnimatedSinceResize=!0,this.currentAnimation=SZ(0,LP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&gO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||hr();const h=ns(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=ns(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ps(a,l),Cd(a,d),sp(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new vZ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<RP.length;d++){const h="rotate"+RP[d];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return MZ;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=N0(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=N0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!yc(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=kP(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:g,y:v}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in Sy){if(p[y]===void 0)continue;const{correct:x,applyTo:b}=Sy[y],_=c.transform==="none"?p[y]:x(p[y],h);if(b){const S=b.length;for(let E=0;E<S;E++)c[b[E]]=_}else c[y]=_}return this.options.layoutId&&(c.pointerEvents=h===this?N0(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(IP),this.root.sharedNodes.clear()}}}function TZ(n){n.updateLayout()}function CZ(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?vs(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],g=ns(p);p.min=r[h].min,p.max=p.min+g}):gO(s,t.layoutBox,r)&&vs(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],g=ns(r[h]);p.max=p.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+g)});const a=Td();sp(a,r,t.layoutBox);const l=Td();o?sp(l,n.applyTransform(i,!0),t.measuredBox):sp(l,r,t.layoutBox);const c=!hO(a);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const v=hr();op(v,t.layoutBox,p.layoutBox);const y=hr();op(y,r,g.layoutBox),pO(v,y)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=y,n.relativeTargetOrigin=v,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function AZ(n){xc.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function PZ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function NZ(n){n.clearSnapshot()}function IP(n){n.clearMeasurements()}function kZ(n){n.isLayoutDirty=!1}function RZ(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function DP(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function LZ(n){n.resolveTargetDelta()}function IZ(n){n.calcProjection()}function DZ(n){n.resetRotation()}function OZ(n){n.removeLeadSnapshot()}function OP(n,e,t){n.translate=Vn(e.translate,0,t),n.scale=Vn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function jP(n,e,t,r){n.min=Vn(e.min,t.min,r),n.max=Vn(e.max,t.max,r)}function jZ(n,e,t,r){jP(n.x,e.x,t.x,r),jP(n.y,e.y,t.y,r)}function FZ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const zZ={duration:.45,ease:[.4,0,.1,1]},FP=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),zP=FP("applewebkit/")&&!FP("chrome/")?Math.round:sr;function BP(n){n.min=zP(n.min),n.max=zP(n.max)}function BZ(n){BP(n.x),BP(n.y)}function gO(n,e,t){return n==="position"||n==="preserve-aspect"&&!xS(NP(e),NP(t),.2)}const UZ=mO({attachResizeListener:(n,e)=>sa(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),n_={current:void 0},vO=mO({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!n_.current){const n=new UZ({});n.mount(window),n.setOptions({layoutScroll:!0}),n_.current=n}return n_.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),VZ={pan:{Feature:iZ},drag:{Feature:rZ,ProjectionNode:vO,MeasureLayout:uO}},WZ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function HZ(n){const e=WZ.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function SS(n,e,t=1){const[r,i]=HZ(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return J4(o)?parseFloat(o):o}else return fS(i)?SS(i,e,t+1):i}function GZ(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!fS(s))return;const o=SS(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!fS(s))continue;const o=SS(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const $Z=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),yO=n=>$Z.has(n),ZZ=n=>Object.keys(n).some(yO),UP=n=>n===mu||n===Rt,VP=(n,e)=>parseFloat(n.split(", ")[e]),WP=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return VP(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?VP(s[1],n):0}},qZ=new Set(["x","y","z"]),XZ=Lm.filter(n=>!qZ.has(n));function YZ(n){const e=[];return XZ.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const hf={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:WP(4,13),y:WP(5,14)};hf.translateX=hf.x;hf.translateY=hf.y;const KZ=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=hf[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),n[c]=hf[c](l,s)}),n},QZ=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(yO);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let d=t[l],h=mh(d);const p=e[l];let g;if(Ey(p)){const v=p.length,y=p[0]===null?1:0;d=p[y],h=mh(d);for(let x=y;x<v&&p[x]!==null;x++)g?Ty(mh(p[x])===g):g=mh(p[x])}else g=mh(p);if(h!==g)if(UP(h)&&UP(g)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&g===Rt&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(g!=null&&g.transform)&&(d===0||p===0)?d===0?c.set(g.transform(d)):e[l]=h.transform(p):(o||(s=YZ(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=KZ(e,n,a);return s.length&&s.forEach(([d,h])=>{n.getValue(d).set(h)}),n.render(),Tx&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function JZ(n,e,t,r){return ZZ(e)?QZ(n,e,t,r):{target:e,transitionEnd:r}}const eq=(n,e,t,r)=>{const i=GZ(n,e,r);return e=i.target,r=i.transitionEnd,JZ(n,e,t,r)},MS={current:null},xO={current:!1};function tq(){if(xO.current=!0,!!Tx)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>MS.current=n.matches;n.addListener(e),e()}else MS.current=!1}function nq(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(Oi(s))n.addValue(i,s),Ny(r)&&r.add(i);else if(Oi(o))n.addValue(i,ff(s,{owner:n})),Ny(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,ff(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const HP=new WeakMap,wO=Object.keys(zp),rq=wO.length,GP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],iq=FM.length;class sq{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ln.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Ax(t),this.isVariantNode=i4(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{});for(const h in d){const p=d[h];a[h]!==void 0&&Oi(p)&&(p.set(a[h],!1),Ny(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,HP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),xO.current||tq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:MS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){HP.delete(this.current),this.projection&&this.projection.unmount(),xa(this.notifyUpdate),xa(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=pu.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ln.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<rq;l++){const c=wO[l],{isEnabled:d,Feature:h,ProjectionNode:p,MeasureLayout:g}=zp[c];p&&(o=p),d(t)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:g}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||h&&Md(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<GP.length;r++){const i=GP[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=nq(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<iq;r++){const i=FM[r],s=this.props[i];(Fp(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ff(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=GM(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Oi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new eE),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class _O extends sq{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=b$(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){w$(this,r,o);const a=eq(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function oq(n){return window.getComputedStyle(n)}class aq extends _O{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(pu.has(t)){const r=XM(t);return r&&r.default||0}else{const r=oq(e),i=(c4(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return lO(e,t)}build(e,t,r,i){BM(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return HM(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Oi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){m4(e,t,r,i)}}class lq extends _O{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(pu.has(t)){const r=XM(t);return r&&r.default||0}return t=g4.has(t)?t:OM(t),e.getAttribute(t)}measureInstanceViewportBox(){return hr()}scrapeMotionValuesFromProps(e,t){return y4(e,t)}build(e,t,r,i){VM(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){v4(e,t,r,i)}mount(e){this.isSVGTag=WM(e.tagName),super.mount(e)}}const cq=(n,e)=>zM(n)?new lq(e,{enableHardwareAcceleration:!1}):new aq(e,{enableHardwareAcceleration:!0}),uq={layout:{ProjectionNode:vO,MeasureLayout:uO}},dq={...j$,...i7,...VZ,...uq},Et=fG((n,e)=>GG(n,e,dq,cq));/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Nf="149",wc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},_c={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},bO=0,ES=1,SO=2,fq=3,MO=0,Rx=1,ap=2,Pc=3,wa=0,Ii=1,Gs=2,hq=2,To=0,Hc=1,Up=2,TS=3,CS=4,EO=5,Sc=100,TO=101,CO=102,AS=103,PS=104,AO=200,PO=201,NO=202,kO=203,tE=204,nE=205,RO=206,LO=207,IO=208,DO=209,OO=210,jO=0,FO=1,zO=2,Ry=3,BO=4,UO=5,VO=6,WO=7,jm=0,HO=1,GO=2,Xs=0,$O=1,ZO=2,qO=3,rE=4,XO=5,Nl=300,_a=301,kl=302,pf=303,Vp=304,kf=306,Wp=1e3,jn=1001,Hp=1002,nr=1003,Ly=1004,pq=1004,lp=1005,mq=1005,dn=1006,iE=1007,gq=1007,Rl=1008,NS=1008,Ns=1009,sE=1010,oE=1011,aE=1012,lE=1013,oa=1014,Lr=1015,Ir=1016,YO=1017,KO=1018,Gc=1020,QO=1021,br=1023,JO=1024,ej=1025,_l=1026,su=1027,cE=1028,tj=1029,nj=1030,rj=1031,ij=1033,R0=33776,L0=33777,I0=33778,D0=33779,kS=35840,RS=35841,LS=35842,IS=35843,sj=36196,DS=37492,OS=37496,jS=37808,FS=37809,zS=37810,BS=37811,US=37812,VS=37813,WS=37814,HS=37815,GS=37816,$S=37817,ZS=37818,qS=37819,XS=37820,YS=37821,O0=36492,oj=36283,KS=36284,QS=36285,JS=36286,aj=2200,lj=2201,cj=2202,Gp=2300,$p=2301,j0=2302,Nc=2400,kc=2401,Zp=2402,Lx=2500,uE=2501,vq=0,yq=1,xq=2,Ll=3e3,En=3001,uj=3200,dj=3201,$l=0,fj=1,wq="",ws="srgb",ba="srgb-linear",_q=0,F0=7680,bq=7681,Sq=7682,Mq=7683,Eq=34055,Tq=34056,Cq=5386,Aq=512,Pq=513,Nq=514,kq=515,Rq=516,Lq=517,Iq=518,hj=519,qp=35044,$c=35048,Dq=35040,Oq=35045,jq=35049,Fq=35041,zq=35046,Bq=35050,Uq=35042,Vq="100",e2="300 es",Iy=1035;let Ea=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const Xr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let $P=1234567;const Zc=Math.PI/180,Xp=180/Math.PI;function Qi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Xr[n&255]+Xr[n>>8&255]+Xr[n>>16&255]+Xr[n>>24&255]+"-"+Xr[e&255]+Xr[e>>8&255]+"-"+Xr[e>>16&15|64]+Xr[e>>24&255]+"-"+Xr[t&63|128]+Xr[t>>8&255]+"-"+Xr[t>>16&255]+Xr[t>>24&255]+Xr[r&255]+Xr[r>>8&255]+Xr[r>>16&255]+Xr[r>>24&255]).toLowerCase()}function ir(n,e,t){return Math.max(e,Math.min(t,n))}function dE(n,e){return(n%e+e)%e}function Wq(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function Hq(n,e,t){return n!==e?(t-n)/(e-n):0}function cp(n,e,t){return(1-t)*n+t*e}function Gq(n,e,t,r){return cp(n,e,1-Math.exp(-t*r))}function $q(n,e=1){return e-Math.abs(dE(n,e*2)-e)}function Zq(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function qq(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Xq(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Yq(n,e){return n+Math.random()*(e-n)}function Kq(n){return n*(.5-Math.random())}function Qq(n){n!==void 0&&($P=n);let e=$P+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Jq(n){return n*Zc}function eX(n){return n*Xp}function t2(n){return(n&n-1)===0&&n!==0}function pj(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Dy(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function tX(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),d=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),g=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*d,l*h,l*p,a*c);break;case"YZY":n.set(l*p,a*d,l*h,a*c);break;case"ZXZ":n.set(l*h,l*p,a*d,a*c);break;case"XZX":n.set(a*d,l*v,l*g,a*c);break;case"YXY":n.set(l*g,a*d,l*v,a*c);break;case"ZYZ":n.set(l*v,l*g,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function aa(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Sn(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var nX=Object.freeze({__proto__:null,DEG2RAD:Zc,RAD2DEG:Xp,ceilPowerOfTwo:pj,clamp:ir,damp:Gq,degToRad:Jq,denormalize:aa,euclideanModulo:dE,floorPowerOfTwo:Dy,generateUUID:Qi,inverseLerp:Hq,isPowerOfTwo:t2,lerp:cp,mapLinear:Wq,normalize:Sn,pingpong:$q,radToDeg:eX,randFloat:Yq,randFloatSpread:Kq,randInt:Xq,seededRandom:Qq,setQuaternionFromProperEuler:tX,smootherstep:qq,smoothstep:Zq});class Le{constructor(e=0,t=0){Le.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class yi{constructor(){yi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=r,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],d=r[4],h=r[7],p=r[2],g=r[5],v=r[8],y=i[0],x=i[3],b=i[6],_=i[1],S=i[4],E=i[7],C=i[2],P=i[5],I=i[8];return s[0]=o*y+a*_+l*C,s[3]=o*x+a*S+l*P,s[6]=o*b+a*E+l*I,s[1]=c*y+d*_+h*C,s[4]=c*x+d*S+h*P,s[7]=c*b+d*E+h*I,s[2]=p*y+g*_+v*C,s[5]=p*x+g*S+v*P,s[8]=p*b+g*E+v*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*a*c-r*s*d+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=d*o-a*c,p=a*l-d*s,g=c*s-o*l,v=t*h+r*p+i*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=h*y,e[1]=(i*c-d*r)*y,e[2]=(a*r-i*o)*y,e[3]=p*y,e[4]=(d*t-i*l)*y,e[5]=(i*s-a*t)*y,e[6]=g*y,e[7]=(r*l-c*t)*y,e[8]=(o*t-r*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(r_.makeScale(e,t)),this}rotate(e){return this.premultiply(r_.makeRotation(-e)),this}translate(e,t){return this.premultiply(r_.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const r_=new yi;function mj(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const rX={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ad(n,e){return new rX[n](e)}function Yp(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function qc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function z0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const i_={[ws]:{[ba]:qc},[ba]:{[ws]:z0}},Yr={legacyMode:!0,get workingColorSpace(){return ba},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(i_[e]&&i_[e][t]!==void 0){const r=i_[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},gj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},xr={r:0,g:0,b:0},Is={h:0,s:0,l:0},Mv={h:0,s:0,l:0};function s_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Ev(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class ft{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ws){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Yr.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Yr.workingColorSpace){return this.r=e,this.g=t,this.b=r,Yr.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Yr.workingColorSpace){if(e=dE(e,1),t=ir(t,0,1),r=ir(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=s_(o,s,e+1/3),this.g=s_(o,s,e),this.b=s_(o,s,e-1/3)}return Yr.toWorkingColorSpace(this,i),this}setStyle(e,t=ws){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Yr.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Yr.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,d=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,d,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Yr.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Yr.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=ws){const r=gj[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=qc(e.r),this.g=qc(e.g),this.b=qc(e.b),this}copyLinearToSRGB(e){return this.r=z0(e.r),this.g=z0(e.g),this.b=z0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ws){return Yr.fromWorkingColorSpace(Ev(this,xr),e),ir(xr.r*255,0,255)<<16^ir(xr.g*255,0,255)<<8^ir(xr.b*255,0,255)<<0}getHexString(e=ws){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Yr.workingColorSpace){Yr.fromWorkingColorSpace(Ev(this,xr),t);const r=xr.r,i=xr.g,s=xr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=d<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=Yr.workingColorSpace){return Yr.fromWorkingColorSpace(Ev(this,xr),t),e.r=xr.r,e.g=xr.g,e.b=xr.b,e}getStyle(e=ws){return Yr.fromWorkingColorSpace(Ev(this,xr),e),e!==ws?`color(${e} ${xr.r} ${xr.g} ${xr.b})`:`rgb(${xr.r*255|0},${xr.g*255|0},${xr.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(Is),Is.h+=e,Is.s+=t,Is.l+=r,this.setHSL(Is.h,Is.s,Is.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Is),e.getHSL(Mv);const r=cp(Is.h,Mv.h,t),i=cp(Is.s,Mv.s,t),s=cp(Is.l,Mv.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}ft.NAMES=gj;let ju;class fE{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ju===void 0&&(ju=Yp("canvas")),ju.width=e.width,ju.height=e.height;const r=ju.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=ju}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Yp("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=qc(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(qc(t[r]/255)*255):t[r]=qc(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Rc{constructor(e=null){this.isSource=!0,this.uuid=Qi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(o_(i[o].image)):s.push(o_(i[o]))}else s=o_(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function o_(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?fE.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let iX=0;class Mn extends Ea{constructor(e=Mn.DEFAULT_IMAGE,t=Mn.DEFAULT_MAPPING,r=jn,i=jn,s=dn,o=Rl,a=br,l=Ns,c=Mn.DEFAULT_ANISOTROPY,d=Ll){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:iX++}),this.uuid=Qi(),this.name="",this.source=new Rc(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new yi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Nl)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Wp:e.x=e.x-Math.floor(e.x);break;case jn:e.x=e.x<0?0:1;break;case Hp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Wp:e.y=e.y-Math.floor(e.y);break;case jn:e.y=e.y<0?0:1;break;case Hp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Mn.DEFAULT_IMAGE=null;Mn.DEFAULT_MAPPING=Nl;Mn.DEFAULT_ANISOTROPY=1;class yn{constructor(e=0,t=0,r=0,i=1){yn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],d=l[4],h=l[8],p=l[1],g=l[5],v=l[9],y=l[2],x=l[6],b=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-y)<.01&&Math.abs(v-x)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+y)<.1&&Math.abs(v+x)<.1&&Math.abs(c+g+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,E=(g+1)/2,C=(b+1)/2,P=(d+p)/4,I=(h+y)/4,T=(v+x)/4;return S>E&&S>C?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=P/r,s=I/r):E>C?E<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),r=P/i,s=T/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=I/s,i=T/s),this.set(r,i,s,t),this}let _=Math.sqrt((x-v)*(x-v)+(h-y)*(h-y)+(p-d)*(p-d));return Math.abs(_)<.001&&(_=1),this.x=(x-v)/_,this.y=(h-y)/_,this.z=(p-d)/_,this.w=Math.acos((c+g+b-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class rs extends Ea{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new yn(0,0,e,t),this.scissorTest=!1,this.viewport=new yn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Mn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:dn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Rc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ix extends Mn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=nr,this.minFilter=nr,this.wrapR=jn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class sX extends rs{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Ix(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class hE extends Mn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=nr,this.minFilter=nr,this.wrapR=jn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class oX extends rs{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new hE(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class aX extends rs{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class ri{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],d=r[i+2],h=r[i+3];const p=s[o+0],g=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=g,e[t+2]=v,e[t+3]=y;return}if(h!==y||l!==p||c!==g||d!==v){let x=1-a;const b=l*p+c*g+d*v+h*y,_=b>=0?1:-1,S=1-b*b;if(S>Number.EPSILON){const C=Math.sqrt(S),P=Math.atan2(C,b*_);x=Math.sin(x*P)/C,a=Math.sin(a*P)/C}const E=a*_;if(l=l*x+p*E,c=c*x+g*E,d=d*x+v*E,h=h*x+y*E,x===1-a){const C=1/Math.sqrt(l*l+c*c+d*d+h*h);l*=C,c*=C,d*=C,h*=C}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],d=r[i+3],h=s[o],p=s[o+1],g=s[o+2],v=s[o+3];return e[t]=a*v+d*h+l*g-c*p,e[t+1]=l*v+d*p+c*h-a*g,e[t+2]=c*v+d*g+a*p-l*h,e[t+3]=d*v-a*h-l*p-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),d=a(i/2),h=a(s/2),p=l(r/2),g=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*d*h+c*g*v,this._y=c*g*h-p*d*v,this._z=c*d*v+p*g*h,this._w=c*d*h-p*g*v;break;case"YXZ":this._x=p*d*h+c*g*v,this._y=c*g*h-p*d*v,this._z=c*d*v-p*g*h,this._w=c*d*h+p*g*v;break;case"ZXY":this._x=p*d*h-c*g*v,this._y=c*g*h+p*d*v,this._z=c*d*v+p*g*h,this._w=c*d*h-p*g*v;break;case"ZYX":this._x=p*d*h-c*g*v,this._y=c*g*h+p*d*v,this._z=c*d*v-p*g*h,this._w=c*d*h+p*g*v;break;case"YZX":this._x=p*d*h+c*g*v,this._y=c*g*h+p*d*v,this._z=c*d*v-p*g*h,this._w=c*d*h-p*g*v;break;case"XZY":this._x=p*d*h-c*g*v,this._y=c*g*h-p*d*v,this._z=c*d*v+p*g*h,this._w=c*d*h+p*g*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],d=t[6],h=t[10],p=r+a+h;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(d-l)*g,this._y=(s-c)*g,this._z=(o-i)*g}else if(r>a&&r>h){const g=2*Math.sqrt(1+r-a-h);this._w=(d-l)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(s+c)/g}else if(a>h){const g=2*Math.sqrt(1+a-r-h);this._w=(s-c)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(l+d)/g}else{const g=2*Math.sqrt(1+h-r-a);this._w=(o-i)/g,this._x=(s+c)/g,this._y=(l+d)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ir(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,d=t._w;return this._x=r*d+o*a+i*c-s*l,this._y=i*d+o*l+s*a-r*c,this._z=s*d+o*c+r*l-i*a,this._w=o*d-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-t;return this._w=g*o+t*this._w,this._x=g*r+t*this._x,this._y=g*i+t*this._y,this._z=g*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),h=Math.sin((1-t)*d)/c,p=Math.sin(t*d)/c;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ${constructor(e=0,t=0,r=0){$.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ZP.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ZP.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,d=l*r+a*t-s*i,h=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=c*l+p*-s+d*-a-h*-o,this.y=d*l+p*-o+h*-s-c*-a,this.z=h*l+p*-a+c*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return a_.copy(this).projectOnVector(e),this.sub(a_)}reflect(e){return this.sub(a_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ir(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const a_=new $,ZP=new ri;class gu{constructor(e=new $(1/0,1/0,1/0),t=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const d=e[l],h=e[l+1],p=e[l+2];d<t&&(t=d),h<r&&(r=h),p<i&&(i=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const d=e.getX(l),h=e.getY(l),p=e.getZ(l);d<t&&(t=d),h<r&&(r=h),p<i&&(i=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=ac.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)ac.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ac)}else r.boundingBox===null&&r.computeBoundingBox(),l_.copy(r.boundingBox),l_.applyMatrix4(e.matrixWorld),this.union(l_);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ac),ac.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(vh),Tv.subVectors(this.max,vh),Fu.subVectors(e.a,vh),zu.subVectors(e.b,vh),Bu.subVectors(e.c,vh),Ba.subVectors(zu,Fu),Ua.subVectors(Bu,zu),lc.subVectors(Fu,Bu);let t=[0,-Ba.z,Ba.y,0,-Ua.z,Ua.y,0,-lc.z,lc.y,Ba.z,0,-Ba.x,Ua.z,0,-Ua.x,lc.z,0,-lc.x,-Ba.y,Ba.x,0,-Ua.y,Ua.x,0,-lc.y,lc.x,0];return!c_(t,Fu,zu,Bu,Tv)||(t=[1,0,0,0,1,0,0,0,1],!c_(t,Fu,zu,Bu,Tv))?!1:(Cv.crossVectors(Ba,Ua),t=[Cv.x,Cv.y,Cv.z],c_(t,Fu,zu,Bu,Tv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ac.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ac).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ho[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ho[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ho[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ho[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ho[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ho[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ho[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ho[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ho),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ho=[new $,new $,new $,new $,new $,new $,new $,new $],ac=new $,l_=new gu,Fu=new $,zu=new $,Bu=new $,Ba=new $,Ua=new $,lc=new $,vh=new $,Tv=new $,Cv=new $,cc=new $;function c_(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){cc.fromArray(n,s);const a=i.x*Math.abs(cc.x)+i.y*Math.abs(cc.y)+i.z*Math.abs(cc.z),l=e.dot(cc),c=t.dot(cc),d=r.dot(cc);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const lX=new gu,yh=new $,u_=new $;class vu{constructor(e=new $,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):lX.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;yh.subVectors(e,this.center);const t=yh.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(yh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(u_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(yh.copy(e.center).add(u_)),this.expandByPoint(yh.copy(e.center).sub(u_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Go=new $,d_=new $,Av=new $,Va=new $,f_=new $,Pv=new $,h_=new $;class Rf{constructor(e=new $,t=new $(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Go)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Go.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Go.copy(this.direction).multiplyScalar(t).add(this.origin),Go.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){d_.copy(e).add(t).multiplyScalar(.5),Av.copy(t).sub(e).normalize(),Va.copy(this.origin).sub(d_);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Av),a=Va.dot(this.direction),l=-Va.dot(Av),c=Va.lengthSq(),d=Math.abs(1-o*o);let h,p,g,v;if(d>0)if(h=o*l-a,p=o*a-l,v=s*d,h>=0)if(p>=-v)if(p<=v){const y=1/d;h*=y,p*=y,g=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*l)+c;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),g=-h*h+p*(p+2*l)+c):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),g=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),g=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(Av).multiplyScalar(p).add(d_),g}intersectSphere(e,t){Go.subVectors(e.center,this.origin);const r=Go.dot(this.direction),i=Go.dot(Go)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Go)!==null}intersectTriangle(e,t,r,i,s){f_.subVectors(t,e),Pv.subVectors(r,e),h_.crossVectors(f_,Pv);let o=this.direction.dot(h_),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Va.subVectors(this.origin,e);const l=a*this.direction.dot(Pv.crossVectors(Va,Pv));if(l<0)return null;const c=a*this.direction.dot(f_.cross(Va));if(c<0||l+c>o)return null;const d=-a*Va.dot(h_);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class zt{constructor(){zt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,d,h,p,g,v,y,x){const b=this.elements;return b[0]=e,b[4]=t,b[8]=r,b[12]=i,b[1]=s,b[5]=o,b[9]=a,b[13]=l,b[2]=c,b[6]=d,b[10]=h,b[14]=p,b[3]=g,b[7]=v,b[11]=y,b[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new zt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Uu.setFromMatrixColumn(e,0).length(),s=1/Uu.setFromMatrixColumn(e,1).length(),o=1/Uu.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,g=o*h,v=a*d,y=a*h;t[0]=l*d,t[4]=-l*h,t[8]=c,t[1]=g+v*c,t[5]=p-y*c,t[9]=-a*l,t[2]=y-p*c,t[6]=v+g*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,g=l*h,v=c*d,y=c*h;t[0]=p+y*a,t[4]=v*a-g,t[8]=o*c,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=g*a-v,t[6]=y+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,g=l*h,v=c*d,y=c*h;t[0]=p-y*a,t[4]=-o*h,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*d,t[9]=y-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,g=o*h,v=a*d,y=a*h;t[0]=l*d,t[4]=v*c-g,t[8]=p*c+y,t[1]=l*h,t[5]=y*c+p,t[9]=g*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,g=o*c,v=a*l,y=a*c;t[0]=l*d,t[4]=y-p*h,t[8]=v*h+g,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-c*d,t[6]=g*h+v,t[10]=p-y*h}else if(e.order==="XZY"){const p=o*l,g=o*c,v=a*l,y=a*c;t[0]=l*d,t[4]=-h,t[8]=c*d,t[1]=p*h+y,t[5]=o*d,t[9]=g*h-v,t[2]=v*h-g,t[6]=a*d,t[10]=y*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(cX,e,uX)}lookAt(e,t,r){const i=this.elements;return Wi.subVectors(e,t),Wi.lengthSq()===0&&(Wi.z=1),Wi.normalize(),Wa.crossVectors(r,Wi),Wa.lengthSq()===0&&(Math.abs(r.z)===1?Wi.x+=1e-4:Wi.z+=1e-4,Wi.normalize(),Wa.crossVectors(r,Wi)),Wa.normalize(),Nv.crossVectors(Wi,Wa),i[0]=Wa.x,i[4]=Nv.x,i[8]=Wi.x,i[1]=Wa.y,i[5]=Nv.y,i[9]=Wi.y,i[2]=Wa.z,i[6]=Nv.z,i[10]=Wi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],d=r[1],h=r[5],p=r[9],g=r[13],v=r[2],y=r[6],x=r[10],b=r[14],_=r[3],S=r[7],E=r[11],C=r[15],P=i[0],I=i[4],T=i[8],k=i[12],O=i[1],U=i[5],H=i[9],V=i[13],z=i[2],ee=i[6],K=i[10],le=i[14],D=i[3],W=i[7],G=i[11],J=i[15];return s[0]=o*P+a*O+l*z+c*D,s[4]=o*I+a*U+l*ee+c*W,s[8]=o*T+a*H+l*K+c*G,s[12]=o*k+a*V+l*le+c*J,s[1]=d*P+h*O+p*z+g*D,s[5]=d*I+h*U+p*ee+g*W,s[9]=d*T+h*H+p*K+g*G,s[13]=d*k+h*V+p*le+g*J,s[2]=v*P+y*O+x*z+b*D,s[6]=v*I+y*U+x*ee+b*W,s[10]=v*T+y*H+x*K+b*G,s[14]=v*k+y*V+x*le+b*J,s[3]=_*P+S*O+E*z+C*D,s[7]=_*I+S*U+E*ee+C*W,s[11]=_*T+S*H+E*K+C*G,s[15]=_*k+S*V+E*le+C*J,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],h=e[6],p=e[10],g=e[14],v=e[3],y=e[7],x=e[11],b=e[15];return v*(+s*l*h-i*c*h-s*a*p+r*c*p+i*a*g-r*l*g)+y*(+t*l*g-t*c*p+s*o*p-i*o*g+i*c*d-s*l*d)+x*(+t*c*h-t*a*g-s*o*h+r*o*g+s*a*d-r*c*d)+b*(-i*a*d-t*l*h+t*a*p+i*o*h-r*o*p+r*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=e[9],p=e[10],g=e[11],v=e[12],y=e[13],x=e[14],b=e[15],_=h*x*c-y*p*c+y*l*g-a*x*g-h*l*b+a*p*b,S=v*p*c-d*x*c-v*l*g+o*x*g+d*l*b-o*p*b,E=d*y*c-v*h*c+v*a*g-o*y*g-d*a*b+o*h*b,C=v*h*l-d*y*l-v*a*p+o*y*p+d*a*x-o*h*x,P=t*_+r*S+i*E+s*C;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/P;return e[0]=_*I,e[1]=(y*p*s-h*x*s-y*i*g+r*x*g+h*i*b-r*p*b)*I,e[2]=(a*x*s-y*l*s+y*i*c-r*x*c-a*i*b+r*l*b)*I,e[3]=(h*l*s-a*p*s-h*i*c+r*p*c+a*i*g-r*l*g)*I,e[4]=S*I,e[5]=(d*x*s-v*p*s+v*i*g-t*x*g-d*i*b+t*p*b)*I,e[6]=(v*l*s-o*x*s-v*i*c+t*x*c+o*i*b-t*l*b)*I,e[7]=(o*p*s-d*l*s+d*i*c-t*p*c-o*i*g+t*l*g)*I,e[8]=E*I,e[9]=(v*h*s-d*y*s-v*r*g+t*y*g+d*r*b-t*h*b)*I,e[10]=(o*y*s-v*a*s+v*r*c-t*y*c-o*r*b+t*a*b)*I,e[11]=(d*a*s-o*h*s-d*r*c+t*h*c+o*r*g-t*a*g)*I,e[12]=C*I,e[13]=(d*y*i-v*h*i+v*r*p-t*y*p-d*r*x+t*h*x)*I,e[14]=(v*a*i-o*y*i-v*r*l+t*y*l+o*r*x-t*a*x)*I,e[15]=(o*h*i-d*a*i+d*r*l-t*h*l-o*r*p+t*a*p)*I,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,d*a+r,d*l-i*o,0,c*l-i*a,d*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,d=o+o,h=a+a,p=s*c,g=s*d,v=s*h,y=o*d,x=o*h,b=a*h,_=l*c,S=l*d,E=l*h,C=r.x,P=r.y,I=r.z;return i[0]=(1-(y+b))*C,i[1]=(g+E)*C,i[2]=(v-S)*C,i[3]=0,i[4]=(g-E)*P,i[5]=(1-(p+b))*P,i[6]=(x+_)*P,i[7]=0,i[8]=(v+S)*I,i[9]=(x-_)*I,i[10]=(1-(p+y))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Uu.set(i[0],i[1],i[2]).length();const o=Uu.set(i[4],i[5],i[6]).length(),a=Uu.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ds.copy(this);const c=1/s,d=1/o,h=1/a;return Ds.elements[0]*=c,Ds.elements[1]*=c,Ds.elements[2]*=c,Ds.elements[4]*=d,Ds.elements[5]*=d,Ds.elements[6]*=d,Ds.elements[8]*=h,Ds.elements[9]*=h,Ds.elements[10]*=h,t.setFromRotationMatrix(Ds),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),d=(t+e)/(t-e),h=(r+i)/(r-i),p=-(o+s)/(o-s),g=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=g,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),d=1/(o-s),h=(t+e)*l,p=(r+i)*c,g=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-g,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Uu=new $,Ds=new zt,cX=new $(0,0,0),uX=new $(1,1,1),Wa=new $,Nv=new $,Wi=new $,qP=new zt,XP=new ri;class Fm{constructor(e=0,t=0,r=0,i=Fm.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],d=i[9],h=i[2],p=i[6],g=i[10];switch(t){case"XYZ":this._y=Math.asin(ir(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ir(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(ir(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,g),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ir(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ir(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-ir(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return qP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(qP,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return XP.setFromEuler(this),this.setFromQuaternion(XP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Fm.DEFAULT_ORDER="XYZ";class Xc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let dX=0;const YP=new $,Vu=new ri,$o=new zt,kv=new $,xh=new $,fX=new $,hX=new ri,KP=new $(1,0,0),QP=new $(0,1,0),JP=new $(0,0,1),pX={type:"added"},eN={type:"removed"};class un extends Ea{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:dX++}),this.uuid=Qi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=un.DEFAULT_UP.clone();const e=new $,t=new Fm,r=new ri,i=new $(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new zt},normalMatrix:{value:new yi}}),this.matrix=new zt,this.matrixWorld=new zt,this.matrixAutoUpdate=un.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=un.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Xc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Vu.setFromAxisAngle(e,t),this.quaternion.multiply(Vu),this}rotateOnWorldAxis(e,t){return Vu.setFromAxisAngle(e,t),this.quaternion.premultiply(Vu),this}rotateX(e){return this.rotateOnAxis(KP,e)}rotateY(e){return this.rotateOnAxis(QP,e)}rotateZ(e){return this.rotateOnAxis(JP,e)}translateOnAxis(e,t){return YP.copy(e).applyQuaternion(this.quaternion),this.position.add(YP.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(KP,e)}translateY(e){return this.translateOnAxis(QP,e)}translateZ(e){return this.translateOnAxis(JP,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4($o.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?kv.copy(e):kv.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),xh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$o.lookAt(xh,kv,this.up):$o.lookAt(kv,xh,this.up),this.quaternion.setFromRotationMatrix($o),i&&($o.extractRotation(i.matrixWorld),Vu.setFromRotationMatrix($o),this.quaternion.premultiply(Vu.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(pX)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(eN)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(eN)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),$o.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$o.multiply(e.parent.matrixWorld)),e.applyMatrix4($o),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xh,e,fX),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xh,hX,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),g=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),g.length>0&&(r.animations=g),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}un.DEFAULT_UP=new $(0,1,0);un.DEFAULT_MATRIX_AUTO_UPDATE=!0;un.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Os=new $,Zo=new $,p_=new $,qo=new $,Wu=new $,Hu=new $,tN=new $,m_=new $,g_=new $,v_=new $;class Ms{constructor(e=new $,t=new $,r=new $){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Os.subVectors(e,t),i.cross(Os);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Os.subVectors(i,t),Zo.subVectors(r,t),p_.subVectors(e,t);const o=Os.dot(Os),a=Os.dot(Zo),l=Os.dot(p_),c=Zo.dot(Zo),d=Zo.dot(p_),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,g=(c*l-a*d)*p,v=(o*d-a*l)*p;return s.set(1-g-v,v,g)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,qo),qo.x>=0&&qo.y>=0&&qo.x+qo.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,qo),l.set(0,0),l.addScaledVector(s,qo.x),l.addScaledVector(o,qo.y),l.addScaledVector(a,qo.z),l}static isFrontFacing(e,t,r,i){return Os.subVectors(r,t),Zo.subVectors(e,t),Os.cross(Zo).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Os.subVectors(this.c,this.b),Zo.subVectors(this.a,this.b),Os.cross(Zo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ms.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ms.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Ms.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Ms.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ms.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Wu.subVectors(i,r),Hu.subVectors(s,r),m_.subVectors(e,r);const l=Wu.dot(m_),c=Hu.dot(m_);if(l<=0&&c<=0)return t.copy(r);g_.subVectors(e,i);const d=Wu.dot(g_),h=Hu.dot(g_);if(d>=0&&h<=d)return t.copy(i);const p=l*h-d*c;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(r).addScaledVector(Wu,o);v_.subVectors(e,s);const g=Wu.dot(v_),v=Hu.dot(v_);if(v>=0&&g<=v)return t.copy(s);const y=g*c-l*v;if(y<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(r).addScaledVector(Hu,a);const x=d*v-g*h;if(x<=0&&h-d>=0&&g-v>=0)return tN.subVectors(s,i),a=(h-d)/(h-d+(g-v)),t.copy(i).addScaledVector(tN,a);const b=1/(x+y+p);return o=y*b,a=p*b,t.copy(r).addScaledVector(Wu,o).addScaledVector(Hu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let mX=0;class oi extends Ea{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:mX++}),this.uuid=Qi(),this.name="",this.type="Material",this.blending=Hc,this.side=wa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=tE,this.blendDst=nE,this.blendEquation=Sc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ry,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=hj,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=F0,this.stencilZFail=F0,this.stencilZPass=F0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Hc&&(r.blending=this.blending),this.side!==wa&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ta extends oi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=jm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const fr=new $,Rv=new Le;class _n{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=qp,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Rv.fromBufferAttribute(this,t),Rv.applyMatrix3(e),this.setXY(t,Rv.x,Rv.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)fr.fromBufferAttribute(this,t),fr.applyMatrix3(e),this.setXYZ(t,fr.x,fr.y,fr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)fr.fromBufferAttribute(this,t),fr.applyMatrix4(e),this.setXYZ(t,fr.x,fr.y,fr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)fr.fromBufferAttribute(this,t),fr.applyNormalMatrix(e),this.setXYZ(t,fr.x,fr.y,fr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)fr.fromBufferAttribute(this,t),fr.transformDirection(e),this.setXYZ(t,fr.x,fr.y,fr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=aa(t,this.array)),t}setX(e,t){return this.normalized&&(t=Sn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=aa(t,this.array)),t}setY(e,t){return this.normalized&&(t=Sn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=aa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Sn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=aa(t,this.array)),t}setW(e,t){return this.normalized&&(t=Sn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Sn(t,this.array),r=Sn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Sn(t,this.array),r=Sn(r,this.array),i=Sn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Sn(t,this.array),r=Sn(r,this.array),i=Sn(i,this.array),s=Sn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==qp&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class gX extends _n{constructor(e,t,r){super(new Int8Array(e),t,r)}}class vX extends _n{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class yX extends _n{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class xX extends _n{constructor(e,t,r){super(new Int16Array(e),t,r)}}class pE extends _n{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class wX extends _n{constructor(e,t,r){super(new Int32Array(e),t,r)}}class mE extends _n{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class _X extends _n{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class bt extends _n{constructor(e,t,r){super(new Float32Array(e),t,r)}}class bX extends _n{constructor(e,t,r){super(new Float64Array(e),t,r)}}let SX=0;const ms=new zt,y_=new un,Gu=new $,Hi=new gu,wh=new gu,kr=new $;class Qt extends Ea{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:SX++}),this.uuid=Qi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(mj(e)?mE:pE)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new yi().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ms.makeRotationFromQuaternion(e),this.applyMatrix4(ms),this}rotateX(e){return ms.makeRotationX(e),this.applyMatrix4(ms),this}rotateY(e){return ms.makeRotationY(e),this.applyMatrix4(ms),this}rotateZ(e){return ms.makeRotationZ(e),this.applyMatrix4(ms),this}translate(e,t,r){return ms.makeTranslation(e,t,r),this.applyMatrix4(ms),this}scale(e,t,r){return ms.makeScale(e,t,r),this.applyMatrix4(ms),this}lookAt(e){return y_.lookAt(e),y_.updateMatrix(),this.applyMatrix4(y_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gu).negate(),this.translate(Gu.x,Gu.y,Gu.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new bt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new gu);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Hi.setFromBufferAttribute(s),this.morphTargetsRelative?(kr.addVectors(this.boundingBox.min,Hi.min),this.boundingBox.expandByPoint(kr),kr.addVectors(this.boundingBox.max,Hi.max),this.boundingBox.expandByPoint(kr)):(this.boundingBox.expandByPoint(Hi.min),this.boundingBox.expandByPoint(Hi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vu);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new $,1/0);return}if(e){const r=this.boundingSphere.center;if(Hi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];wh.setFromBufferAttribute(a),this.morphTargetsRelative?(kr.addVectors(Hi.min,wh.min),Hi.expandByPoint(kr),kr.addVectors(Hi.max,wh.max),Hi.expandByPoint(kr)):(Hi.expandByPoint(wh.min),Hi.expandByPoint(wh.max))}Hi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)kr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(kr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)kr.fromBufferAttribute(a,c),l&&(Gu.fromBufferAttribute(e,c),kr.add(Gu)),i=Math.max(i,r.distanceToSquared(kr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new _n(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let O=0;O<a;O++)c[O]=new $,d[O]=new $;const h=new $,p=new $,g=new $,v=new Le,y=new Le,x=new Le,b=new $,_=new $;function S(O,U,H){h.fromArray(i,O*3),p.fromArray(i,U*3),g.fromArray(i,H*3),v.fromArray(o,O*2),y.fromArray(o,U*2),x.fromArray(o,H*2),p.sub(h),g.sub(h),y.sub(v),x.sub(v);const V=1/(y.x*x.y-x.x*y.y);isFinite(V)&&(b.copy(p).multiplyScalar(x.y).addScaledVector(g,-y.y).multiplyScalar(V),_.copy(g).multiplyScalar(y.x).addScaledVector(p,-x.x).multiplyScalar(V),c[O].add(b),c[U].add(b),c[H].add(b),d[O].add(_),d[U].add(_),d[H].add(_))}let E=this.groups;E.length===0&&(E=[{start:0,count:r.length}]);for(let O=0,U=E.length;O<U;++O){const H=E[O],V=H.start,z=H.count;for(let ee=V,K=V+z;ee<K;ee+=3)S(r[ee+0],r[ee+1],r[ee+2])}const C=new $,P=new $,I=new $,T=new $;function k(O){I.fromArray(s,O*3),T.copy(I);const U=c[O];C.copy(U),C.sub(I.multiplyScalar(I.dot(U))).normalize(),P.crossVectors(T,U);const V=P.dot(d[O])<0?-1:1;l[O*4]=C.x,l[O*4+1]=C.y,l[O*4+2]=C.z,l[O*4+3]=V}for(let O=0,U=E.length;O<U;++O){const H=E[O],V=H.start,z=H.count;for(let ee=V,K=V+z;ee<K;ee+=3)k(r[ee+0]),k(r[ee+1]),k(r[ee+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new _n(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,g=r.count;p<g;p++)r.setXYZ(p,0,0,0);const i=new $,s=new $,o=new $,a=new $,l=new $,c=new $,d=new $,h=new $;if(e)for(let p=0,g=e.count;p<g;p+=3){const v=e.getX(p+0),y=e.getX(p+1),x=e.getX(p+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,x),d.subVectors(o,s),h.subVectors(i,s),d.cross(h),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,x),a.add(d),l.add(d),c.add(d),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,g=t.count;p<g;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(i,s),d.cross(h),r.setXYZ(p+0,d.x,d.y,d.z),r.setXYZ(p+1,d.x,d.y,d.z),r.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)kr.fromBufferAttribute(e,t),kr.normalize(),e.setXYZ(t,kr.x,kr.y,kr.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,h=a.normalized,p=new c.constructor(l.length*d);let g=0,v=0;for(let y=0,x=l.length;y<x;y++){a.isInterleavedBufferAttribute?g=l[y]*a.data.stride+a.offset:g=l[y]*d;for(let b=0;b<d;b++)p[v++]=c[g++]}return new _n(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Qt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,h=c.length;d<h;d++){const p=c[d],g=e(p,r);l.push(g)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let h=0,p=c.length;h<p;h++){const g=c[h];d.push(g.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const d=i[c];this.setAttribute(c,d.clone(t))}const s=e.morphAttributes;for(const c in s){const d=[],h=s[c];for(let p=0,g=h.length;p<g;p++)d.push(h[p].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const nN=new zt,$u=new Rf,x_=new vu,_h=new $,bh=new $,Sh=new $,w_=new $,Lv=new $,Iv=new Le,Dv=new Le,Ov=new Le,__=new $,jv=new $;class mr extends un{constructor(e=new Qt,t=new Ta){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Lv.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],h=s[l];d!==0&&(w_.fromBufferAttribute(h,e),o?Lv.addScaledVector(w_,d):Lv.addScaledVector(w_.sub(t),d))}t.add(Lv)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),x_.copy(r.boundingSphere),x_.applyMatrix4(s),e.ray.intersectsSphere(x_)===!1)||(nN.copy(s).invert(),$u.copy(e.ray).applyMatrix4(nN),r.boundingBox!==null&&$u.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.attributes.uv,d=r.attributes.uv2,h=r.groups,p=r.drawRange;if(a!==null)if(Array.isArray(i))for(let g=0,v=h.length;g<v;g++){const y=h[g],x=i[y.materialIndex],b=Math.max(y.start,p.start),_=Math.min(a.count,Math.min(y.start+y.count,p.start+p.count));for(let S=b,E=_;S<E;S+=3){const C=a.getX(S),P=a.getX(S+1),I=a.getX(S+2);o=Fv(this,x,e,$u,c,d,C,P,I),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const g=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);for(let y=g,x=v;y<x;y+=3){const b=a.getX(y),_=a.getX(y+1),S=a.getX(y+2);o=Fv(this,i,e,$u,c,d,b,_,S),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let g=0,v=h.length;g<v;g++){const y=h[g],x=i[y.materialIndex],b=Math.max(y.start,p.start),_=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let S=b,E=_;S<E;S+=3){const C=S,P=S+1,I=S+2;o=Fv(this,x,e,$u,c,d,C,P,I),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const g=Math.max(0,p.start),v=Math.min(l.count,p.start+p.count);for(let y=g,x=v;y<x;y+=3){const b=y,_=y+1,S=y+2;o=Fv(this,i,e,$u,c,d,b,_,S),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}}function MX(n,e,t,r,i,s,o,a){let l;if(e.side===Ii?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===wa,a),l===null)return null;jv.copy(a),jv.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(jv);return c<t.near||c>t.far?null:{distance:c,point:jv.clone(),object:n}}function Fv(n,e,t,r,i,s,o,a,l){n.getVertexPosition(o,_h),n.getVertexPosition(a,bh),n.getVertexPosition(l,Sh);const c=MX(n,e,t,r,_h,bh,Sh,__);if(c){i&&(Iv.fromBufferAttribute(i,o),Dv.fromBufferAttribute(i,a),Ov.fromBufferAttribute(i,l),c.uv=Ms.getUV(__,_h,bh,Sh,Iv,Dv,Ov,new Le)),s&&(Iv.fromBufferAttribute(s,o),Dv.fromBufferAttribute(s,a),Ov.fromBufferAttribute(s,l),c.uv2=Ms.getUV(__,_h,bh,Sh,Iv,Dv,Ov,new Le));const d={a:o,b:a,c:l,normal:new $,materialIndex:0};Ms.getNormal(_h,bh,Sh,d.normal),c.face=d}return c}class Zl extends Qt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],h=[];let p=0,g=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new bt(c,3)),this.setAttribute("normal",new bt(d,3)),this.setAttribute("uv",new bt(h,2));function v(y,x,b,_,S,E,C,P,I,T,k){const O=E/I,U=C/T,H=E/2,V=C/2,z=P/2,ee=I+1,K=T+1;let le=0,D=0;const W=new $;for(let G=0;G<K;G++){const J=G*U-V;for(let Z=0;Z<ee;Z++){const oe=Z*O-H;W[y]=oe*_,W[x]=J*S,W[b]=z,c.push(W.x,W.y,W.z),W[y]=0,W[x]=0,W[b]=P>0?1:-1,d.push(W.x,W.y,W.z),h.push(Z/I),h.push(1-G/T),le+=1}}for(let G=0;G<T;G++)for(let J=0;J<I;J++){const Z=p+J+ee*G,oe=p+J+ee*(G+1),we=p+(J+1)+ee*(G+1),Ae=p+(J+1)+ee*G;l.push(Z,oe,Ae),l.push(oe,we,Ae),D+=6}a.addGroup(g,D,k),g+=D,p+=le}}static fromJSON(e){return new Zl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function mf(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function fi(n){const e={};for(let t=0;t<n.length;t++){const r=mf(n[t]);for(const i in r)e[i]=r[i]}return e}function EX(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function vj(n){return n.getRenderTarget()===null&&n.outputEncoding===En?ws:ba}const yj={clone:mf,merge:fi};var TX=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,CX=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ji extends oi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=TX,this.fragmentShader=CX,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=mf(e.uniforms),this.uniformsGroups=EX(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class zm extends un{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new zt,this.projectionMatrix=new zt,this.projectionMatrixInverse=new zt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Un extends zm{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Xp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Zc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Xp*2*Math.atan(Math.tan(Zc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Zc*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Zu=-90,qu=1;class gE extends un{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new Un(Zu,qu,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new Un(Zu,qu,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Un(Zu,qu,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Un(Zu,qu,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Un(Zu,qu,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new Un(Zu,qu,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,d=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=Xs,e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=g,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(d),e.toneMapping=h,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class Bm extends Mn{constructor(e,t,r,i,s,o,a,l,c,d){e=e!==void 0?e:[],t=t!==void 0?t:_a,super(e,t,r,i,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Dx extends rs{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Bm(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:dn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Zl(5,5,5),s=new ji({name:"CubemapFromEquirect",uniforms:mf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ii,blending:To});s.uniforms.tEquirect.value=t;const o=new mr(i,s),a=t.minFilter;return t.minFilter===Rl&&(t.minFilter=dn),new gE(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const b_=new $,AX=new $,PX=new yi;class ta{constructor(e=new $(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=b_.subVectors(r,t).cross(AX.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(b_),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||PX.getNormalMatrix(e),i=this.coplanarPoint(b_).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Xu=new vu,zv=new $;class Ox{constructor(e=new ta,t=new ta,r=new ta,i=new ta,s=new ta,o=new ta){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],d=r[6],h=r[7],p=r[8],g=r[9],v=r[10],y=r[11],x=r[12],b=r[13],_=r[14],S=r[15];return t[0].setComponents(a-i,h-l,y-p,S-x).normalize(),t[1].setComponents(a+i,h+l,y+p,S+x).normalize(),t[2].setComponents(a+s,h+c,y+g,S+b).normalize(),t[3].setComponents(a-s,h-c,y-g,S-b).normalize(),t[4].setComponents(a-o,h-d,y-v,S-_).normalize(),t[5].setComponents(a+o,h+d,y+v,S+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Xu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Xu)}intersectsSprite(e){return Xu.center.set(0,0,0),Xu.radius=.7071067811865476,Xu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Xu)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(zv.x=i.normal.x>0?e.max.x:e.min.x,zv.y=i.normal.y>0?e.max.y:e.min.y,zv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(zv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function xj(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function NX(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,d){const h=c.array,p=c.usage,g=n.createBuffer();n.bindBuffer(d,g),n.bufferData(d,h,p),c.onUploadCallback();let v;if(h instanceof Float32Array)v=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(h instanceof Int16Array)v=5122;else if(h instanceof Uint32Array)v=5125;else if(h instanceof Int32Array)v=5124;else if(h instanceof Int8Array)v=5120;else if(h instanceof Uint8Array)v=5121;else if(h instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:g,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,d,h){const p=d.array,g=d.updateRange;n.bindBuffer(h,c),g.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,g.offset*p.BYTES_PER_ELEMENT,p,g.offset,g.count):n.bufferSubData(h,g.offset*p.BYTES_PER_ELEMENT,p.subarray(g.offset,g.offset+g.count)),g.count=-1),d.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d&&(n.deleteBuffer(d.buffer),r.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h===void 0?r.set(c,i(c,d)):h.version<c.version&&(s(h.buffer,c,d),h.version=c.version)}return{get:o,remove:a,update:l}}class ql extends Qt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,d=l+1,h=e/a,p=t/l,g=[],v=[],y=[],x=[];for(let b=0;b<d;b++){const _=b*p-o;for(let S=0;S<c;S++){const E=S*h-s;v.push(E,-_,0),y.push(0,0,1),x.push(S/a),x.push(1-b/l)}}for(let b=0;b<l;b++)for(let _=0;_<a;_++){const S=_+c*b,E=_+c*(b+1),C=_+1+c*(b+1),P=_+1+c*b;g.push(S,E,P),g.push(E,C,P)}this.setIndex(g),this.setAttribute("position",new bt(v,3)),this.setAttribute("normal",new bt(y,3)),this.setAttribute("uv",new bt(x,2))}static fromJSON(e){return new ql(e.width,e.height,e.widthSegments,e.heightSegments)}}var kX=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,RX=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,LX=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,IX=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,DX=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,OX=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,jX="vec3 transformed = vec3( position );",FX=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,zX=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,BX=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,UX=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,VX=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,WX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,HX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,GX=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,$X=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ZX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,qX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,XX=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,YX=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,KX=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,QX=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,JX=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,eY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,tY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,nY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,rY="gl_FragColor = linearToOutputTexel( gl_FragColor );",iY=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,sY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,oY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,aY=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,lY=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,cY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,uY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,dY=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,hY=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,pY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,mY=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,gY=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,vY=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,yY=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,xY=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,wY=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,_Y=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,bY=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,SY=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,MY=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,EY=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,TY=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,CY=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,AY=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,PY=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,NY=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,kY=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,RY=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,LY=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,IY=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,DY=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,OY=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,jY=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,FY=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,zY=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,BY=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,UY=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,VY=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,WY=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,HY=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,GY=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,$Y=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ZY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,qY=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,XY=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,YY=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,KY=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,QY=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,JY=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,eK=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,tK=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,nK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,rK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,iK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,sK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,oK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,aK=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,lK=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,cK=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,uK=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,dK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,fK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,hK=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,pK=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,mK=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,gK=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,vK=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,yK=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,xK=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,wK=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,_K=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,bK=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,SK=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,MK=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,EK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,TK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,CK=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,AK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const PK=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,NK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,kK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,RK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,LK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,IK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,DK=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,OK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,jK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,FK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,zK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,BK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,UK=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,VK=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,WK=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,HK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GK=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$K=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,qK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,YK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,KK=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,eQ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tQ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nQ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rQ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,iQ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,sQ=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oQ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,aQ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lQ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Zt={alphamap_fragment:kX,alphamap_pars_fragment:RX,alphatest_fragment:LX,alphatest_pars_fragment:IX,aomap_fragment:DX,aomap_pars_fragment:OX,begin_vertex:jX,beginnormal_vertex:FX,bsdfs:zX,iridescence_fragment:BX,bumpmap_pars_fragment:UX,clipping_planes_fragment:VX,clipping_planes_pars_fragment:WX,clipping_planes_pars_vertex:HX,clipping_planes_vertex:GX,color_fragment:$X,color_pars_fragment:ZX,color_pars_vertex:qX,color_vertex:XX,common:YX,cube_uv_reflection_fragment:KX,defaultnormal_vertex:QX,displacementmap_pars_vertex:JX,displacementmap_vertex:eY,emissivemap_fragment:tY,emissivemap_pars_fragment:nY,encodings_fragment:rY,encodings_pars_fragment:iY,envmap_fragment:sY,envmap_common_pars_fragment:oY,envmap_pars_fragment:aY,envmap_pars_vertex:lY,envmap_physical_pars_fragment:wY,envmap_vertex:cY,fog_vertex:uY,fog_pars_vertex:dY,fog_fragment:fY,fog_pars_fragment:hY,gradientmap_pars_fragment:pY,lightmap_fragment:mY,lightmap_pars_fragment:gY,lights_lambert_fragment:vY,lights_lambert_pars_fragment:yY,lights_pars_begin:xY,lights_toon_fragment:_Y,lights_toon_pars_fragment:bY,lights_phong_fragment:SY,lights_phong_pars_fragment:MY,lights_physical_fragment:EY,lights_physical_pars_fragment:TY,lights_fragment_begin:CY,lights_fragment_maps:AY,lights_fragment_end:PY,logdepthbuf_fragment:NY,logdepthbuf_pars_fragment:kY,logdepthbuf_pars_vertex:RY,logdepthbuf_vertex:LY,map_fragment:IY,map_pars_fragment:DY,map_particle_fragment:OY,map_particle_pars_fragment:jY,metalnessmap_fragment:FY,metalnessmap_pars_fragment:zY,morphcolor_vertex:BY,morphnormal_vertex:UY,morphtarget_pars_vertex:VY,morphtarget_vertex:WY,normal_fragment_begin:HY,normal_fragment_maps:GY,normal_pars_fragment:$Y,normal_pars_vertex:ZY,normal_vertex:qY,normalmap_pars_fragment:XY,clearcoat_normal_fragment_begin:YY,clearcoat_normal_fragment_maps:KY,clearcoat_pars_fragment:QY,iridescence_pars_fragment:JY,output_fragment:eK,packing:tK,premultiplied_alpha_fragment:nK,project_vertex:rK,dithering_fragment:iK,dithering_pars_fragment:sK,roughnessmap_fragment:oK,roughnessmap_pars_fragment:aK,shadowmap_pars_fragment:lK,shadowmap_pars_vertex:cK,shadowmap_vertex:uK,shadowmask_pars_fragment:dK,skinbase_vertex:fK,skinning_pars_vertex:hK,skinning_vertex:pK,skinnormal_vertex:mK,specularmap_fragment:gK,specularmap_pars_fragment:vK,tonemapping_fragment:yK,tonemapping_pars_fragment:xK,transmission_fragment:wK,transmission_pars_fragment:_K,uv_pars_fragment:bK,uv_pars_vertex:SK,uv_vertex:MK,uv2_pars_fragment:EK,uv2_pars_vertex:TK,uv2_vertex:CK,worldpos_vertex:AK,background_vert:PK,background_frag:NK,backgroundCube_vert:kK,backgroundCube_frag:RK,cube_vert:LK,cube_frag:IK,depth_vert:DK,depth_frag:OK,distanceRGBA_vert:jK,distanceRGBA_frag:FK,equirect_vert:zK,equirect_frag:BK,linedashed_vert:UK,linedashed_frag:VK,meshbasic_vert:WK,meshbasic_frag:HK,meshlambert_vert:GK,meshlambert_frag:$K,meshmatcap_vert:ZK,meshmatcap_frag:qK,meshnormal_vert:XK,meshnormal_frag:YK,meshphong_vert:KK,meshphong_frag:QK,meshphysical_vert:JK,meshphysical_frag:eQ,meshtoon_vert:tQ,meshtoon_frag:nQ,points_vert:rQ,points_frag:iQ,shadow_vert:sQ,shadow_frag:oQ,sprite_vert:aQ,sprite_frag:lQ},nt={common:{diffuse:{value:new ft(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new yi},uv2Transform:{value:new yi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ft(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ft(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new yi}},sprite:{diffuse:{value:new ft(16777215)},opacity:{value:1},center:{value:new Le(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new yi}}},Ws={basic:{uniforms:fi([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.fog]),vertexShader:Zt.meshbasic_vert,fragmentShader:Zt.meshbasic_frag},lambert:{uniforms:fi([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new ft(0)}}]),vertexShader:Zt.meshlambert_vert,fragmentShader:Zt.meshlambert_frag},phong:{uniforms:fi([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new ft(0)},specular:{value:new ft(1118481)},shininess:{value:30}}]),vertexShader:Zt.meshphong_vert,fragmentShader:Zt.meshphong_frag},standard:{uniforms:fi([nt.common,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.roughnessmap,nt.metalnessmap,nt.fog,nt.lights,{emissive:{value:new ft(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Zt.meshphysical_vert,fragmentShader:Zt.meshphysical_frag},toon:{uniforms:fi([nt.common,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.gradientmap,nt.fog,nt.lights,{emissive:{value:new ft(0)}}]),vertexShader:Zt.meshtoon_vert,fragmentShader:Zt.meshtoon_frag},matcap:{uniforms:fi([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,{matcap:{value:null}}]),vertexShader:Zt.meshmatcap_vert,fragmentShader:Zt.meshmatcap_frag},points:{uniforms:fi([nt.points,nt.fog]),vertexShader:Zt.points_vert,fragmentShader:Zt.points_frag},dashed:{uniforms:fi([nt.common,nt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Zt.linedashed_vert,fragmentShader:Zt.linedashed_frag},depth:{uniforms:fi([nt.common,nt.displacementmap]),vertexShader:Zt.depth_vert,fragmentShader:Zt.depth_frag},normal:{uniforms:fi([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,{opacity:{value:1}}]),vertexShader:Zt.meshnormal_vert,fragmentShader:Zt.meshnormal_frag},sprite:{uniforms:fi([nt.sprite,nt.fog]),vertexShader:Zt.sprite_vert,fragmentShader:Zt.sprite_frag},background:{uniforms:{uvTransform:{value:new yi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Zt.background_vert,fragmentShader:Zt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Zt.backgroundCube_vert,fragmentShader:Zt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Zt.cube_vert,fragmentShader:Zt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Zt.equirect_vert,fragmentShader:Zt.equirect_frag},distanceRGBA:{uniforms:fi([nt.common,nt.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Zt.distanceRGBA_vert,fragmentShader:Zt.distanceRGBA_frag},shadow:{uniforms:fi([nt.lights,nt.fog,{color:{value:new ft(0)},opacity:{value:1}}]),vertexShader:Zt.shadow_vert,fragmentShader:Zt.shadow_frag}};Ws.physical={uniforms:fi([Ws.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Le(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new ft(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ft(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ft(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Zt.meshphysical_vert,fragmentShader:Zt.meshphysical_frag};const Bv={r:0,b:0,g:0};function cQ(n,e,t,r,i,s,o){const a=new ft(0);let l=s===!0?0:1,c,d,h=null,p=0,g=null;function v(x,b){let _=!1,S=b.isScene===!0?b.background:null;S&&S.isTexture&&(S=(b.backgroundBlurriness>0?t:e).get(S));const E=n.xr,C=E.getSession&&E.getSession();C&&C.environmentBlendMode==="additive"&&(S=null),S===null?y(a,l):S&&S.isColor&&(y(S,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===kf)?(d===void 0&&(d=new mr(new Zl(1,1,1),new ji({name:"BackgroundCubeMaterial",uniforms:mf(Ws.backgroundCube.uniforms),vertexShader:Ws.backgroundCube.vertexShader,fragmentShader:Ws.backgroundCube.fragmentShader,side:Ii,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(P,I,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),d.material.uniforms.envMap.value=S,d.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,d.material.toneMapped=S.encoding!==En,(h!==S||p!==S.version||g!==n.toneMapping)&&(d.material.needsUpdate=!0,h=S,p=S.version,g=n.toneMapping),d.layers.enableAll(),x.unshift(d,d.geometry,d.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new mr(new ql(2,2),new ji({name:"BackgroundMaterial",uniforms:mf(Ws.background.uniforms),vertexShader:Ws.background.vertexShader,fragmentShader:Ws.background.fragmentShader,side:wa,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=S.encoding!==En,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||p!==S.version||g!==n.toneMapping)&&(c.material.needsUpdate=!0,h=S,p=S.version,g=n.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function y(x,b){x.getRGB(Bv,vj(n)),r.buffers.color.setClear(Bv.r,Bv.g,Bv.b,b,o)}return{getClearColor:function(){return a},setClearColor:function(x,b=1){a.set(x),l=b,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,y(a,l)},render:v}}function uQ(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let c=l,d=!1;function h(z,ee,K,le,D){let W=!1;if(o){const G=y(le,K,ee);c!==G&&(c=G,g(c.object)),W=b(z,le,K,D),W&&_(z,le,K,D)}else{const G=ee.wireframe===!0;(c.geometry!==le.id||c.program!==K.id||c.wireframe!==G)&&(c.geometry=le.id,c.program=K.id,c.wireframe=G,W=!0)}D!==null&&t.update(D,34963),(W||d)&&(d=!1,T(z,ee,K,le),D!==null&&n.bindBuffer(34963,t.get(D).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function g(z){return r.isWebGL2?n.bindVertexArray(z):s.bindVertexArrayOES(z)}function v(z){return r.isWebGL2?n.deleteVertexArray(z):s.deleteVertexArrayOES(z)}function y(z,ee,K){const le=K.wireframe===!0;let D=a[z.id];D===void 0&&(D={},a[z.id]=D);let W=D[ee.id];W===void 0&&(W={},D[ee.id]=W);let G=W[le];return G===void 0&&(G=x(p()),W[le]=G),G}function x(z){const ee=[],K=[],le=[];for(let D=0;D<i;D++)ee[D]=0,K[D]=0,le[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ee,enabledAttributes:K,attributeDivisors:le,object:z,attributes:{},index:null}}function b(z,ee,K,le){const D=c.attributes,W=ee.attributes;let G=0;const J=K.getAttributes();for(const Z in J)if(J[Z].location>=0){const we=D[Z];let Ae=W[Z];if(Ae===void 0&&(Z==="instanceMatrix"&&z.instanceMatrix&&(Ae=z.instanceMatrix),Z==="instanceColor"&&z.instanceColor&&(Ae=z.instanceColor)),we===void 0||we.attribute!==Ae||Ae&&we.data!==Ae.data)return!0;G++}return c.attributesNum!==G||c.index!==le}function _(z,ee,K,le){const D={},W=ee.attributes;let G=0;const J=K.getAttributes();for(const Z in J)if(J[Z].location>=0){let we=W[Z];we===void 0&&(Z==="instanceMatrix"&&z.instanceMatrix&&(we=z.instanceMatrix),Z==="instanceColor"&&z.instanceColor&&(we=z.instanceColor));const Ae={};Ae.attribute=we,we&&we.data&&(Ae.data=we.data),D[Z]=Ae,G++}c.attributes=D,c.attributesNum=G,c.index=le}function S(){const z=c.newAttributes;for(let ee=0,K=z.length;ee<K;ee++)z[ee]=0}function E(z){C(z,0)}function C(z,ee){const K=c.newAttributes,le=c.enabledAttributes,D=c.attributeDivisors;K[z]=1,le[z]===0&&(n.enableVertexAttribArray(z),le[z]=1),D[z]!==ee&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](z,ee),D[z]=ee)}function P(){const z=c.newAttributes,ee=c.enabledAttributes;for(let K=0,le=ee.length;K<le;K++)ee[K]!==z[K]&&(n.disableVertexAttribArray(K),ee[K]=0)}function I(z,ee,K,le,D,W){r.isWebGL2===!0&&(K===5124||K===5125)?n.vertexAttribIPointer(z,ee,K,D,W):n.vertexAttribPointer(z,ee,K,le,D,W)}function T(z,ee,K,le){if(r.isWebGL2===!1&&(z.isInstancedMesh||le.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const D=le.attributes,W=K.getAttributes(),G=ee.defaultAttributeValues;for(const J in W){const Z=W[J];if(Z.location>=0){let oe=D[J];if(oe===void 0&&(J==="instanceMatrix"&&z.instanceMatrix&&(oe=z.instanceMatrix),J==="instanceColor"&&z.instanceColor&&(oe=z.instanceColor)),oe!==void 0){const we=oe.normalized,Ae=oe.itemSize,re=t.get(oe);if(re===void 0)continue;const Ve=re.buffer,Ge=re.type,et=re.bytesPerElement;if(oe.isInterleavedBufferAttribute){const De=oe.data,He=De.stride,be=oe.offset;if(De.isInstancedInterleavedBuffer){for(let ye=0;ye<Z.locationSize;ye++)C(Z.location+ye,De.meshPerAttribute);z.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=De.meshPerAttribute*De.count)}else for(let ye=0;ye<Z.locationSize;ye++)E(Z.location+ye);n.bindBuffer(34962,Ve);for(let ye=0;ye<Z.locationSize;ye++)I(Z.location+ye,Ae/Z.locationSize,Ge,we,He*et,(be+Ae/Z.locationSize*ye)*et)}else{if(oe.isInstancedBufferAttribute){for(let De=0;De<Z.locationSize;De++)C(Z.location+De,oe.meshPerAttribute);z.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let De=0;De<Z.locationSize;De++)E(Z.location+De);n.bindBuffer(34962,Ve);for(let De=0;De<Z.locationSize;De++)I(Z.location+De,Ae/Z.locationSize,Ge,we,Ae*et,Ae/Z.locationSize*De*et)}}else if(G!==void 0){const we=G[J];if(we!==void 0)switch(we.length){case 2:n.vertexAttrib2fv(Z.location,we);break;case 3:n.vertexAttrib3fv(Z.location,we);break;case 4:n.vertexAttrib4fv(Z.location,we);break;default:n.vertexAttrib1fv(Z.location,we)}}}}P()}function k(){H();for(const z in a){const ee=a[z];for(const K in ee){const le=ee[K];for(const D in le)v(le[D].object),delete le[D];delete ee[K]}delete a[z]}}function O(z){if(a[z.id]===void 0)return;const ee=a[z.id];for(const K in ee){const le=ee[K];for(const D in le)v(le[D].object),delete le[D];delete ee[K]}delete a[z.id]}function U(z){for(const ee in a){const K=a[ee];if(K[z.id]===void 0)continue;const le=K[z.id];for(const D in le)v(le[D].object),delete le[D];delete K[z.id]}}function H(){V(),d=!0,c!==l&&(c=l,g(c.object))}function V(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:H,resetDefaultState:V,dispose:k,releaseStatesOfGeometry:O,releaseStatesOfProgram:U,initAttributes:S,enableAttribute:E,disableUnusedAttributes:P}}function dQ(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,d){n.drawArrays(s,c,d),t.update(d,s,1)}function l(c,d,h){if(h===0)return;let p,g;if(i)p=n,g="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](s,c,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function fQ(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(I){if(I==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),g=n.getParameter(3379),v=n.getParameter(34076),y=n.getParameter(34921),x=n.getParameter(36347),b=n.getParameter(36348),_=n.getParameter(36349),S=p>0,E=o||e.has("OES_texture_float"),C=S&&E,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:x,maxVaryings:b,maxFragmentUniforms:_,vertexTextures:S,floatFragmentTextures:E,floatVertexTextures:C,maxSamples:P}}function hQ(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new ta,a=new yi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const g=h.length!==0||p||r!==0||i;return i=p,r=h.length,g},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=d(h,p,0)},this.setState=function(h,p,g){const v=h.clippingPlanes,y=h.clipIntersection,x=h.clipShadows,b=n.get(h);if(!i||v===null||v.length===0||s&&!x)s?d(null):c();else{const _=s?0:r,S=_*4;let E=b.clippingState||null;l.value=E,E=d(v,p,S,g);for(let C=0;C!==S;++C)E[C]=t[C];b.clippingState=E,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(h,p,g,v){const y=h!==null?h.length:0;let x=null;if(y!==0){if(x=l.value,v!==!0||x===null){const b=g+y*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<b)&&(x=new Float32Array(b));for(let S=0,E=g;S!==y;++S,E+=4)o.copy(h[S]).applyMatrix4(_,a),o.normal.toArray(x,E),x[E+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function pQ(n){let e=new WeakMap;function t(o,a){return a===pf?o.mapping=_a:a===Vp&&(o.mapping=kl),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===pf||a===Vp)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Dx(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Ys extends zm{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Pd=4,rN=[.125,.215,.35,.446,.526,.582],Mc=20,S_=new Ys,iN=new ft;let M_=null;const bc=(1+Math.sqrt(5))/2,Yu=1/bc,sN=[new $(1,1,1),new $(-1,1,1),new $(1,1,-1),new $(-1,1,-1),new $(0,bc,Yu),new $(0,bc,-Yu),new $(Yu,0,bc),new $(-Yu,0,bc),new $(bc,Yu,0),new $(-bc,Yu,0)];class n2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){M_=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=lN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=aN(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(M_),e.scissorTest=!1,Uv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===_a||e.mapping===kl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),M_=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:dn,minFilter:dn,generateMipmaps:!1,type:Ir,format:br,encoding:Ll,depthBuffer:!1},i=oN(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=oN(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=mQ(s)),this._blurMaterial=gQ(s,e,t)}return i}_compileMaterial(e){const t=new mr(this._lodPlanes[0],e);this._renderer.compile(t,S_)}_sceneToCubeUV(e,t,r,i){const a=new Un(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(iN),d.toneMapping=Xs,d.autoClear=!1;const g=new Ta({name:"PMREM.Background",side:Ii,depthWrite:!1,depthTest:!1}),v=new mr(new Zl,g);let y=!1;const x=e.background;x?x.isColor&&(g.color.copy(x),e.background=null,y=!0):(g.color.copy(iN),y=!0);for(let b=0;b<6;b++){const _=b%3;_===0?(a.up.set(0,l[b],0),a.lookAt(c[b],0,0)):_===1?(a.up.set(0,0,l[b]),a.lookAt(0,c[b],0)):(a.up.set(0,l[b],0),a.lookAt(0,0,c[b]));const S=this._cubeSize;Uv(i,_*S,b>2?S:0,S,S),d.setRenderTarget(i),y&&d.render(v,a),d.render(e,a)}v.geometry.dispose(),v.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=x}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===_a||e.mapping===kl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=lN()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=aN());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new mr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Uv(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,S_)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=sN[(i-1)%sN.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new mr(this._lodPlanes[i],c),p=c.uniforms,g=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*Mc-1),y=s/v,x=isFinite(s)?1+Math.floor(d*y):Mc;x>Mc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Mc}`);const b=[];let _=0;for(let I=0;I<Mc;++I){const T=I/y,k=Math.exp(-T*T/2);b.push(k),I===0?_+=k:I<x&&(_+=2*k)}for(let I=0;I<b.length;I++)b[I]=b[I]/_;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=b,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-r;const E=this._sizeLods[i],C=3*E*(i>S-Pd?i-S+Pd:0),P=4*(this._cubeSize-E);Uv(t,C,P,3*E,2*E),l.setRenderTarget(t),l.render(h,S_)}}function mQ(n){const e=[],t=[],r=[];let i=n;const s=n-Pd+1+rN.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Pd?l=rN[o-n+Pd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),d=-c,h=1+c,p=[d,d,h,d,h,h,d,d,h,h,d,h],g=6,v=6,y=3,x=2,b=1,_=new Float32Array(y*v*g),S=new Float32Array(x*v*g),E=new Float32Array(b*v*g);for(let P=0;P<g;P++){const I=P%3*2/3-1,T=P>2?0:-1,k=[I,T,0,I+2/3,T,0,I+2/3,T+1,0,I,T,0,I+2/3,T+1,0,I,T+1,0];_.set(k,y*v*P),S.set(p,x*v*P);const O=[P,P,P,P,P,P];E.set(O,b*v*P)}const C=new Qt;C.setAttribute("position",new _n(_,y)),C.setAttribute("uv",new _n(S,x)),C.setAttribute("faceIndex",new _n(E,b)),e.push(C),i>Pd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function oN(n,e,t){const r=new rs(n,e,t);return r.texture.mapping=kf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Uv(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function gQ(n,e,t){const r=new Float32Array(Mc),i=new $(0,1,0);return new ji({name:"SphericalGaussianBlur",defines:{n:Mc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:vE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:To,depthTest:!1,depthWrite:!1})}function aN(){return new ji({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:vE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:To,depthTest:!1,depthWrite:!1})}function lN(){return new ji({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:vE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:To,depthTest:!1,depthWrite:!1})}function vE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function vQ(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===pf||l===Vp,d=l===_a||l===kl;if(c||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new n2(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||d&&h&&i(h)){t===null&&(t=new n2(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function yQ(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function xQ(n,e,t,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete i[p.id];const g=s.get(p);g&&(e.remove(g),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],34962);const g=h.morphAttributes;for(const v in g){const y=g[v];for(let x=0,b=y.length;x<b;x++)e.update(y[x],34962)}}function c(h){const p=[],g=h.index,v=h.attributes.position;let y=0;if(g!==null){const _=g.array;y=g.version;for(let S=0,E=_.length;S<E;S+=3){const C=_[S+0],P=_[S+1],I=_[S+2];p.push(C,P,P,I,I,C)}}else{const _=v.array;y=v.version;for(let S=0,E=_.length/3-1;S<E;S+=3){const C=S+0,P=S+1,I=S+2;p.push(C,P,P,I,I,C)}}const x=new(mj(p)?mE:pE)(p,1);x.version=y;const b=s.get(h);b&&e.remove(b),s.set(h,x)}function d(h){const p=s.get(h);if(p){const g=h.index;g!==null&&p.version<g.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function wQ(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function d(p,g){n.drawElements(s,g,a,p*l),t.update(g,s,1)}function h(p,g,v){if(v===0)return;let y,x;if(i)y=n,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,g,a,p*l,v),t.update(g,s,v)}this.setMode=o,this.setIndex=c,this.render=d,this.renderInstances=h}function _Q(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function bQ(n,e){return n[0]-e[0]}function SQ(n,e){return Math.abs(e[1])-Math.abs(n[1])}function MQ(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new yn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,d,h,p){const g=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,x=y!==void 0?y.length:0;let b=s.get(d);if(b===void 0||b.count!==x){let K=function(){z.dispose(),s.delete(d),d.removeEventListener("dispose",K)};var v=K;b!==void 0&&b.texture.dispose();const E=d.morphAttributes.position!==void 0,C=d.morphAttributes.normal!==void 0,P=d.morphAttributes.color!==void 0,I=d.morphAttributes.position||[],T=d.morphAttributes.normal||[],k=d.morphAttributes.color||[];let O=0;E===!0&&(O=1),C===!0&&(O=2),P===!0&&(O=3);let U=d.attributes.position.count*O,H=1;U>e.maxTextureSize&&(H=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const V=new Float32Array(U*H*4*x),z=new Ix(V,U,H,x);z.type=Lr,z.needsUpdate=!0;const ee=O*4;for(let le=0;le<x;le++){const D=I[le],W=T[le],G=k[le],J=U*H*4*le;for(let Z=0;Z<D.count;Z++){const oe=Z*ee;E===!0&&(o.fromBufferAttribute(D,Z),V[J+oe+0]=o.x,V[J+oe+1]=o.y,V[J+oe+2]=o.z,V[J+oe+3]=0),C===!0&&(o.fromBufferAttribute(W,Z),V[J+oe+4]=o.x,V[J+oe+5]=o.y,V[J+oe+6]=o.z,V[J+oe+7]=0),P===!0&&(o.fromBufferAttribute(G,Z),V[J+oe+8]=o.x,V[J+oe+9]=o.y,V[J+oe+10]=o.z,V[J+oe+11]=G.itemSize===4?o.w:1)}}b={count:x,texture:z,size:new Le(U,H)},s.set(d,b),d.addEventListener("dispose",K)}let _=0;for(let E=0;E<g.length;E++)_+=g[E];const S=d.morphTargetsRelative?1:1-_;p.getUniforms().setValue(n,"morphTargetBaseInfluence",S),p.getUniforms().setValue(n,"morphTargetInfluences",g),p.getUniforms().setValue(n,"morphTargetsTexture",b.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",b.size)}else{const y=g===void 0?0:g.length;let x=r[d.id];if(x===void 0||x.length!==y){x=[];for(let C=0;C<y;C++)x[C]=[C,0];r[d.id]=x}for(let C=0;C<y;C++){const P=x[C];P[0]=C,P[1]=g[C]}x.sort(SQ);for(let C=0;C<8;C++)C<y&&x[C][1]?(a[C][0]=x[C][0],a[C][1]=x[C][1]):(a[C][0]=Number.MAX_SAFE_INTEGER,a[C][1]=0);a.sort(bQ);const b=d.morphAttributes.position,_=d.morphAttributes.normal;let S=0;for(let C=0;C<8;C++){const P=a[C],I=P[0],T=P[1];I!==Number.MAX_SAFE_INTEGER&&T?(b&&d.getAttribute("morphTarget"+C)!==b[I]&&d.setAttribute("morphTarget"+C,b[I]),_&&d.getAttribute("morphNormal"+C)!==_[I]&&d.setAttribute("morphNormal"+C,_[I]),i[C]=T,S+=T):(b&&d.hasAttribute("morphTarget"+C)===!0&&d.deleteAttribute("morphTarget"+C),_&&d.hasAttribute("morphNormal"+C)===!0&&d.deleteAttribute("morphNormal"+C),i[C]=0)}const E=d.morphTargetsRelative?1:1-S;p.getUniforms().setValue(n,"morphTargetBaseInfluence",E),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function EQ(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,d=l.geometry,h=e.get(l,d);return i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const wj=new Mn,_j=new Ix,bj=new hE,Sj=new Bm,cN=[],uN=[],dN=new Float32Array(16),fN=new Float32Array(9),hN=new Float32Array(4);function Lf(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=cN[i];if(s===void 0&&(s=new Float32Array(i),cN[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Er(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Tr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function jx(n,e){let t=uN[e];t===void 0&&(t=new Int32Array(e),uN[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function TQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function CQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Er(t,e))return;n.uniform2fv(this.addr,e),Tr(t,e)}}function AQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Er(t,e))return;n.uniform3fv(this.addr,e),Tr(t,e)}}function PQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Er(t,e))return;n.uniform4fv(this.addr,e),Tr(t,e)}}function NQ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Er(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Tr(t,e)}else{if(Er(t,r))return;hN.set(r),n.uniformMatrix2fv(this.addr,!1,hN),Tr(t,r)}}function kQ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Er(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Tr(t,e)}else{if(Er(t,r))return;fN.set(r),n.uniformMatrix3fv(this.addr,!1,fN),Tr(t,r)}}function RQ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Er(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Tr(t,e)}else{if(Er(t,r))return;dN.set(r),n.uniformMatrix4fv(this.addr,!1,dN),Tr(t,r)}}function LQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function IQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Er(t,e))return;n.uniform2iv(this.addr,e),Tr(t,e)}}function DQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Er(t,e))return;n.uniform3iv(this.addr,e),Tr(t,e)}}function OQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Er(t,e))return;n.uniform4iv(this.addr,e),Tr(t,e)}}function jQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function FQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Er(t,e))return;n.uniform2uiv(this.addr,e),Tr(t,e)}}function zQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Er(t,e))return;n.uniform3uiv(this.addr,e),Tr(t,e)}}function BQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Er(t,e))return;n.uniform4uiv(this.addr,e),Tr(t,e)}}function UQ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||wj,i)}function VQ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||bj,i)}function WQ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Sj,i)}function HQ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||_j,i)}function GQ(n){switch(n){case 5126:return TQ;case 35664:return CQ;case 35665:return AQ;case 35666:return PQ;case 35674:return NQ;case 35675:return kQ;case 35676:return RQ;case 5124:case 35670:return LQ;case 35667:case 35671:return IQ;case 35668:case 35672:return DQ;case 35669:case 35673:return OQ;case 5125:return jQ;case 36294:return FQ;case 36295:return zQ;case 36296:return BQ;case 35678:case 36198:case 36298:case 36306:case 35682:return UQ;case 35679:case 36299:case 36307:return VQ;case 35680:case 36300:case 36308:case 36293:return WQ;case 36289:case 36303:case 36311:case 36292:return HQ}}function $Q(n,e){n.uniform1fv(this.addr,e)}function ZQ(n,e){const t=Lf(e,this.size,2);n.uniform2fv(this.addr,t)}function qQ(n,e){const t=Lf(e,this.size,3);n.uniform3fv(this.addr,t)}function XQ(n,e){const t=Lf(e,this.size,4);n.uniform4fv(this.addr,t)}function YQ(n,e){const t=Lf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function KQ(n,e){const t=Lf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function QQ(n,e){const t=Lf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function JQ(n,e){n.uniform1iv(this.addr,e)}function eJ(n,e){n.uniform2iv(this.addr,e)}function tJ(n,e){n.uniform3iv(this.addr,e)}function nJ(n,e){n.uniform4iv(this.addr,e)}function rJ(n,e){n.uniform1uiv(this.addr,e)}function iJ(n,e){n.uniform2uiv(this.addr,e)}function sJ(n,e){n.uniform3uiv(this.addr,e)}function oJ(n,e){n.uniform4uiv(this.addr,e)}function aJ(n,e,t){const r=this.cache,i=e.length,s=jx(t,i);Er(r,s)||(n.uniform1iv(this.addr,s),Tr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||wj,s[o])}function lJ(n,e,t){const r=this.cache,i=e.length,s=jx(t,i);Er(r,s)||(n.uniform1iv(this.addr,s),Tr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||bj,s[o])}function cJ(n,e,t){const r=this.cache,i=e.length,s=jx(t,i);Er(r,s)||(n.uniform1iv(this.addr,s),Tr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||Sj,s[o])}function uJ(n,e,t){const r=this.cache,i=e.length,s=jx(t,i);Er(r,s)||(n.uniform1iv(this.addr,s),Tr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||_j,s[o])}function dJ(n){switch(n){case 5126:return $Q;case 35664:return ZQ;case 35665:return qQ;case 35666:return XQ;case 35674:return YQ;case 35675:return KQ;case 35676:return QQ;case 5124:case 35670:return JQ;case 35667:case 35671:return eJ;case 35668:case 35672:return tJ;case 35669:case 35673:return nJ;case 5125:return rJ;case 36294:return iJ;case 36295:return sJ;case 36296:return oJ;case 35678:case 36198:case 36298:case 36306:case 35682:return aJ;case 35679:case 36299:case 36307:return lJ;case 35680:case 36300:case 36308:case 36293:return cJ;case 36289:case 36303:case 36311:case 36292:return uJ}}class fJ{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=GQ(t.type)}}class hJ{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=dJ(t.type)}}class pJ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const E_=/(\w+)(\])?(\[|\.)?/g;function pN(n,e){n.seq.push(e),n.map[e.id]=e}function mJ(n,e,t){const r=n.name,i=r.length;for(E_.lastIndex=0;;){const s=E_.exec(r),o=E_.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){pN(t,c===void 0?new fJ(a,n,e):new hJ(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new pJ(a),pN(t,h)),t=h}}}class B0{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);mJ(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function mN(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let gJ=0;function vJ(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function yJ(n){switch(n){case Ll:return["Linear","( value )"];case En:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function gN(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+vJ(n.getShaderSource(e),o)}else return i}function xJ(n,e){const t=yJ(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function wJ(n,e){let t;switch(e){case $O:t="Linear";break;case ZO:t="Reinhard";break;case qO:t="OptimizedCineon";break;case rE:t="ACESFilmic";break;case XO:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function _J(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wh).join(`
`)}function bJ(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function SJ(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Wh(n){return n!==""}function vN(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function yN(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const MJ=/^[ \t]*#include +<([\w\d./]+)>/gm;function r2(n){return n.replace(MJ,EJ)}function EJ(n,e){const t=Zt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return r2(t)}const TJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function xN(n){return n.replace(TJ,CJ)}function CJ(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function wN(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function AJ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Rx?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ap?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Pc&&(e="SHADOWMAP_TYPE_VSM"),e}function PJ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case _a:case kl:e="ENVMAP_TYPE_CUBE";break;case kf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function NJ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case kl:e="ENVMAP_MODE_REFRACTION";break}return e}function kJ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case jm:e="ENVMAP_BLENDING_MULTIPLY";break;case HO:e="ENVMAP_BLENDING_MIX";break;case GO:e="ENVMAP_BLENDING_ADD";break}return e}function RJ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function LJ(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=AJ(t),c=PJ(t),d=NJ(t),h=kJ(t),p=RJ(t),g=t.isWebGL2?"":_J(t),v=bJ(s),y=i.createProgram();let x,b,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[v].filter(Wh).join(`
`),x.length>0&&(x+=`
`),b=[g,v].filter(Wh).join(`
`),b.length>0&&(b+=`
`)):(x=[wN(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Wh).join(`
`),b=[g,wN(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Xs?"#define TONE_MAPPING":"",t.toneMapping!==Xs?Zt.tonemapping_pars_fragment:"",t.toneMapping!==Xs?wJ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Zt.encodings_pars_fragment,xJ("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Wh).join(`
`)),o=r2(o),o=vN(o,t),o=yN(o,t),a=r2(a),a=vN(a,t),a=yN(a,t),o=xN(o),a=xN(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,b=["#define varying in",t.glslVersion===e2?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===e2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const S=_+x+o,E=_+b+a,C=mN(i,35633,S),P=mN(i,35632,E);if(i.attachShader(y,C),i.attachShader(y,P),t.index0AttributeName!==void 0?i.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),n.debug.checkShaderErrors){const k=i.getProgramInfoLog(y).trim(),O=i.getShaderInfoLog(C).trim(),U=i.getShaderInfoLog(P).trim();let H=!0,V=!0;if(i.getProgramParameter(y,35714)===!1){H=!1;const z=gN(i,C,"vertex"),ee=gN(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,35715)+`

Program Info Log: `+k+`
`+z+`
`+ee)}else k!==""?console.warn("THREE.WebGLProgram: Program Info Log:",k):(O===""||U==="")&&(V=!1);V&&(this.diagnostics={runnable:H,programLog:k,vertexShader:{log:O,prefix:x},fragmentShader:{log:U,prefix:b}})}i.deleteShader(C),i.deleteShader(P);let I;this.getUniforms=function(){return I===void 0&&(I=new B0(i,y)),I};let T;return this.getAttributes=function(){return T===void 0&&(T=SJ(i,y)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.name=t.shaderName,this.id=gJ++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=C,this.fragmentShader=P,this}let IJ=0;class DJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new OJ(e),t.set(e,r)),r}}class OJ{constructor(e){this.id=IJ++,this.code=e,this.usedTimes=0}}function jJ(n,e,t,r,i,s,o){const a=new Xc,l=new DJ,c=[],d=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.vertexTextures;let g=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(T,k,O,U,H){const V=U.fog,z=H.geometry,ee=T.isMeshStandardMaterial?U.environment:null,K=(T.isMeshStandardMaterial?t:e).get(T.envMap||ee),le=K&&K.mapping===kf?K.image.height:null,D=v[T.type];T.precision!==null&&(g=i.getMaxPrecision(T.precision),g!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",g,"instead."));const W=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,G=W!==void 0?W.length:0;let J=0;z.morphAttributes.position!==void 0&&(J=1),z.morphAttributes.normal!==void 0&&(J=2),z.morphAttributes.color!==void 0&&(J=3);let Z,oe,we,Ae;if(D){const He=Ws[D];Z=He.vertexShader,oe=He.fragmentShader}else Z=T.vertexShader,oe=T.fragmentShader,l.update(T),we=l.getVertexShaderID(T),Ae=l.getFragmentShaderID(T);const re=n.getRenderTarget(),Ve=T.alphaTest>0,Ge=T.clearcoat>0,et=T.iridescence>0;return{isWebGL2:d,shaderID:D,shaderName:T.type,vertexShader:Z,fragmentShader:oe,defines:T.defines,customVertexShaderID:we,customFragmentShaderID:Ae,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:g,instancing:H.isInstancedMesh===!0,instancingColor:H.isInstancedMesh===!0&&H.instanceColor!==null,supportsVertexTextures:p,outputEncoding:re===null?n.outputEncoding:re.isXRRenderTarget===!0?re.texture.encoding:Ll,map:!!T.map,matcap:!!T.matcap,envMap:!!K,envMapMode:K&&K.mapping,envMapCubeUVHeight:le,lightMap:!!T.lightMap,aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===fj,tangentSpaceNormalMap:T.normalMapType===$l,decodeVideoTexture:!!T.map&&T.map.isVideoTexture===!0&&T.map.encoding===En,clearcoat:Ge,clearcoatMap:Ge&&!!T.clearcoatMap,clearcoatRoughnessMap:Ge&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:Ge&&!!T.clearcoatNormalMap,iridescence:et,iridescenceMap:et&&!!T.iridescenceMap,iridescenceThicknessMap:et&&!!T.iridescenceThicknessMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularColorMap:!!T.specularColorMap,opaque:T.transparent===!1&&T.blending===Hc,alphaMap:!!T.alphaMap,alphaTest:Ve,gradientMap:!!T.gradientMap,sheen:T.sheen>0,sheenColorMap:!!T.sheenColorMap,sheenRoughnessMap:!!T.sheenRoughnessMap,transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!z.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.iridescenceMap||!!T.iridescenceThicknessMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||!!T.sheenColorMap||!!T.sheenRoughnessMap,uvsVertexOnly:!(T.map||T.bumpMap||T.normalMap||T.specularMap||T.alphaMap||T.emissiveMap||T.roughnessMap||T.metalnessMap||T.clearcoatNormalMap||T.iridescenceMap||T.iridescenceThicknessMap||T.transmission>0||T.transmissionMap||T.thicknessMap||T.specularIntensityMap||T.specularColorMap||T.sheen>0||T.sheenColorMap||T.sheenRoughnessMap)&&!!T.displacementMap,fog:!!V,useFog:T.fog===!0,fogExp2:V&&V.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:h,skinning:H.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:J,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&O.length>0,shadowMapType:n.shadowMap.type,toneMapping:T.toneMapped?n.toneMapping:Xs,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Gs,flipSided:T.side===Ii,useDepthPacking:!!T.depthPacking,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function x(T){const k=[];if(T.shaderID?k.push(T.shaderID):(k.push(T.customVertexShaderID),k.push(T.customFragmentShaderID)),T.defines!==void 0)for(const O in T.defines)k.push(O),k.push(T.defines[O]);return T.isRawShaderMaterial===!1&&(b(k,T),_(k,T),k.push(n.outputEncoding)),k.push(T.customProgramCacheKey),k.join()}function b(T,k){T.push(k.precision),T.push(k.outputEncoding),T.push(k.envMapMode),T.push(k.envMapCubeUVHeight),T.push(k.combine),T.push(k.vertexUvs),T.push(k.fogExp2),T.push(k.sizeAttenuation),T.push(k.morphTargetsCount),T.push(k.morphAttributeCount),T.push(k.numDirLights),T.push(k.numPointLights),T.push(k.numSpotLights),T.push(k.numSpotLightMaps),T.push(k.numHemiLights),T.push(k.numRectAreaLights),T.push(k.numDirLightShadows),T.push(k.numPointLightShadows),T.push(k.numSpotLightShadows),T.push(k.numSpotLightShadowsWithMaps),T.push(k.shadowMapType),T.push(k.toneMapping),T.push(k.numClippingPlanes),T.push(k.numClipIntersection),T.push(k.depthPacking)}function _(T,k){a.disableAll(),k.isWebGL2&&a.enable(0),k.supportsVertexTextures&&a.enable(1),k.instancing&&a.enable(2),k.instancingColor&&a.enable(3),k.map&&a.enable(4),k.matcap&&a.enable(5),k.envMap&&a.enable(6),k.lightMap&&a.enable(7),k.aoMap&&a.enable(8),k.emissiveMap&&a.enable(9),k.bumpMap&&a.enable(10),k.normalMap&&a.enable(11),k.objectSpaceNormalMap&&a.enable(12),k.tangentSpaceNormalMap&&a.enable(13),k.clearcoat&&a.enable(14),k.clearcoatMap&&a.enable(15),k.clearcoatRoughnessMap&&a.enable(16),k.clearcoatNormalMap&&a.enable(17),k.iridescence&&a.enable(18),k.iridescenceMap&&a.enable(19),k.iridescenceThicknessMap&&a.enable(20),k.displacementMap&&a.enable(21),k.specularMap&&a.enable(22),k.roughnessMap&&a.enable(23),k.metalnessMap&&a.enable(24),k.gradientMap&&a.enable(25),k.alphaMap&&a.enable(26),k.alphaTest&&a.enable(27),k.vertexColors&&a.enable(28),k.vertexAlphas&&a.enable(29),k.vertexUvs&&a.enable(30),k.vertexTangents&&a.enable(31),k.uvsVertexOnly&&a.enable(32),T.push(a.mask),a.disableAll(),k.fog&&a.enable(0),k.useFog&&a.enable(1),k.flatShading&&a.enable(2),k.logarithmicDepthBuffer&&a.enable(3),k.skinning&&a.enable(4),k.morphTargets&&a.enable(5),k.morphNormals&&a.enable(6),k.morphColors&&a.enable(7),k.premultipliedAlpha&&a.enable(8),k.shadowMapEnabled&&a.enable(9),k.physicallyCorrectLights&&a.enable(10),k.doubleSided&&a.enable(11),k.flipSided&&a.enable(12),k.useDepthPacking&&a.enable(13),k.dithering&&a.enable(14),k.specularIntensityMap&&a.enable(15),k.specularColorMap&&a.enable(16),k.transmission&&a.enable(17),k.transmissionMap&&a.enable(18),k.thicknessMap&&a.enable(19),k.sheen&&a.enable(20),k.sheenColorMap&&a.enable(21),k.sheenRoughnessMap&&a.enable(22),k.decodeVideoTexture&&a.enable(23),k.opaque&&a.enable(24),T.push(a.mask)}function S(T){const k=v[T.type];let O;if(k){const U=Ws[k];O=yj.clone(U.uniforms)}else O=T.uniforms;return O}function E(T,k){let O;for(let U=0,H=c.length;U<H;U++){const V=c[U];if(V.cacheKey===k){O=V,++O.usedTimes;break}}return O===void 0&&(O=new LJ(n,k,T,s),c.push(O)),O}function C(T){if(--T.usedTimes===0){const k=c.indexOf(T);c[k]=c[c.length-1],c.pop(),T.destroy()}}function P(T){l.remove(T)}function I(){l.dispose()}return{getParameters:y,getProgramCacheKey:x,getUniforms:S,acquireProgram:E,releaseProgram:C,releaseShaderCache:P,programs:c,dispose:I}}function FJ(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function zJ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function _N(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function bN(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(h,p,g,v,y,x){let b=n[e];return b===void 0?(b={id:h.id,object:h,geometry:p,material:g,groupOrder:v,renderOrder:h.renderOrder,z:y,group:x},n[e]=b):(b.id=h.id,b.object=h,b.geometry=p,b.material=g,b.groupOrder=v,b.renderOrder=h.renderOrder,b.z=y,b.group=x),e++,b}function a(h,p,g,v,y,x){const b=o(h,p,g,v,y,x);g.transmission>0?r.push(b):g.transparent===!0?i.push(b):t.push(b)}function l(h,p,g,v,y,x){const b=o(h,p,g,v,y,x);g.transmission>0?r.unshift(b):g.transparent===!0?i.unshift(b):t.unshift(b)}function c(h,p){t.length>1&&t.sort(h||zJ),r.length>1&&r.sort(p||_N),i.length>1&&i.sort(p||_N)}function d(){for(let h=e,p=n.length;h<p;h++){const g=n[h];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:d,sort:c}}function BJ(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new bN,n.set(r,[o])):i>=s.length?(o=new bN,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function UJ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new $,color:new ft};break;case"SpotLight":t={position:new $,direction:new $,color:new ft,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new $,color:new ft,distance:0,decay:0};break;case"HemisphereLight":t={direction:new $,skyColor:new ft,groundColor:new ft};break;case"RectAreaLight":t={color:new ft,position:new $,halfWidth:new $,halfHeight:new $};break}return n[e.id]=t,t}}}function VJ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let WJ=0;function HJ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function GJ(n,e){const t=new UJ,r=VJ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)i.probe.push(new $);const s=new $,o=new zt,a=new zt;function l(d,h){let p=0,g=0,v=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let y=0,x=0,b=0,_=0,S=0,E=0,C=0,P=0,I=0,T=0;d.sort(HJ);const k=h!==!0?Math.PI:1;for(let U=0,H=d.length;U<H;U++){const V=d[U],z=V.color,ee=V.intensity,K=V.distance,le=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)p+=z.r*ee*k,g+=z.g*ee*k,v+=z.b*ee*k;else if(V.isLightProbe)for(let D=0;D<9;D++)i.probe[D].addScaledVector(V.sh.coefficients[D],ee);else if(V.isDirectionalLight){const D=t.get(V);if(D.color.copy(V.color).multiplyScalar(V.intensity*k),V.castShadow){const W=V.shadow,G=r.get(V);G.shadowBias=W.bias,G.shadowNormalBias=W.normalBias,G.shadowRadius=W.radius,G.shadowMapSize=W.mapSize,i.directionalShadow[y]=G,i.directionalShadowMap[y]=le,i.directionalShadowMatrix[y]=V.shadow.matrix,E++}i.directional[y]=D,y++}else if(V.isSpotLight){const D=t.get(V);D.position.setFromMatrixPosition(V.matrixWorld),D.color.copy(z).multiplyScalar(ee*k),D.distance=K,D.coneCos=Math.cos(V.angle),D.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),D.decay=V.decay,i.spot[b]=D;const W=V.shadow;if(V.map&&(i.spotLightMap[I]=V.map,I++,W.updateMatrices(V),V.castShadow&&T++),i.spotLightMatrix[b]=W.matrix,V.castShadow){const G=r.get(V);G.shadowBias=W.bias,G.shadowNormalBias=W.normalBias,G.shadowRadius=W.radius,G.shadowMapSize=W.mapSize,i.spotShadow[b]=G,i.spotShadowMap[b]=le,P++}b++}else if(V.isRectAreaLight){const D=t.get(V);D.color.copy(z).multiplyScalar(ee),D.halfWidth.set(V.width*.5,0,0),D.halfHeight.set(0,V.height*.5,0),i.rectArea[_]=D,_++}else if(V.isPointLight){const D=t.get(V);if(D.color.copy(V.color).multiplyScalar(V.intensity*k),D.distance=V.distance,D.decay=V.decay,V.castShadow){const W=V.shadow,G=r.get(V);G.shadowBias=W.bias,G.shadowNormalBias=W.normalBias,G.shadowRadius=W.radius,G.shadowMapSize=W.mapSize,G.shadowCameraNear=W.camera.near,G.shadowCameraFar=W.camera.far,i.pointShadow[x]=G,i.pointShadowMap[x]=le,i.pointShadowMatrix[x]=V.shadow.matrix,C++}i.point[x]=D,x++}else if(V.isHemisphereLight){const D=t.get(V);D.skyColor.copy(V.color).multiplyScalar(ee*k),D.groundColor.copy(V.groundColor).multiplyScalar(ee*k),i.hemi[S]=D,S++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_FLOAT_1,i.rectAreaLTC2=nt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_HALF_1,i.rectAreaLTC2=nt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=v;const O=i.hash;(O.directionalLength!==y||O.pointLength!==x||O.spotLength!==b||O.rectAreaLength!==_||O.hemiLength!==S||O.numDirectionalShadows!==E||O.numPointShadows!==C||O.numSpotShadows!==P||O.numSpotMaps!==I)&&(i.directional.length=y,i.spot.length=b,i.rectArea.length=_,i.point.length=x,i.hemi.length=S,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=P+I-T,i.spotLightMap.length=I,i.numSpotLightShadowsWithMaps=T,O.directionalLength=y,O.pointLength=x,O.spotLength=b,O.rectAreaLength=_,O.hemiLength=S,O.numDirectionalShadows=E,O.numPointShadows=C,O.numSpotShadows=P,O.numSpotMaps=I,i.version=WJ++)}function c(d,h){let p=0,g=0,v=0,y=0,x=0;const b=h.matrixWorldInverse;for(let _=0,S=d.length;_<S;_++){const E=d[_];if(E.isDirectionalLight){const C=i.directional[p];C.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(b),p++}else if(E.isSpotLight){const C=i.spot[v];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(b),C.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(b),v++}else if(E.isRectAreaLight){const C=i.rectArea[y];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(b),a.identity(),o.copy(E.matrixWorld),o.premultiply(b),a.extractRotation(o),C.halfWidth.set(E.width*.5,0,0),C.halfHeight.set(0,E.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),y++}else if(E.isPointLight){const C=i.point[g];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(b),g++}else if(E.isHemisphereLight){const C=i.hemi[x];C.direction.setFromMatrixPosition(E.matrixWorld),C.direction.transformDirection(b),x++}}}return{setup:l,setupView:c,state:i}}function SN(n,e){const t=new GJ(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){t.setup(r,h)}function c(h){t.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function $J(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new SN(n,e),t.set(s,[l])):o>=a.length?(l=new SN(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class yE extends oi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=uj,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class xE extends oi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new $,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const ZJ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,qJ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function XJ(n,e,t){let r=new Ox;const i=new Le,s=new Le,o=new yn,a=new yE({depthPacking:dj}),l=new xE,c={},d=t.maxTextureSize,h={[wa]:Ii,[Ii]:wa,[Gs]:Gs},p=new ji({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Le},radius:{value:4}},vertexShader:ZJ,fragmentShader:qJ}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const v=new Qt;v.setAttribute("position",new _n(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new mr(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Rx,this.render=function(E,C,P){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||E.length===0)return;const I=n.getRenderTarget(),T=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),O=n.state;O.setBlending(To),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);for(let U=0,H=E.length;U<H;U++){const V=E[U],z=V.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;i.copy(z.mapSize);const ee=z.getFrameExtents();if(i.multiply(ee),s.copy(z.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/ee.x),i.x=s.x*ee.x,z.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/ee.y),i.y=s.y*ee.y,z.mapSize.y=s.y)),z.map===null){const le=this.type!==Pc?{minFilter:nr,magFilter:nr}:{};z.map=new rs(i.x,i.y,le),z.map.texture.name=V.name+".shadowMap",z.camera.updateProjectionMatrix()}n.setRenderTarget(z.map),n.clear();const K=z.getViewportCount();for(let le=0;le<K;le++){const D=z.getViewport(le);o.set(s.x*D.x,s.y*D.y,s.x*D.z,s.y*D.w),O.viewport(o),z.updateMatrices(V,le),r=z.getFrustum(),S(C,P,z.camera,V,this.type)}z.isPointLightShadow!==!0&&this.type===Pc&&b(z,P),z.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(I,T,k)};function b(E,C){const P=e.update(y);p.defines.VSM_SAMPLES!==E.blurSamples&&(p.defines.VSM_SAMPLES=E.blurSamples,g.defines.VSM_SAMPLES=E.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new rs(i.x,i.y)),p.uniforms.shadow_pass.value=E.map.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(C,null,P,p,y,null),g.uniforms.shadow_pass.value=E.mapPass.texture,g.uniforms.resolution.value=E.mapSize,g.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(C,null,P,g,y,null)}function _(E,C,P,I,T,k){let O=null;const U=P.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(U!==void 0)O=U;else if(O=P.isPointLight===!0?l:a,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const H=O.uuid,V=C.uuid;let z=c[H];z===void 0&&(z={},c[H]=z);let ee=z[V];ee===void 0&&(ee=O.clone(),z[V]=ee),O=ee}return O.visible=C.visible,O.wireframe=C.wireframe,k===Pc?O.side=C.shadowSide!==null?C.shadowSide:C.side:O.side=C.shadowSide!==null?C.shadowSide:h[C.side],O.alphaMap=C.alphaMap,O.alphaTest=C.alphaTest,O.map=C.map,O.clipShadows=C.clipShadows,O.clippingPlanes=C.clippingPlanes,O.clipIntersection=C.clipIntersection,O.displacementMap=C.displacementMap,O.displacementScale=C.displacementScale,O.displacementBias=C.displacementBias,O.wireframeLinewidth=C.wireframeLinewidth,O.linewidth=C.linewidth,P.isPointLight===!0&&O.isMeshDistanceMaterial===!0&&(O.referencePosition.setFromMatrixPosition(P.matrixWorld),O.nearDistance=I,O.farDistance=T),O}function S(E,C,P,I,T){if(E.visible===!1)return;if(E.layers.test(C.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&T===Pc)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,E.matrixWorld);const U=e.update(E),H=E.material;if(Array.isArray(H)){const V=U.groups;for(let z=0,ee=V.length;z<ee;z++){const K=V[z],le=H[K.materialIndex];if(le&&le.visible){const D=_(E,le,I,P.near,P.far,T);n.renderBufferDirect(P,null,U,D,E,K)}}}else if(H.visible){const V=_(E,H,I,P.near,P.far,T);n.renderBufferDirect(P,null,U,V,E,null)}}const O=E.children;for(let U=0,H=O.length;U<H;U++)S(O[U],C,P,I,T)}}function YJ(n,e,t){const r=t.isWebGL2;function i(){let te=!1;const ne=new yn;let Re=null;const Ye=new yn(0,0,0,0);return{setMask:function(gt){Re!==gt&&!te&&(n.colorMask(gt,gt,gt,gt),Re=gt)},setLocked:function(gt){te=gt},setClear:function(gt,Wt,nn,fn,Cr){Cr===!0&&(gt*=fn,Wt*=fn,nn*=fn),ne.set(gt,Wt,nn,fn),Ye.equals(ne)===!1&&(n.clearColor(gt,Wt,nn,fn),Ye.copy(ne))},reset:function(){te=!1,Re=null,Ye.set(-1,0,0,0)}}}function s(){let te=!1,ne=null,Re=null,Ye=null;return{setTest:function(gt){gt?Ve(2929):Ge(2929)},setMask:function(gt){ne!==gt&&!te&&(n.depthMask(gt),ne=gt)},setFunc:function(gt){if(Re!==gt){switch(gt){case jO:n.depthFunc(512);break;case FO:n.depthFunc(519);break;case zO:n.depthFunc(513);break;case Ry:n.depthFunc(515);break;case BO:n.depthFunc(514);break;case UO:n.depthFunc(518);break;case VO:n.depthFunc(516);break;case WO:n.depthFunc(517);break;default:n.depthFunc(515)}Re=gt}},setLocked:function(gt){te=gt},setClear:function(gt){Ye!==gt&&(n.clearDepth(gt),Ye=gt)},reset:function(){te=!1,ne=null,Re=null,Ye=null}}}function o(){let te=!1,ne=null,Re=null,Ye=null,gt=null,Wt=null,nn=null,fn=null,Cr=null;return{setTest:function(en){te||(en?Ve(2960):Ge(2960))},setMask:function(en){ne!==en&&!te&&(n.stencilMask(en),ne=en)},setFunc:function(en,lr,Jn){(Re!==en||Ye!==lr||gt!==Jn)&&(n.stencilFunc(en,lr,Jn),Re=en,Ye=lr,gt=Jn)},setOp:function(en,lr,Jn){(Wt!==en||nn!==lr||fn!==Jn)&&(n.stencilOp(en,lr,Jn),Wt=en,nn=lr,fn=Jn)},setLocked:function(en){te=en},setClear:function(en){Cr!==en&&(n.clearStencil(en),Cr=en)},reset:function(){te=!1,ne=null,Re=null,Ye=null,gt=null,Wt=null,nn=null,fn=null,Cr=null}}}const a=new i,l=new s,c=new o,d=new WeakMap,h=new WeakMap;let p={},g={},v=new WeakMap,y=[],x=null,b=!1,_=null,S=null,E=null,C=null,P=null,I=null,T=null,k=!1,O=null,U=null,H=null,V=null,z=null;const ee=n.getParameter(35661);let K=!1,le=0;const D=n.getParameter(7938);D.indexOf("WebGL")!==-1?(le=parseFloat(/^WebGL (\d)/.exec(D)[1]),K=le>=1):D.indexOf("OpenGL ES")!==-1&&(le=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),K=le>=2);let W=null,G={};const J=n.getParameter(3088),Z=n.getParameter(2978),oe=new yn().fromArray(J),we=new yn().fromArray(Z);function Ae(te,ne,Re){const Ye=new Uint8Array(4),gt=n.createTexture();n.bindTexture(te,gt),n.texParameteri(te,10241,9728),n.texParameteri(te,10240,9728);for(let Wt=0;Wt<Re;Wt++)n.texImage2D(ne+Wt,0,6408,1,1,0,6408,5121,Ye);return gt}const re={};re[3553]=Ae(3553,3553,1),re[34067]=Ae(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ve(2929),l.setFunc(Ry),qe(!1),wt(ES),Ve(2884),Ue(To);function Ve(te){p[te]!==!0&&(n.enable(te),p[te]=!0)}function Ge(te){p[te]!==!1&&(n.disable(te),p[te]=!1)}function et(te,ne){return g[te]!==ne?(n.bindFramebuffer(te,ne),g[te]=ne,r&&(te===36009&&(g[36160]=ne),te===36160&&(g[36009]=ne)),!0):!1}function De(te,ne){let Re=y,Ye=!1;if(te)if(Re=v.get(ne),Re===void 0&&(Re=[],v.set(ne,Re)),te.isWebGLMultipleRenderTargets){const gt=te.texture;if(Re.length!==gt.length||Re[0]!==36064){for(let Wt=0,nn=gt.length;Wt<nn;Wt++)Re[Wt]=36064+Wt;Re.length=gt.length,Ye=!0}}else Re[0]!==36064&&(Re[0]=36064,Ye=!0);else Re[0]!==1029&&(Re[0]=1029,Ye=!0);Ye&&(t.isWebGL2?n.drawBuffers(Re):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Re))}function He(te){return x!==te?(n.useProgram(te),x=te,!0):!1}const be={[Sc]:32774,[TO]:32778,[CO]:32779};if(r)be[AS]=32775,be[PS]=32776;else{const te=e.get("EXT_blend_minmax");te!==null&&(be[AS]=te.MIN_EXT,be[PS]=te.MAX_EXT)}const ye={[AO]:0,[PO]:1,[NO]:768,[tE]:770,[OO]:776,[IO]:774,[RO]:772,[kO]:769,[nE]:771,[DO]:775,[LO]:773};function Ue(te,ne,Re,Ye,gt,Wt,nn,fn){if(te===To){b===!0&&(Ge(3042),b=!1);return}if(b===!1&&(Ve(3042),b=!0),te!==EO){if(te!==_||fn!==k){if((S!==Sc||P!==Sc)&&(n.blendEquation(32774),S=Sc,P=Sc),fn)switch(te){case Hc:n.blendFuncSeparate(1,771,1,771);break;case Up:n.blendFunc(1,1);break;case TS:n.blendFuncSeparate(0,769,0,1);break;case CS:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case Hc:n.blendFuncSeparate(770,771,1,771);break;case Up:n.blendFunc(770,1);break;case TS:n.blendFuncSeparate(0,769,0,1);break;case CS:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}E=null,C=null,I=null,T=null,_=te,k=fn}return}gt=gt||ne,Wt=Wt||Re,nn=nn||Ye,(ne!==S||gt!==P)&&(n.blendEquationSeparate(be[ne],be[gt]),S=ne,P=gt),(Re!==E||Ye!==C||Wt!==I||nn!==T)&&(n.blendFuncSeparate(ye[Re],ye[Ye],ye[Wt],ye[nn]),E=Re,C=Ye,I=Wt,T=nn),_=te,k=!1}function it(te,ne){te.side===Gs?Ge(2884):Ve(2884);let Re=te.side===Ii;ne&&(Re=!Re),qe(Re),te.blending===Hc&&te.transparent===!1?Ue(To):Ue(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.premultipliedAlpha),l.setFunc(te.depthFunc),l.setTest(te.depthTest),l.setMask(te.depthWrite),a.setMask(te.colorWrite);const Ye=te.stencilWrite;c.setTest(Ye),Ye&&(c.setMask(te.stencilWriteMask),c.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),c.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),ie(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?Ve(32926):Ge(32926)}function qe(te){O!==te&&(te?n.frontFace(2304):n.frontFace(2305),O=te)}function wt(te){te!==bO?(Ve(2884),te!==U&&(te===ES?n.cullFace(1029):te===SO?n.cullFace(1028):n.cullFace(1032))):Ge(2884),U=te}function X(te){te!==H&&(K&&n.lineWidth(te),H=te)}function ie(te,ne,Re){te?(Ve(32823),(V!==ne||z!==Re)&&(n.polygonOffset(ne,Re),V=ne,z=Re)):Ge(32823)}function fe(te){te?Ve(3089):Ge(3089)}function Fe(te){te===void 0&&(te=33984+ee-1),W!==te&&(n.activeTexture(te),W=te)}function B(te,ne,Re){Re===void 0&&(W===null?Re=33984+ee-1:Re=W);let Ye=G[Re];Ye===void 0&&(Ye={type:void 0,texture:void 0},G[Re]=Ye),(Ye.type!==te||Ye.texture!==ne)&&(W!==Re&&(n.activeTexture(Re),W=Re),n.bindTexture(te,ne||re[te]),Ye.type=te,Ye.texture=ne)}function j(){const te=G[W];te!==void 0&&te.type!==void 0&&(n.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function ae(){try{n.compressedTexImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function _e(){try{n.compressedTexImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Oe(){try{n.texSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function je(){try{n.texSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function pt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Je(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Te(){try{n.texStorage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function mt(){try{n.texStorage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function St(){try{n.texImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ot(){try{n.texImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function at(te){oe.equals(te)===!1&&(n.scissor(te.x,te.y,te.z,te.w),oe.copy(te))}function dt(te){we.equals(te)===!1&&(n.viewport(te.x,te.y,te.z,te.w),we.copy(te))}function se(te,ne){let Re=h.get(ne);Re===void 0&&(Re=new WeakMap,h.set(ne,Re));let Ye=Re.get(te);Ye===void 0&&(Ye=n.getUniformBlockIndex(ne,te.name),Re.set(te,Ye))}function Ne(te,ne){const Ye=h.get(ne).get(te);d.get(ne)!==Ye&&(n.uniformBlockBinding(ne,Ye,te.__bindingPointIndex),d.set(ne,Ye))}function Ce(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},W=null,G={},g={},v=new WeakMap,y=[],x=null,b=!1,_=null,S=null,E=null,C=null,P=null,I=null,T=null,k=!1,O=null,U=null,H=null,V=null,z=null,oe.set(0,0,n.canvas.width,n.canvas.height),we.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Ve,disable:Ge,bindFramebuffer:et,drawBuffers:De,useProgram:He,setBlending:Ue,setMaterial:it,setFlipSided:qe,setCullFace:wt,setLineWidth:X,setPolygonOffset:ie,setScissorTest:fe,activeTexture:Fe,bindTexture:B,unbindTexture:j,compressedTexImage2D:ae,compressedTexImage3D:_e,texImage2D:St,texImage3D:ot,updateUBOMapping:se,uniformBlockBinding:Ne,texStorage2D:Te,texStorage3D:mt,texSubImage2D:Oe,texSubImage3D:je,compressedTexSubImage2D:pt,compressedTexSubImage3D:Je,scissor:at,viewport:dt,reset:Ce}}function KJ(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,d=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const x=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(B,j){return b?new OffscreenCanvas(B,j):Yp("canvas")}function S(B,j,ae,_e){let Oe=1;if((B.width>_e||B.height>_e)&&(Oe=_e/Math.max(B.width,B.height)),Oe<1||j===!0)if(typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&B instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&B instanceof ImageBitmap){const je=j?Dy:Math.floor,pt=je(Oe*B.width),Je=je(Oe*B.height);y===void 0&&(y=_(pt,Je));const Te=ae?_(pt,Je):y;return Te.width=pt,Te.height=Je,Te.getContext("2d").drawImage(B,0,0,pt,Je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+B.width+"x"+B.height+") to ("+pt+"x"+Je+")."),Te}else return"data"in B&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+B.width+"x"+B.height+")."),B;return B}function E(B){return t2(B.width)&&t2(B.height)}function C(B){return a?!1:B.wrapS!==jn||B.wrapT!==jn||B.minFilter!==nr&&B.minFilter!==dn}function P(B,j){return B.generateMipmaps&&j&&B.minFilter!==nr&&B.minFilter!==dn}function I(B){n.generateMipmap(B)}function T(B,j,ae,_e,Oe=!1){if(a===!1)return j;if(B!==null){if(n[B]!==void 0)return n[B];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let je=j;return j===6403&&(ae===5126&&(je=33326),ae===5131&&(je=33325),ae===5121&&(je=33321)),j===33319&&(ae===5126&&(je=33328),ae===5131&&(je=33327),ae===5121&&(je=33323)),j===6408&&(ae===5126&&(je=34836),ae===5131&&(je=34842),ae===5121&&(je=_e===En&&Oe===!1?35907:32856),ae===32819&&(je=32854),ae===32820&&(je=32855)),(je===33325||je===33326||je===33327||je===33328||je===34842||je===34836)&&e.get("EXT_color_buffer_float"),je}function k(B,j,ae){return P(B,ae)===!0||B.isFramebufferTexture&&B.minFilter!==nr&&B.minFilter!==dn?Math.log2(Math.max(j.width,j.height))+1:B.mipmaps!==void 0&&B.mipmaps.length>0?B.mipmaps.length:B.isCompressedTexture&&Array.isArray(B.image)?j.mipmaps.length:1}function O(B){return B===nr||B===Ly||B===lp?9728:9729}function U(B){const j=B.target;j.removeEventListener("dispose",U),V(j),j.isVideoTexture&&v.delete(j)}function H(B){const j=B.target;j.removeEventListener("dispose",H),ee(j)}function V(B){const j=r.get(B);if(j.__webglInit===void 0)return;const ae=B.source,_e=x.get(ae);if(_e){const Oe=_e[j.__cacheKey];Oe.usedTimes--,Oe.usedTimes===0&&z(B),Object.keys(_e).length===0&&x.delete(ae)}r.remove(B)}function z(B){const j=r.get(B);n.deleteTexture(j.__webglTexture);const ae=B.source,_e=x.get(ae);delete _e[j.__cacheKey],o.memory.textures--}function ee(B){const j=B.texture,ae=r.get(B),_e=r.get(j);if(_e.__webglTexture!==void 0&&(n.deleteTexture(_e.__webglTexture),o.memory.textures--),B.depthTexture&&B.depthTexture.dispose(),B.isWebGLCubeRenderTarget)for(let Oe=0;Oe<6;Oe++)n.deleteFramebuffer(ae.__webglFramebuffer[Oe]),ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer[Oe]);else{if(n.deleteFramebuffer(ae.__webglFramebuffer),ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let Oe=0;Oe<ae.__webglColorRenderbuffer.length;Oe++)ae.__webglColorRenderbuffer[Oe]&&n.deleteRenderbuffer(ae.__webglColorRenderbuffer[Oe]);ae.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}if(B.isWebGLMultipleRenderTargets)for(let Oe=0,je=j.length;Oe<je;Oe++){const pt=r.get(j[Oe]);pt.__webglTexture&&(n.deleteTexture(pt.__webglTexture),o.memory.textures--),r.remove(j[Oe])}r.remove(j),r.remove(B)}let K=0;function le(){K=0}function D(){const B=K;return B>=l&&console.warn("THREE.WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+l),K+=1,B}function W(B){const j=[];return j.push(B.wrapS),j.push(B.wrapT),j.push(B.wrapR||0),j.push(B.magFilter),j.push(B.minFilter),j.push(B.anisotropy),j.push(B.internalFormat),j.push(B.format),j.push(B.type),j.push(B.generateMipmaps),j.push(B.premultiplyAlpha),j.push(B.flipY),j.push(B.unpackAlignment),j.push(B.encoding),j.join()}function G(B,j){const ae=r.get(B);if(B.isVideoTexture&&fe(B),B.isRenderTargetTexture===!1&&B.version>0&&ae.__version!==B.version){const _e=B.image;if(_e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ge(ae,B,j);return}}t.bindTexture(3553,ae.__webglTexture,33984+j)}function J(B,j){const ae=r.get(B);if(B.version>0&&ae.__version!==B.version){Ge(ae,B,j);return}t.bindTexture(35866,ae.__webglTexture,33984+j)}function Z(B,j){const ae=r.get(B);if(B.version>0&&ae.__version!==B.version){Ge(ae,B,j);return}t.bindTexture(32879,ae.__webglTexture,33984+j)}function oe(B,j){const ae=r.get(B);if(B.version>0&&ae.__version!==B.version){et(ae,B,j);return}t.bindTexture(34067,ae.__webglTexture,33984+j)}const we={[Wp]:10497,[jn]:33071,[Hp]:33648},Ae={[nr]:9728,[Ly]:9984,[lp]:9986,[dn]:9729,[iE]:9985,[Rl]:9987};function re(B,j,ae){if(ae?(n.texParameteri(B,10242,we[j.wrapS]),n.texParameteri(B,10243,we[j.wrapT]),(B===32879||B===35866)&&n.texParameteri(B,32882,we[j.wrapR]),n.texParameteri(B,10240,Ae[j.magFilter]),n.texParameteri(B,10241,Ae[j.minFilter])):(n.texParameteri(B,10242,33071),n.texParameteri(B,10243,33071),(B===32879||B===35866)&&n.texParameteri(B,32882,33071),(j.wrapS!==jn||j.wrapT!==jn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(B,10240,O(j.magFilter)),n.texParameteri(B,10241,O(j.minFilter)),j.minFilter!==nr&&j.minFilter!==dn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const _e=e.get("EXT_texture_filter_anisotropic");if(j.magFilter===nr||j.minFilter!==lp&&j.minFilter!==Rl||j.type===Lr&&e.has("OES_texture_float_linear")===!1||a===!1&&j.type===Ir&&e.has("OES_texture_half_float_linear")===!1)return;(j.anisotropy>1||r.get(j).__currentAnisotropy)&&(n.texParameterf(B,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,i.getMaxAnisotropy())),r.get(j).__currentAnisotropy=j.anisotropy)}}function Ve(B,j){let ae=!1;B.__webglInit===void 0&&(B.__webglInit=!0,j.addEventListener("dispose",U));const _e=j.source;let Oe=x.get(_e);Oe===void 0&&(Oe={},x.set(_e,Oe));const je=W(j);if(je!==B.__cacheKey){Oe[je]===void 0&&(Oe[je]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ae=!0),Oe[je].usedTimes++;const pt=Oe[B.__cacheKey];pt!==void 0&&(Oe[B.__cacheKey].usedTimes--,pt.usedTimes===0&&z(j)),B.__cacheKey=je,B.__webglTexture=Oe[je].texture}return ae}function Ge(B,j,ae){let _e=3553;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(_e=35866),j.isData3DTexture&&(_e=32879);const Oe=Ve(B,j),je=j.source;t.bindTexture(_e,B.__webglTexture,33984+ae);const pt=r.get(je);if(je.version!==pt.__version||Oe===!0){t.activeTexture(33984+ae),n.pixelStorei(37440,j.flipY),n.pixelStorei(37441,j.premultiplyAlpha),n.pixelStorei(3317,j.unpackAlignment),n.pixelStorei(37443,0);const Je=C(j)&&E(j.image)===!1;let Te=S(j.image,Je,!1,d);Te=Fe(j,Te);const mt=E(Te)||a,St=s.convert(j.format,j.encoding);let ot=s.convert(j.type),at=T(j.internalFormat,St,ot,j.encoding,j.isVideoTexture);re(_e,j,mt);let dt;const se=j.mipmaps,Ne=a&&j.isVideoTexture!==!0,Ce=pt.__version===void 0||Oe===!0,te=k(j,Te,mt);if(j.isDepthTexture)at=6402,a?j.type===Lr?at=36012:j.type===oa?at=33190:j.type===Gc?at=35056:at=33189:j.type===Lr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),j.format===_l&&at===6402&&j.type!==aE&&j.type!==oa&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),j.type=oa,ot=s.convert(j.type)),j.format===su&&at===6402&&(at=34041,j.type!==Gc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),j.type=Gc,ot=s.convert(j.type))),Ce&&(Ne?t.texStorage2D(3553,1,at,Te.width,Te.height):t.texImage2D(3553,0,at,Te.width,Te.height,0,St,ot,null));else if(j.isDataTexture)if(se.length>0&&mt){Ne&&Ce&&t.texStorage2D(3553,te,at,se[0].width,se[0].height);for(let ne=0,Re=se.length;ne<Re;ne++)dt=se[ne],Ne?t.texSubImage2D(3553,ne,0,0,dt.width,dt.height,St,ot,dt.data):t.texImage2D(3553,ne,at,dt.width,dt.height,0,St,ot,dt.data);j.generateMipmaps=!1}else Ne?(Ce&&t.texStorage2D(3553,te,at,Te.width,Te.height),t.texSubImage2D(3553,0,0,0,Te.width,Te.height,St,ot,Te.data)):t.texImage2D(3553,0,at,Te.width,Te.height,0,St,ot,Te.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){Ne&&Ce&&t.texStorage3D(35866,te,at,se[0].width,se[0].height,Te.depth);for(let ne=0,Re=se.length;ne<Re;ne++)dt=se[ne],j.format!==br?St!==null?Ne?t.compressedTexSubImage3D(35866,ne,0,0,0,dt.width,dt.height,Te.depth,St,dt.data,0,0):t.compressedTexImage3D(35866,ne,at,dt.width,dt.height,Te.depth,0,dt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ne?t.texSubImage3D(35866,ne,0,0,0,dt.width,dt.height,Te.depth,St,ot,dt.data):t.texImage3D(35866,ne,at,dt.width,dt.height,Te.depth,0,St,ot,dt.data)}else{Ne&&Ce&&t.texStorage2D(3553,te,at,se[0].width,se[0].height);for(let ne=0,Re=se.length;ne<Re;ne++)dt=se[ne],j.format!==br?St!==null?Ne?t.compressedTexSubImage2D(3553,ne,0,0,dt.width,dt.height,St,dt.data):t.compressedTexImage2D(3553,ne,at,dt.width,dt.height,0,dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ne?t.texSubImage2D(3553,ne,0,0,dt.width,dt.height,St,ot,dt.data):t.texImage2D(3553,ne,at,dt.width,dt.height,0,St,ot,dt.data)}else if(j.isDataArrayTexture)Ne?(Ce&&t.texStorage3D(35866,te,at,Te.width,Te.height,Te.depth),t.texSubImage3D(35866,0,0,0,0,Te.width,Te.height,Te.depth,St,ot,Te.data)):t.texImage3D(35866,0,at,Te.width,Te.height,Te.depth,0,St,ot,Te.data);else if(j.isData3DTexture)Ne?(Ce&&t.texStorage3D(32879,te,at,Te.width,Te.height,Te.depth),t.texSubImage3D(32879,0,0,0,0,Te.width,Te.height,Te.depth,St,ot,Te.data)):t.texImage3D(32879,0,at,Te.width,Te.height,Te.depth,0,St,ot,Te.data);else if(j.isFramebufferTexture){if(Ce)if(Ne)t.texStorage2D(3553,te,at,Te.width,Te.height);else{let ne=Te.width,Re=Te.height;for(let Ye=0;Ye<te;Ye++)t.texImage2D(3553,Ye,at,ne,Re,0,St,ot,null),ne>>=1,Re>>=1}}else if(se.length>0&&mt){Ne&&Ce&&t.texStorage2D(3553,te,at,se[0].width,se[0].height);for(let ne=0,Re=se.length;ne<Re;ne++)dt=se[ne],Ne?t.texSubImage2D(3553,ne,0,0,St,ot,dt):t.texImage2D(3553,ne,at,St,ot,dt);j.generateMipmaps=!1}else Ne?(Ce&&t.texStorage2D(3553,te,at,Te.width,Te.height),t.texSubImage2D(3553,0,0,0,St,ot,Te)):t.texImage2D(3553,0,at,St,ot,Te);P(j,mt)&&I(_e),pt.__version=je.version,j.onUpdate&&j.onUpdate(j)}B.__version=j.version}function et(B,j,ae){if(j.image.length!==6)return;const _e=Ve(B,j),Oe=j.source;t.bindTexture(34067,B.__webglTexture,33984+ae);const je=r.get(Oe);if(Oe.version!==je.__version||_e===!0){t.activeTexture(33984+ae),n.pixelStorei(37440,j.flipY),n.pixelStorei(37441,j.premultiplyAlpha),n.pixelStorei(3317,j.unpackAlignment),n.pixelStorei(37443,0);const pt=j.isCompressedTexture||j.image[0].isCompressedTexture,Je=j.image[0]&&j.image[0].isDataTexture,Te=[];for(let ne=0;ne<6;ne++)!pt&&!Je?Te[ne]=S(j.image[ne],!1,!0,c):Te[ne]=Je?j.image[ne].image:j.image[ne],Te[ne]=Fe(j,Te[ne]);const mt=Te[0],St=E(mt)||a,ot=s.convert(j.format,j.encoding),at=s.convert(j.type),dt=T(j.internalFormat,ot,at,j.encoding),se=a&&j.isVideoTexture!==!0,Ne=je.__version===void 0||_e===!0;let Ce=k(j,mt,St);re(34067,j,St);let te;if(pt){se&&Ne&&t.texStorage2D(34067,Ce,dt,mt.width,mt.height);for(let ne=0;ne<6;ne++){te=Te[ne].mipmaps;for(let Re=0;Re<te.length;Re++){const Ye=te[Re];j.format!==br?ot!==null?se?t.compressedTexSubImage2D(34069+ne,Re,0,0,Ye.width,Ye.height,ot,Ye.data):t.compressedTexImage2D(34069+ne,Re,dt,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):se?t.texSubImage2D(34069+ne,Re,0,0,Ye.width,Ye.height,ot,at,Ye.data):t.texImage2D(34069+ne,Re,dt,Ye.width,Ye.height,0,ot,at,Ye.data)}}}else{te=j.mipmaps,se&&Ne&&(te.length>0&&Ce++,t.texStorage2D(34067,Ce,dt,Te[0].width,Te[0].height));for(let ne=0;ne<6;ne++)if(Je){se?t.texSubImage2D(34069+ne,0,0,0,Te[ne].width,Te[ne].height,ot,at,Te[ne].data):t.texImage2D(34069+ne,0,dt,Te[ne].width,Te[ne].height,0,ot,at,Te[ne].data);for(let Re=0;Re<te.length;Re++){const gt=te[Re].image[ne].image;se?t.texSubImage2D(34069+ne,Re+1,0,0,gt.width,gt.height,ot,at,gt.data):t.texImage2D(34069+ne,Re+1,dt,gt.width,gt.height,0,ot,at,gt.data)}}else{se?t.texSubImage2D(34069+ne,0,0,0,ot,at,Te[ne]):t.texImage2D(34069+ne,0,dt,ot,at,Te[ne]);for(let Re=0;Re<te.length;Re++){const Ye=te[Re];se?t.texSubImage2D(34069+ne,Re+1,0,0,ot,at,Ye.image[ne]):t.texImage2D(34069+ne,Re+1,dt,ot,at,Ye.image[ne])}}}P(j,St)&&I(34067),je.__version=Oe.version,j.onUpdate&&j.onUpdate(j)}B.__version=j.version}function De(B,j,ae,_e,Oe){const je=s.convert(ae.format,ae.encoding),pt=s.convert(ae.type),Je=T(ae.internalFormat,je,pt,ae.encoding);r.get(j).__hasExternalTextures||(Oe===32879||Oe===35866?t.texImage3D(Oe,0,Je,j.width,j.height,j.depth,0,je,pt,null):t.texImage2D(Oe,0,Je,j.width,j.height,0,je,pt,null)),t.bindFramebuffer(36160,B),ie(j)?p.framebufferTexture2DMultisampleEXT(36160,_e,Oe,r.get(ae).__webglTexture,0,X(j)):(Oe===3553||Oe>=34069&&Oe<=34074)&&n.framebufferTexture2D(36160,_e,Oe,r.get(ae).__webglTexture,0),t.bindFramebuffer(36160,null)}function He(B,j,ae){if(n.bindRenderbuffer(36161,B),j.depthBuffer&&!j.stencilBuffer){let _e=33189;if(ae||ie(j)){const Oe=j.depthTexture;Oe&&Oe.isDepthTexture&&(Oe.type===Lr?_e=36012:Oe.type===oa&&(_e=33190));const je=X(j);ie(j)?p.renderbufferStorageMultisampleEXT(36161,je,_e,j.width,j.height):n.renderbufferStorageMultisample(36161,je,_e,j.width,j.height)}else n.renderbufferStorage(36161,_e,j.width,j.height);n.framebufferRenderbuffer(36160,36096,36161,B)}else if(j.depthBuffer&&j.stencilBuffer){const _e=X(j);ae&&ie(j)===!1?n.renderbufferStorageMultisample(36161,_e,35056,j.width,j.height):ie(j)?p.renderbufferStorageMultisampleEXT(36161,_e,35056,j.width,j.height):n.renderbufferStorage(36161,34041,j.width,j.height),n.framebufferRenderbuffer(36160,33306,36161,B)}else{const _e=j.isWebGLMultipleRenderTargets===!0?j.texture:[j.texture];for(let Oe=0;Oe<_e.length;Oe++){const je=_e[Oe],pt=s.convert(je.format,je.encoding),Je=s.convert(je.type),Te=T(je.internalFormat,pt,Je,je.encoding),mt=X(j);ae&&ie(j)===!1?n.renderbufferStorageMultisample(36161,mt,Te,j.width,j.height):ie(j)?p.renderbufferStorageMultisampleEXT(36161,mt,Te,j.width,j.height):n.renderbufferStorage(36161,Te,j.width,j.height)}}n.bindRenderbuffer(36161,null)}function be(B,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,B),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(j.depthTexture).__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),G(j.depthTexture,0);const _e=r.get(j.depthTexture).__webglTexture,Oe=X(j);if(j.depthTexture.format===_l)ie(j)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,_e,0,Oe):n.framebufferTexture2D(36160,36096,3553,_e,0);else if(j.depthTexture.format===su)ie(j)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,_e,0,Oe):n.framebufferTexture2D(36160,33306,3553,_e,0);else throw new Error("Unknown depthTexture format")}function ye(B){const j=r.get(B),ae=B.isWebGLCubeRenderTarget===!0;if(B.depthTexture&&!j.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");be(j.__webglFramebuffer,B)}else if(ae){j.__webglDepthbuffer=[];for(let _e=0;_e<6;_e++)t.bindFramebuffer(36160,j.__webglFramebuffer[_e]),j.__webglDepthbuffer[_e]=n.createRenderbuffer(),He(j.__webglDepthbuffer[_e],B,!1)}else t.bindFramebuffer(36160,j.__webglFramebuffer),j.__webglDepthbuffer=n.createRenderbuffer(),He(j.__webglDepthbuffer,B,!1);t.bindFramebuffer(36160,null)}function Ue(B,j,ae){const _e=r.get(B);j!==void 0&&De(_e.__webglFramebuffer,B,B.texture,36064,3553),ae!==void 0&&ye(B)}function it(B){const j=B.texture,ae=r.get(B),_e=r.get(j);B.addEventListener("dispose",H),B.isWebGLMultipleRenderTargets!==!0&&(_e.__webglTexture===void 0&&(_e.__webglTexture=n.createTexture()),_e.__version=j.version,o.memory.textures++);const Oe=B.isWebGLCubeRenderTarget===!0,je=B.isWebGLMultipleRenderTargets===!0,pt=E(B)||a;if(Oe){ae.__webglFramebuffer=[];for(let Je=0;Je<6;Je++)ae.__webglFramebuffer[Je]=n.createFramebuffer()}else{if(ae.__webglFramebuffer=n.createFramebuffer(),je)if(i.drawBuffers){const Je=B.texture;for(let Te=0,mt=Je.length;Te<mt;Te++){const St=r.get(Je[Te]);St.__webglTexture===void 0&&(St.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&B.samples>0&&ie(B)===!1){const Je=je?j:[j];ae.__webglMultisampledFramebuffer=n.createFramebuffer(),ae.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ae.__webglMultisampledFramebuffer);for(let Te=0;Te<Je.length;Te++){const mt=Je[Te];ae.__webglColorRenderbuffer[Te]=n.createRenderbuffer(),n.bindRenderbuffer(36161,ae.__webglColorRenderbuffer[Te]);const St=s.convert(mt.format,mt.encoding),ot=s.convert(mt.type),at=T(mt.internalFormat,St,ot,mt.encoding,B.isXRRenderTarget===!0),dt=X(B);n.renderbufferStorageMultisample(36161,dt,at,B.width,B.height),n.framebufferRenderbuffer(36160,36064+Te,36161,ae.__webglColorRenderbuffer[Te])}n.bindRenderbuffer(36161,null),B.depthBuffer&&(ae.__webglDepthRenderbuffer=n.createRenderbuffer(),He(ae.__webglDepthRenderbuffer,B,!0)),t.bindFramebuffer(36160,null)}}if(Oe){t.bindTexture(34067,_e.__webglTexture),re(34067,j,pt);for(let Je=0;Je<6;Je++)De(ae.__webglFramebuffer[Je],B,j,36064,34069+Je);P(j,pt)&&I(34067),t.unbindTexture()}else if(je){const Je=B.texture;for(let Te=0,mt=Je.length;Te<mt;Te++){const St=Je[Te],ot=r.get(St);t.bindTexture(3553,ot.__webglTexture),re(3553,St,pt),De(ae.__webglFramebuffer,B,St,36064+Te,3553),P(St,pt)&&I(3553)}t.unbindTexture()}else{let Je=3553;(B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(a?Je=B.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Je,_e.__webglTexture),re(Je,j,pt),De(ae.__webglFramebuffer,B,j,36064,Je),P(j,pt)&&I(Je),t.unbindTexture()}B.depthBuffer&&ye(B)}function qe(B){const j=E(B)||a,ae=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let _e=0,Oe=ae.length;_e<Oe;_e++){const je=ae[_e];if(P(je,j)){const pt=B.isWebGLCubeRenderTarget?34067:3553,Je=r.get(je).__webglTexture;t.bindTexture(pt,Je),I(pt),t.unbindTexture()}}}function wt(B){if(a&&B.samples>0&&ie(B)===!1){const j=B.isWebGLMultipleRenderTargets?B.texture:[B.texture],ae=B.width,_e=B.height;let Oe=16384;const je=[],pt=B.stencilBuffer?33306:36096,Je=r.get(B),Te=B.isWebGLMultipleRenderTargets===!0;if(Te)for(let mt=0;mt<j.length;mt++)t.bindFramebuffer(36160,Je.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+mt,36161,null),t.bindFramebuffer(36160,Je.__webglFramebuffer),n.framebufferTexture2D(36009,36064+mt,3553,null,0);t.bindFramebuffer(36008,Je.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Je.__webglFramebuffer);for(let mt=0;mt<j.length;mt++){je.push(36064+mt),B.depthBuffer&&je.push(pt);const St=Je.__ignoreDepthValues!==void 0?Je.__ignoreDepthValues:!1;if(St===!1&&(B.depthBuffer&&(Oe|=256),B.stencilBuffer&&(Oe|=1024)),Te&&n.framebufferRenderbuffer(36008,36064,36161,Je.__webglColorRenderbuffer[mt]),St===!0&&(n.invalidateFramebuffer(36008,[pt]),n.invalidateFramebuffer(36009,[pt])),Te){const ot=r.get(j[mt]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ot,0)}n.blitFramebuffer(0,0,ae,_e,0,0,ae,_e,Oe,9728),g&&n.invalidateFramebuffer(36008,je)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Te)for(let mt=0;mt<j.length;mt++){t.bindFramebuffer(36160,Je.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+mt,36161,Je.__webglColorRenderbuffer[mt]);const St=r.get(j[mt]).__webglTexture;t.bindFramebuffer(36160,Je.__webglFramebuffer),n.framebufferTexture2D(36009,36064+mt,3553,St,0)}t.bindFramebuffer(36009,Je.__webglMultisampledFramebuffer)}}function X(B){return Math.min(h,B.samples)}function ie(B){const j=r.get(B);return a&&B.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function fe(B){const j=o.render.frame;v.get(B)!==j&&(v.set(B,j),B.update())}function Fe(B,j){const ae=B.encoding,_e=B.format,Oe=B.type;return B.isCompressedTexture===!0||B.isVideoTexture===!0||B.format===Iy||ae!==Ll&&(ae===En?a===!1?e.has("EXT_sRGB")===!0&&_e===br?(B.format=Iy,B.minFilter=dn,B.generateMipmaps=!1):j=fE.sRGBToLinear(j):(_e!==br||Oe!==Ns)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ae)),j}this.allocateTextureUnit=D,this.resetTextureUnits=le,this.setTexture2D=G,this.setTexture2DArray=J,this.setTexture3D=Z,this.setTextureCube=oe,this.rebindTextures=Ue,this.setupRenderTarget=it,this.updateRenderTargetMipmap=qe,this.updateMultisampleRenderTarget=wt,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=De,this.useMultisampledRTT=ie}function Mj(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===Ns)return 5121;if(s===YO)return 32819;if(s===KO)return 32820;if(s===sE)return 5120;if(s===oE)return 5122;if(s===aE)return 5123;if(s===lE)return 5124;if(s===oa)return 5125;if(s===Lr)return 5126;if(s===Ir)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===QO)return 6406;if(s===br)return 6408;if(s===JO)return 6409;if(s===ej)return 6410;if(s===_l)return 6402;if(s===su)return 34041;if(s===Iy)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===cE)return 6403;if(s===tj)return 36244;if(s===nj)return 33319;if(s===rj)return 33320;if(s===ij)return 36249;if(s===R0||s===L0||s===I0||s===D0)if(o===En)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===R0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===L0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===I0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===D0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===R0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===L0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===I0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===D0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===kS||s===RS||s===LS||s===IS)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===kS)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===RS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===LS)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===IS)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===sj)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===DS||s===OS)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===DS)return o===En?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===OS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===jS||s===FS||s===zS||s===BS||s===US||s===VS||s===WS||s===HS||s===GS||s===$S||s===ZS||s===qS||s===XS||s===YS)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===jS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===FS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===zS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===BS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===US)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===VS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===WS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===HS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===GS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===$S)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===ZS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===qS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===XS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===YS)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===O0)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===O0)return o===En?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===oj||s===KS||s===QS||s===JS)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===O0)return a.COMPRESSED_RED_RGTC1_EXT;if(s===KS)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===QS)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===JS)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Gc?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class Ej extends Un{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Nd extends un{constructor(){super(),this.isGroup=!0,this.type="Group"}}const QJ={type:"move"};class T_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Nd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Nd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Nd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const x=t.getJointPose(y,r),b=this._getHandJoint(c,y);x!==null&&(b.matrix.fromArray(x.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.jointRadius=x.radius),b.visible=x!==null}const d=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=d.position.distanceTo(h.position),g=.02,v=.005;c.inputState.pinching&&p>g+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=g-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(QJ)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Nd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class Tj extends Mn{constructor(e,t,r,i,s,o,a,l,c,d){if(d=d!==void 0?d:_l,d!==_l&&d!==su)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===_l&&(r=oa),r===void 0&&d===su&&(r=Gc),super(null,i,s,o,a,l,d,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:nr,this.minFilter=l!==void 0?l:nr,this.flipY=!1,this.generateMipmaps=!1}}class JJ extends Ea{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,h=null,p=null,g=null,v=null;const y=t.getContextAttributes();let x=null,b=null;const _=[],S=[],E=new Set,C=new Map,P=new Un;P.layers.enable(1),P.viewport=new yn;const I=new Un;I.layers.enable(2),I.viewport=new yn;const T=[P,I],k=new Ej;k.layers.enable(1),k.layers.enable(2);let O=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let oe=_[Z];return oe===void 0&&(oe=new T_,_[Z]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(Z){let oe=_[Z];return oe===void 0&&(oe=new T_,_[Z]=oe),oe.getGripSpace()},this.getHand=function(Z){let oe=_[Z];return oe===void 0&&(oe=new T_,_[Z]=oe),oe.getHandSpace()};function H(Z){const oe=S.indexOf(Z.inputSource);if(oe===-1)return;const we=_[oe];we!==void 0&&we.dispatchEvent({type:Z.type,data:Z.inputSource})}function V(){i.removeEventListener("select",H),i.removeEventListener("selectstart",H),i.removeEventListener("selectend",H),i.removeEventListener("squeeze",H),i.removeEventListener("squeezestart",H),i.removeEventListener("squeezeend",H),i.removeEventListener("end",V),i.removeEventListener("inputsourceschange",z);for(let Z=0;Z<_.length;Z++){const oe=S[Z];oe!==null&&(S[Z]=null,_[Z].disconnect(oe))}O=null,U=null,e.setRenderTarget(x),g=null,p=null,h=null,i=null,b=null,J.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){s=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){a=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Z){c=Z},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(Z){if(i=Z,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",H),i.addEventListener("selectstart",H),i.addEventListener("selectend",H),i.addEventListener("squeeze",H),i.addEventListener("squeezestart",H),i.addEventListener("squeezeend",H),i.addEventListener("end",V),i.addEventListener("inputsourceschange",z),y.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const oe={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,t,oe),i.updateRenderState({baseLayer:g}),b=new rs(g.framebufferWidth,g.framebufferHeight,{format:br,type:Ns,encoding:e.outputEncoding,stencilBuffer:y.stencil})}else{let oe=null,we=null,Ae=null;y.depth&&(Ae=y.stencil?35056:33190,oe=y.stencil?su:_l,we=y.stencil?Gc:oa);const re={colorFormat:32856,depthFormat:Ae,scaleFactor:s};h=new XRWebGLBinding(i,t),p=h.createProjectionLayer(re),i.updateRenderState({layers:[p]}),b=new rs(p.textureWidth,p.textureHeight,{format:br,type:Ns,depthTexture:new Tj(p.textureWidth,p.textureHeight,we,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0});const Ve=e.properties.get(b);Ve.__ignoreDepthValues=p.ignoreDepthValues}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),J.setContext(i),J.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function z(Z){for(let oe=0;oe<Z.removed.length;oe++){const we=Z.removed[oe],Ae=S.indexOf(we);Ae>=0&&(S[Ae]=null,_[Ae].disconnect(we))}for(let oe=0;oe<Z.added.length;oe++){const we=Z.added[oe];let Ae=S.indexOf(we);if(Ae===-1){for(let Ve=0;Ve<_.length;Ve++)if(Ve>=S.length){S.push(we),Ae=Ve;break}else if(S[Ve]===null){S[Ve]=we,Ae=Ve;break}if(Ae===-1)break}const re=_[Ae];re&&re.connect(we)}}const ee=new $,K=new $;function le(Z,oe,we){ee.setFromMatrixPosition(oe.matrixWorld),K.setFromMatrixPosition(we.matrixWorld);const Ae=ee.distanceTo(K),re=oe.projectionMatrix.elements,Ve=we.projectionMatrix.elements,Ge=re[14]/(re[10]-1),et=re[14]/(re[10]+1),De=(re[9]+1)/re[5],He=(re[9]-1)/re[5],be=(re[8]-1)/re[0],ye=(Ve[8]+1)/Ve[0],Ue=Ge*be,it=Ge*ye,qe=Ae/(-be+ye),wt=qe*-be;oe.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(wt),Z.translateZ(qe),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert();const X=Ge+qe,ie=et+qe,fe=Ue-wt,Fe=it+(Ae-wt),B=De*et/ie*X,j=He*et/ie*X;Z.projectionMatrix.makePerspective(fe,Fe,B,j,X,ie)}function D(Z,oe){oe===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(oe.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(i===null)return;k.near=I.near=P.near=Z.near,k.far=I.far=P.far=Z.far,(O!==k.near||U!==k.far)&&(i.updateRenderState({depthNear:k.near,depthFar:k.far}),O=k.near,U=k.far);const oe=Z.parent,we=k.cameras;D(k,oe);for(let re=0;re<we.length;re++)D(we[re],oe);k.matrixWorld.decompose(k.position,k.quaternion,k.scale),Z.matrix.copy(k.matrix),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale);const Ae=Z.children;for(let re=0,Ve=Ae.length;re<Ve;re++)Ae[re].updateMatrixWorld(!0);we.length===2?le(k,P,I):k.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return k},this.getFoveation=function(){if(!(p===null&&g===null))return l},this.setFoveation=function(Z){l=Z,p!==null&&(p.fixedFoveation=Z),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=Z)},this.getPlanes=function(){return E};let W=null;function G(Z,oe){if(d=oe.getViewerPose(c||o),v=oe,d!==null){const we=d.views;g!==null&&(e.setRenderTargetFramebuffer(b,g.framebuffer),e.setRenderTarget(b));let Ae=!1;we.length!==k.cameras.length&&(k.cameras.length=0,Ae=!0);for(let re=0;re<we.length;re++){const Ve=we[re];let Ge=null;if(g!==null)Ge=g.getViewport(Ve);else{const De=h.getViewSubImage(p,Ve);Ge=De.viewport,re===0&&(e.setRenderTargetTextures(b,De.colorTexture,p.ignoreDepthValues?void 0:De.depthStencilTexture),e.setRenderTarget(b))}let et=T[re];et===void 0&&(et=new Un,et.layers.enable(re),et.viewport=new yn,T[re]=et),et.matrix.fromArray(Ve.transform.matrix),et.projectionMatrix.fromArray(Ve.projectionMatrix),et.viewport.set(Ge.x,Ge.y,Ge.width,Ge.height),re===0&&k.matrix.copy(et.matrix),Ae===!0&&k.cameras.push(et)}}for(let we=0;we<_.length;we++){const Ae=S[we],re=_[we];Ae!==null&&re!==void 0&&re.update(Ae,oe,c||o)}if(W&&W(Z,oe),oe.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:oe.detectedPlanes});let we=null;for(const Ae of E)oe.detectedPlanes.has(Ae)||(we===null&&(we=[]),we.push(Ae));if(we!==null)for(const Ae of we)E.delete(Ae),C.delete(Ae),r.dispatchEvent({type:"planeremoved",data:Ae});for(const Ae of oe.detectedPlanes)if(!E.has(Ae))E.add(Ae),C.set(Ae,oe.lastChangedTime),r.dispatchEvent({type:"planeadded",data:Ae});else{const re=C.get(Ae);Ae.lastChangedTime>re&&(C.set(Ae,Ae.lastChangedTime),r.dispatchEvent({type:"planechanged",data:Ae}))}}v=null}const J=new xj;J.setAnimationLoop(G),this.setAnimationLoop=function(Z){W=Z},this.dispose=function(){}}}function eee(n,e){function t(y,x){x.color.getRGB(y.fogColor.value,vj(n)),x.isFog?(y.fogNear.value=x.near,y.fogFar.value=x.far):x.isFogExp2&&(y.fogDensity.value=x.density)}function r(y,x,b,_,S){x.isMeshBasicMaterial||x.isMeshLambertMaterial?i(y,x):x.isMeshToonMaterial?(i(y,x),d(y,x)):x.isMeshPhongMaterial?(i(y,x),c(y,x)):x.isMeshStandardMaterial?(i(y,x),h(y,x),x.isMeshPhysicalMaterial&&p(y,x,S)):x.isMeshMatcapMaterial?(i(y,x),g(y,x)):x.isMeshDepthMaterial?i(y,x):x.isMeshDistanceMaterial?(i(y,x),v(y,x)):x.isMeshNormalMaterial?i(y,x):x.isLineBasicMaterial?(s(y,x),x.isLineDashedMaterial&&o(y,x)):x.isPointsMaterial?a(y,x,b,_):x.isSpriteMaterial?l(y,x):x.isShadowMaterial?(y.color.value.copy(x.color),y.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function i(y,x){y.opacity.value=x.opacity,x.color&&y.diffuse.value.copy(x.color),x.emissive&&y.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.bumpMap&&(y.bumpMap.value=x.bumpMap,y.bumpScale.value=x.bumpScale,x.side===Ii&&(y.bumpScale.value*=-1)),x.displacementMap&&(y.displacementMap.value=x.displacementMap,y.displacementScale.value=x.displacementScale,y.displacementBias.value=x.displacementBias),x.emissiveMap&&(y.emissiveMap.value=x.emissiveMap),x.normalMap&&(y.normalMap.value=x.normalMap,y.normalScale.value.copy(x.normalScale),x.side===Ii&&y.normalScale.value.negate()),x.specularMap&&(y.specularMap.value=x.specularMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);const b=e.get(x).envMap;if(b&&(y.envMap.value=b,y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=x.reflectivity,y.ior.value=x.ior,y.refractionRatio.value=x.refractionRatio),x.lightMap){y.lightMap.value=x.lightMap;const E=n.physicallyCorrectLights!==!0?Math.PI:1;y.lightMapIntensity.value=x.lightMapIntensity*E}x.aoMap&&(y.aoMap.value=x.aoMap,y.aoMapIntensity.value=x.aoMapIntensity);let _;x.map?_=x.map:x.specularMap?_=x.specularMap:x.displacementMap?_=x.displacementMap:x.normalMap?_=x.normalMap:x.bumpMap?_=x.bumpMap:x.roughnessMap?_=x.roughnessMap:x.metalnessMap?_=x.metalnessMap:x.alphaMap?_=x.alphaMap:x.emissiveMap?_=x.emissiveMap:x.clearcoatMap?_=x.clearcoatMap:x.clearcoatNormalMap?_=x.clearcoatNormalMap:x.clearcoatRoughnessMap?_=x.clearcoatRoughnessMap:x.iridescenceMap?_=x.iridescenceMap:x.iridescenceThicknessMap?_=x.iridescenceThicknessMap:x.specularIntensityMap?_=x.specularIntensityMap:x.specularColorMap?_=x.specularColorMap:x.transmissionMap?_=x.transmissionMap:x.thicknessMap?_=x.thicknessMap:x.sheenColorMap?_=x.sheenColorMap:x.sheenRoughnessMap&&(_=x.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),y.uvTransform.value.copy(_.matrix));let S;x.aoMap?S=x.aoMap:x.lightMap&&(S=x.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),y.uv2Transform.value.copy(S.matrix))}function s(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity}function o(y,x){y.dashSize.value=x.dashSize,y.totalSize.value=x.dashSize+x.gapSize,y.scale.value=x.scale}function a(y,x,b,_){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.size.value=x.size*b,y.scale.value=_*.5,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let S;x.map?S=x.map:x.alphaMap&&(S=x.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),y.uvTransform.value.copy(S.matrix))}function l(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.rotation.value=x.rotation,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let b;x.map?b=x.map:x.alphaMap&&(b=x.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),y.uvTransform.value.copy(b.matrix))}function c(y,x){y.specular.value.copy(x.specular),y.shininess.value=Math.max(x.shininess,1e-4)}function d(y,x){x.gradientMap&&(y.gradientMap.value=x.gradientMap)}function h(y,x){y.roughness.value=x.roughness,y.metalness.value=x.metalness,x.roughnessMap&&(y.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(y.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(y.envMapIntensity.value=x.envMapIntensity)}function p(y,x,b){y.ior.value=x.ior,x.sheen>0&&(y.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),y.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(y.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(y.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(y.clearcoat.value=x.clearcoat,y.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(y.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),y.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===Ii&&y.clearcoatNormalScale.value.negate())),x.iridescence>0&&(y.iridescence.value=x.iridescence,y.iridescenceIOR.value=x.iridescenceIOR,y.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(y.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(y.transmission.value=x.transmission,y.transmissionSamplerMap.value=b.texture,y.transmissionSamplerSize.value.set(b.width,b.height),x.transmissionMap&&(y.transmissionMap.value=x.transmissionMap),y.thickness.value=x.thickness,x.thicknessMap&&(y.thicknessMap.value=x.thicknessMap),y.attenuationDistance.value=x.attenuationDistance,y.attenuationColor.value.copy(x.attenuationColor)),y.specularIntensity.value=x.specularIntensity,y.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(y.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(y.specularColorMap.value=x.specularColorMap)}function g(y,x){x.matcap&&(y.matcap.value=x.matcap)}function v(y,x){y.referencePosition.value.copy(x.referencePosition),y.nearDistance.value=x.nearDistance,y.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function tee(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,S){const E=S.program;r.uniformBlockBinding(_,E)}function c(_,S){let E=i[_.id];E===void 0&&(v(_),E=d(_),i[_.id]=E,_.addEventListener("dispose",x));const C=S.program;r.updateUBOMapping(_,C);const P=e.render.frame;s[_.id]!==P&&(p(_),s[_.id]=P)}function d(_){const S=h();_.__bindingPointIndex=S;const E=n.createBuffer(),C=_.__size,P=_.usage;return n.bindBuffer(35345,E),n.bufferData(35345,C,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,S,E),E}function h(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const S=i[_.id],E=_.uniforms,C=_.__cache;n.bindBuffer(35345,S);for(let P=0,I=E.length;P<I;P++){const T=E[P];if(g(T,P,C)===!0){const k=T.__offset,O=Array.isArray(T.value)?T.value:[T.value];let U=0;for(let H=0;H<O.length;H++){const V=O[H],z=y(V);typeof V=="number"?(T.__data[0]=V,n.bufferSubData(35345,k+U,T.__data)):V.isMatrix3?(T.__data[0]=V.elements[0],T.__data[1]=V.elements[1],T.__data[2]=V.elements[2],T.__data[3]=V.elements[0],T.__data[4]=V.elements[3],T.__data[5]=V.elements[4],T.__data[6]=V.elements[5],T.__data[7]=V.elements[0],T.__data[8]=V.elements[6],T.__data[9]=V.elements[7],T.__data[10]=V.elements[8],T.__data[11]=V.elements[0]):(V.toArray(T.__data,U),U+=z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,k,T.__data)}}n.bindBuffer(35345,null)}function g(_,S,E){const C=_.value;if(E[S]===void 0){if(typeof C=="number")E[S]=C;else{const P=Array.isArray(C)?C:[C],I=[];for(let T=0;T<P.length;T++)I.push(P[T].clone());E[S]=I}return!0}else if(typeof C=="number"){if(E[S]!==C)return E[S]=C,!0}else{const P=Array.isArray(E[S])?E[S]:[E[S]],I=Array.isArray(C)?C:[C];for(let T=0;T<P.length;T++){const k=P[T];if(k.equals(I[T])===!1)return k.copy(I[T]),!0}}return!1}function v(_){const S=_.uniforms;let E=0;const C=16;let P=0;for(let I=0,T=S.length;I<T;I++){const k=S[I],O={boundary:0,storage:0},U=Array.isArray(k.value)?k.value:[k.value];for(let H=0,V=U.length;H<V;H++){const z=U[H],ee=y(z);O.boundary+=ee.boundary,O.storage+=ee.storage}if(k.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=E,I>0){P=E%C;const H=C-P;P!==0&&H-O.boundary<0&&(E+=C-P,k.__offset=E)}E+=O.storage}return P=E%C,P>0&&(E+=C-P),_.__size=E,_.__cache={},this}function y(_){const S={boundary:0,storage:0};return typeof _=="number"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function x(_){const S=_.target;S.removeEventListener("dispose",x);const E=o.indexOf(S.__bindingPointIndex);o.splice(E,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function b(){for(const _ in i)n.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:b}}function nee(){const n=Yp("canvas");return n.style.display="block",n}function Fx(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:nee(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;t!==null?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const g=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ll,this.physicallyCorrectLights=!1,this.toneMapping=Xs,this.toneMappingExposure=1;const y=this;let x=!1,b=0,_=0,S=null,E=-1,C=null;const P=new yn,I=new yn;let T=null,k=e.width,O=e.height,U=1,H=null,V=null;const z=new yn(0,0,k,O),ee=new yn(0,0,k,O);let K=!1;const le=new Ox;let D=!1,W=!1,G=null;const J=new zt,Z=new Le,oe=new $,we={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ae(){return S===null?U:1}let re=t;function Ve(q,ge){for(let ve=0;ve<q.length;ve++){const me=q[ve],ke=e.getContext(me,ge);if(ke!==null)return ke}return null}try{const q={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Nf}`),e.addEventListener("webglcontextlost",at,!1),e.addEventListener("webglcontextrestored",dt,!1),e.addEventListener("webglcontextcreationerror",se,!1),re===null){const ge=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&ge.shift(),re=Ve(ge,q),re===null)throw Ve(ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}re.getShaderPrecisionFormat===void 0&&(re.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(q){throw console.error("THREE.WebGLRenderer: "+q.message),q}let Ge,et,De,He,be,ye,Ue,it,qe,wt,X,ie,fe,Fe,B,j,ae,_e,Oe,je,pt,Je,Te,mt;function St(){Ge=new yQ(re),et=new fQ(re,Ge,n),Ge.init(et),Je=new Mj(re,Ge,et),De=new YJ(re,Ge,et),He=new _Q,be=new FJ,ye=new KJ(re,Ge,De,be,et,Je,He),Ue=new pQ(y),it=new vQ(y),qe=new NX(re,et),Te=new uQ(re,Ge,qe,et),wt=new xQ(re,qe,He,Te),X=new EQ(re,wt,qe,He),Oe=new MQ(re,et,ye),j=new hQ(be),ie=new jJ(y,Ue,it,Ge,et,Te,j),fe=new eee(y,be),Fe=new BJ,B=new $J(Ge,et),_e=new cQ(y,Ue,it,De,X,d,o),ae=new XJ(y,X,et),mt=new tee(re,He,et,De),je=new dQ(re,Ge,He,et),pt=new wQ(re,Ge,He,et),He.programs=ie.programs,y.capabilities=et,y.extensions=Ge,y.properties=be,y.renderLists=Fe,y.shadowMap=ae,y.state=De,y.info=He}St();const ot=new JJ(y,re);this.xr=ot,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const q=Ge.get("WEBGL_lose_context");q&&q.loseContext()},this.forceContextRestore=function(){const q=Ge.get("WEBGL_lose_context");q&&q.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function(q){q!==void 0&&(U=q,this.setSize(k,O,!1))},this.getSize=function(q){return q.set(k,O)},this.setSize=function(q,ge,ve){if(ot.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=q,O=ge,e.width=Math.floor(q*U),e.height=Math.floor(ge*U),ve!==!1&&(e.style.width=q+"px",e.style.height=ge+"px"),this.setViewport(0,0,q,ge)},this.getDrawingBufferSize=function(q){return q.set(k*U,O*U).floor()},this.setDrawingBufferSize=function(q,ge,ve){k=q,O=ge,U=ve,e.width=Math.floor(q*ve),e.height=Math.floor(ge*ve),this.setViewport(0,0,q,ge)},this.getCurrentViewport=function(q){return q.copy(P)},this.getViewport=function(q){return q.copy(z)},this.setViewport=function(q,ge,ve,me){q.isVector4?z.set(q.x,q.y,q.z,q.w):z.set(q,ge,ve,me),De.viewport(P.copy(z).multiplyScalar(U).floor())},this.getScissor=function(q){return q.copy(ee)},this.setScissor=function(q,ge,ve,me){q.isVector4?ee.set(q.x,q.y,q.z,q.w):ee.set(q,ge,ve,me),De.scissor(I.copy(ee).multiplyScalar(U).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function(q){De.setScissorTest(K=q)},this.setOpaqueSort=function(q){H=q},this.setTransparentSort=function(q){V=q},this.getClearColor=function(q){return q.copy(_e.getClearColor())},this.setClearColor=function(){_e.setClearColor.apply(_e,arguments)},this.getClearAlpha=function(){return _e.getClearAlpha()},this.setClearAlpha=function(){_e.setClearAlpha.apply(_e,arguments)},this.clear=function(q=!0,ge=!0,ve=!0){let me=0;q&&(me|=16384),ge&&(me|=256),ve&&(me|=1024),re.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",at,!1),e.removeEventListener("webglcontextrestored",dt,!1),e.removeEventListener("webglcontextcreationerror",se,!1),Fe.dispose(),B.dispose(),be.dispose(),Ue.dispose(),it.dispose(),X.dispose(),Te.dispose(),mt.dispose(),ie.dispose(),ot.dispose(),ot.removeEventListener("sessionstart",Ye),ot.removeEventListener("sessionend",gt),G&&(G.dispose(),G=null),Wt.stop()};function at(q){q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function dt(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const q=He.autoReset,ge=ae.enabled,ve=ae.autoUpdate,me=ae.needsUpdate,ke=ae.type;St(),He.autoReset=q,ae.enabled=ge,ae.autoUpdate=ve,ae.needsUpdate=me,ae.type=ke}function se(q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",q.statusMessage)}function Ne(q){const ge=q.target;ge.removeEventListener("dispose",Ne),Ce(ge)}function Ce(q){te(q),be.remove(q)}function te(q){const ge=be.get(q).programs;ge!==void 0&&(ge.forEach(function(ve){ie.releaseProgram(ve)}),q.isShaderMaterial&&ie.releaseShaderCache(q))}this.renderBufferDirect=function(q,ge,ve,me,ke,L){ge===null&&(ge=we);const F=ke.isMesh&&ke.matrixWorld.determinant()<0,Q=zf(q,ge,ve,me,ke);De.setMaterial(me,F);let ue=ve.index,pe=1;me.wireframe===!0&&(ue=wt.getWireframeAttribute(ve),pe=2);const he=ve.drawRange,Pe=ve.attributes.position;let Ie=he.start*pe,We=(he.start+he.count)*pe;L!==null&&(Ie=Math.max(Ie,L.start*pe),We=Math.min(We,(L.start+L.count)*pe)),ue!==null?(Ie=Math.max(Ie,0),We=Math.min(We,ue.count)):Pe!=null&&(Ie=Math.max(Ie,0),We=Math.min(We,Pe.count));const $e=We-Ie;if($e<0||$e===1/0)return;Te.setup(ke,me,Q,ve,ue);let Ke,Be=je;if(ue!==null&&(Ke=qe.get(ue),Be=pt,Be.setIndex(Ke)),ke.isMesh)me.wireframe===!0?(De.setLineWidth(me.wireframeLinewidth*Ae()),Be.setMode(1)):Be.setMode(4);else if(ke.isLine){let yt=me.linewidth;yt===void 0&&(yt=1),De.setLineWidth(yt*Ae()),ke.isLineSegments?Be.setMode(1):ke.isLineLoop?Be.setMode(2):Be.setMode(3)}else ke.isPoints?Be.setMode(0):ke.isSprite&&Be.setMode(4);if(ke.isInstancedMesh)Be.renderInstances(Ie,$e,ke.count);else if(ve.isInstancedBufferGeometry){const yt=ve._maxInstanceCount!==void 0?ve._maxInstanceCount:1/0,xt=Math.min(ve.instanceCount,yt);Be.renderInstances(Ie,$e,xt)}else Be.render(Ie,$e)},this.compile=function(q,ge){function ve(me,ke,L){me.transparent===!0&&me.side===Gs&&me.forceSinglePass===!1?(me.side=Ii,me.needsUpdate=!0,Jn(me,ke,L),me.side=wa,me.needsUpdate=!0,Jn(me,ke,L),me.side=Gs):Jn(me,ke,L)}p=B.get(q),p.init(),v.push(p),q.traverseVisible(function(me){me.isLight&&me.layers.test(ge.layers)&&(p.pushLight(me),me.castShadow&&p.pushShadow(me))}),p.setupLights(y.physicallyCorrectLights),q.traverse(function(me){const ke=me.material;if(ke)if(Array.isArray(ke))for(let L=0;L<ke.length;L++){const F=ke[L];ve(F,q,me)}else ve(ke,q,me)}),v.pop(),p=null};let ne=null;function Re(q){ne&&ne(q)}function Ye(){Wt.stop()}function gt(){Wt.start()}const Wt=new xj;Wt.setAnimationLoop(Re),typeof self<"u"&&Wt.setContext(self),this.setAnimationLoop=function(q){ne=q,ot.setAnimationLoop(q),q===null?Wt.stop():Wt.start()},ot.addEventListener("sessionstart",Ye),ot.addEventListener("sessionend",gt),this.render=function(q,ge){if(ge!==void 0&&ge.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),ge.parent===null&&ge.matrixWorldAutoUpdate===!0&&ge.updateMatrixWorld(),ot.enabled===!0&&ot.isPresenting===!0&&(ot.cameraAutoUpdate===!0&&ot.updateCamera(ge),ge=ot.getCamera()),q.isScene===!0&&q.onBeforeRender(y,q,ge,S),p=B.get(q,v.length),p.init(),v.push(p),J.multiplyMatrices(ge.projectionMatrix,ge.matrixWorldInverse),le.setFromProjectionMatrix(J),W=this.localClippingEnabled,D=j.init(this.clippingPlanes,W),h=Fe.get(q,g.length),h.init(),g.push(h),nn(q,ge,0,y.sortObjects),h.finish(),y.sortObjects===!0&&h.sort(H,V),D===!0&&j.beginShadows();const ve=p.state.shadowsArray;if(ae.render(ve,q,ge),D===!0&&j.endShadows(),this.info.autoReset===!0&&this.info.reset(),_e.render(h,q),p.setupLights(y.physicallyCorrectLights),ge.isArrayCamera){const me=ge.cameras;for(let ke=0,L=me.length;ke<L;ke++){const F=me[ke];fn(h,q,F,F.viewport)}}else fn(h,q,ge);S!==null&&(ye.updateMultisampleRenderTarget(S),ye.updateRenderTargetMipmap(S)),q.isScene===!0&&q.onAfterRender(y,q,ge),Te.resetDefaultState(),E=-1,C=null,v.pop(),v.length>0?p=v[v.length-1]:p=null,g.pop(),g.length>0?h=g[g.length-1]:h=null};function nn(q,ge,ve,me){if(q.visible===!1)return;if(q.layers.test(ge.layers)){if(q.isGroup)ve=q.renderOrder;else if(q.isLOD)q.autoUpdate===!0&&q.update(ge);else if(q.isLight)p.pushLight(q),q.castShadow&&p.pushShadow(q);else if(q.isSprite){if(!q.frustumCulled||le.intersectsSprite(q)){me&&oe.setFromMatrixPosition(q.matrixWorld).applyMatrix4(J);const F=X.update(q),Q=q.material;Q.visible&&h.push(q,F,Q,ve,oe.z,null)}}else if((q.isMesh||q.isLine||q.isPoints)&&(q.isSkinnedMesh&&q.skeleton.frame!==He.render.frame&&(q.skeleton.update(),q.skeleton.frame=He.render.frame),!q.frustumCulled||le.intersectsObject(q))){me&&oe.setFromMatrixPosition(q.matrixWorld).applyMatrix4(J);const F=X.update(q),Q=q.material;if(Array.isArray(Q)){const ue=F.groups;for(let pe=0,he=ue.length;pe<he;pe++){const Pe=ue[pe],Ie=Q[Pe.materialIndex];Ie&&Ie.visible&&h.push(q,F,Ie,ve,oe.z,Pe)}}else Q.visible&&h.push(q,F,Q,ve,oe.z,null)}}const L=q.children;for(let F=0,Q=L.length;F<Q;F++)nn(L[F],ge,ve,me)}function fn(q,ge,ve,me){const ke=q.opaque,L=q.transmissive,F=q.transparent;p.setupLightsView(ve),D===!0&&j.setGlobalState(y.clippingPlanes,ve),L.length>0&&Cr(ke,ge,ve),me&&De.viewport(P.copy(me)),ke.length>0&&en(ke,ge,ve),L.length>0&&en(L,ge,ve),F.length>0&&en(F,ge,ve),De.buffers.depth.setTest(!0),De.buffers.depth.setMask(!0),De.buffers.color.setMask(!0),De.setPolygonOffset(!1)}function Cr(q,ge,ve){const me=et.isWebGL2;G===null&&(G=new rs(1,1,{generateMipmaps:!0,type:Ge.has("EXT_color_buffer_half_float")?Ir:Ns,minFilter:Rl,samples:me&&s===!0?4:0})),y.getDrawingBufferSize(Z),me?G.setSize(Z.x,Z.y):G.setSize(Dy(Z.x),Dy(Z.y));const ke=y.getRenderTarget();y.setRenderTarget(G),y.clear();const L=y.toneMapping;y.toneMapping=Xs,en(q,ge,ve),y.toneMapping=L,ye.updateMultisampleRenderTarget(G),ye.updateRenderTargetMipmap(G),y.setRenderTarget(ke)}function en(q,ge,ve){const me=ge.isScene===!0?ge.overrideMaterial:null;for(let ke=0,L=q.length;ke<L;ke++){const F=q[ke],Q=F.object,ue=F.geometry,pe=me===null?F.material:me,he=F.group;Q.layers.test(ve.layers)&&lr(Q,ge,ve,ue,pe,he)}}function lr(q,ge,ve,me,ke,L){q.onBeforeRender(y,ge,ve,me,ke,L),q.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,q.matrixWorld),q.normalMatrix.getNormalMatrix(q.modelViewMatrix),ke.onBeforeRender(y,ge,ve,me,q,L),ke.transparent===!0&&ke.side===Gs&&ke.forceSinglePass===!1?(ke.side=Ii,ke.needsUpdate=!0,y.renderBufferDirect(ve,ge,me,ke,q,L),ke.side=wa,ke.needsUpdate=!0,y.renderBufferDirect(ve,ge,me,ke,q,L),ke.side=Gs):y.renderBufferDirect(ve,ge,me,ke,q,L),q.onAfterRender(y,ge,ve,me,ke,L)}function Jn(q,ge,ve){ge.isScene!==!0&&(ge=we);const me=be.get(q),ke=p.state.lights,L=p.state.shadowsArray,F=ke.state.version,Q=ie.getParameters(q,ke.state,L,ge,ve),ue=ie.getProgramCacheKey(Q);let pe=me.programs;me.environment=q.isMeshStandardMaterial?ge.environment:null,me.fog=ge.fog,me.envMap=(q.isMeshStandardMaterial?it:Ue).get(q.envMap||me.environment),pe===void 0&&(q.addEventListener("dispose",Ne),pe=new Map,me.programs=pe);let he=pe.get(ue);if(he!==void 0){if(me.currentProgram===he&&me.lightsStateVersion===F)return Su(q,Q),he}else Q.uniforms=ie.getUniforms(q),q.onBuild(ve,Q,y),q.onBeforeCompile(Q,y),he=ie.acquireProgram(Q,ue),pe.set(ue,he),me.uniforms=Q.uniforms;const Pe=me.uniforms;(!q.isShaderMaterial&&!q.isRawShaderMaterial||q.clipping===!0)&&(Pe.clippingPlanes=j.uniform),Su(q,Q),me.needsLights=Yl(q),me.lightsStateVersion=F,me.needsLights&&(Pe.ambientLightColor.value=ke.state.ambient,Pe.lightProbe.value=ke.state.probe,Pe.directionalLights.value=ke.state.directional,Pe.directionalLightShadows.value=ke.state.directionalShadow,Pe.spotLights.value=ke.state.spot,Pe.spotLightShadows.value=ke.state.spotShadow,Pe.rectAreaLights.value=ke.state.rectArea,Pe.ltc_1.value=ke.state.rectAreaLTC1,Pe.ltc_2.value=ke.state.rectAreaLTC2,Pe.pointLights.value=ke.state.point,Pe.pointLightShadows.value=ke.state.pointShadow,Pe.hemisphereLights.value=ke.state.hemi,Pe.directionalShadowMap.value=ke.state.directionalShadowMap,Pe.directionalShadowMatrix.value=ke.state.directionalShadowMatrix,Pe.spotShadowMap.value=ke.state.spotShadowMap,Pe.spotLightMatrix.value=ke.state.spotLightMatrix,Pe.spotLightMap.value=ke.state.spotLightMap,Pe.pointShadowMap.value=ke.state.pointShadowMap,Pe.pointShadowMatrix.value=ke.state.pointShadowMatrix);const Ie=he.getUniforms(),We=B0.seqWithValue(Ie.seq,Pe);return me.currentProgram=he,me.uniformsList=We,he}function Su(q,ge){const ve=be.get(q);ve.outputEncoding=ge.outputEncoding,ve.instancing=ge.instancing,ve.skinning=ge.skinning,ve.morphTargets=ge.morphTargets,ve.morphNormals=ge.morphNormals,ve.morphColors=ge.morphColors,ve.morphTargetsCount=ge.morphTargetsCount,ve.numClippingPlanes=ge.numClippingPlanes,ve.numIntersection=ge.numClipIntersection,ve.vertexAlphas=ge.vertexAlphas,ve.vertexTangents=ge.vertexTangents,ve.toneMapping=ge.toneMapping}function zf(q,ge,ve,me,ke){ge.isScene!==!0&&(ge=we),ye.resetTextureUnits();const L=ge.fog,F=me.isMeshStandardMaterial?ge.environment:null,Q=S===null?y.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:Ll,ue=(me.isMeshStandardMaterial?it:Ue).get(me.envMap||F),pe=me.vertexColors===!0&&!!ve.attributes.color&&ve.attributes.color.itemSize===4,he=!!me.normalMap&&!!ve.attributes.tangent,Pe=!!ve.morphAttributes.position,Ie=!!ve.morphAttributes.normal,We=!!ve.morphAttributes.color,$e=me.toneMapped?y.toneMapping:Xs,Ke=ve.morphAttributes.position||ve.morphAttributes.normal||ve.morphAttributes.color,Be=Ke!==void 0?Ke.length:0,yt=be.get(me),xt=p.state.lights;if(D===!0&&(W===!0||q!==C)){const Ut=q===C&&me.id===E;j.setState(me,q,Ut)}let rt=!1;me.version===yt.__version?(yt.needsLights&&yt.lightsStateVersion!==xt.state.version||yt.outputEncoding!==Q||ke.isInstancedMesh&&yt.instancing===!1||!ke.isInstancedMesh&&yt.instancing===!0||ke.isSkinnedMesh&&yt.skinning===!1||!ke.isSkinnedMesh&&yt.skinning===!0||yt.envMap!==ue||me.fog===!0&&yt.fog!==L||yt.numClippingPlanes!==void 0&&(yt.numClippingPlanes!==j.numPlanes||yt.numIntersection!==j.numIntersection)||yt.vertexAlphas!==pe||yt.vertexTangents!==he||yt.morphTargets!==Pe||yt.morphNormals!==Ie||yt.morphColors!==We||yt.toneMapping!==$e||et.isWebGL2===!0&&yt.morphTargetsCount!==Be)&&(rt=!0):(rt=!0,yt.__version=me.version);let At=yt.currentProgram;rt===!0&&(At=Jn(me,ge,ke));let Dt=!1,Ht=!1,Xt=!1;const _t=At.getUniforms(),kt=yt.uniforms;if(De.useProgram(At.program)&&(Dt=!0,Ht=!0,Xt=!0),me.id!==E&&(E=me.id,Ht=!0),Dt||C!==q){if(_t.setValue(re,"projectionMatrix",q.projectionMatrix),et.logarithmicDepthBuffer&&_t.setValue(re,"logDepthBufFC",2/(Math.log(q.far+1)/Math.LN2)),C!==q&&(C=q,Ht=!0,Xt=!0),me.isShaderMaterial||me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshStandardMaterial||me.envMap){const Ut=_t.map.cameraPosition;Ut!==void 0&&Ut.setValue(re,oe.setFromMatrixPosition(q.matrixWorld))}(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&_t.setValue(re,"isOrthographic",q.isOrthographicCamera===!0),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial||me.isShadowMaterial||ke.isSkinnedMesh)&&_t.setValue(re,"viewMatrix",q.matrixWorldInverse)}if(ke.isSkinnedMesh){_t.setOptional(re,ke,"bindMatrix"),_t.setOptional(re,ke,"bindMatrixInverse");const Ut=ke.skeleton;Ut&&(et.floatVertexTextures?(Ut.boneTexture===null&&Ut.computeBoneTexture(),_t.setValue(re,"boneTexture",Ut.boneTexture,ye),_t.setValue(re,"boneTextureSize",Ut.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Yt=ve.morphAttributes;if((Yt.position!==void 0||Yt.normal!==void 0||Yt.color!==void 0&&et.isWebGL2===!0)&&Oe.update(ke,ve,me,At),(Ht||yt.receiveShadow!==ke.receiveShadow)&&(yt.receiveShadow=ke.receiveShadow,_t.setValue(re,"receiveShadow",ke.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(kt.envMap.value=ue,kt.flipEnvMap.value=ue.isCubeTexture&&ue.isRenderTargetTexture===!1?-1:1),Ht&&(_t.setValue(re,"toneMappingExposure",y.toneMappingExposure),yt.needsLights&&Do(kt,Xt),L&&me.fog===!0&&fe.refreshFogUniforms(kt,L),fe.refreshMaterialUniforms(kt,me,U,O,G),B0.upload(re,yt.uniformsList,kt,ye)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(B0.upload(re,yt.uniformsList,kt,ye),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&_t.setValue(re,"center",ke.center),_t.setValue(re,"modelViewMatrix",ke.modelViewMatrix),_t.setValue(re,"normalMatrix",ke.normalMatrix),_t.setValue(re,"modelMatrix",ke.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const Ut=me.uniformsGroups;for(let Ot=0,wn=Ut.length;Ot<wn;Ot++)if(et.isWebGL2){const gr=Ut[Ot];mt.update(gr,At),mt.bind(gr,At)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return At}function Do(q,ge){q.ambientLightColor.needsUpdate=ge,q.lightProbe.needsUpdate=ge,q.directionalLights.needsUpdate=ge,q.directionalLightShadows.needsUpdate=ge,q.pointLights.needsUpdate=ge,q.pointLightShadows.needsUpdate=ge,q.spotLights.needsUpdate=ge,q.spotLightShadows.needsUpdate=ge,q.rectAreaLights.needsUpdate=ge,q.hemisphereLights.needsUpdate=ge}function Yl(q){return q.isMeshLambertMaterial||q.isMeshToonMaterial||q.isMeshPhongMaterial||q.isMeshStandardMaterial||q.isShadowMaterial||q.isShaderMaterial&&q.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(q,ge,ve){be.get(q.texture).__webglTexture=ge,be.get(q.depthTexture).__webglTexture=ve;const me=be.get(q);me.__hasExternalTextures=!0,me.__hasExternalTextures&&(me.__autoAllocateDepthBuffer=ve===void 0,me.__autoAllocateDepthBuffer||Ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(q,ge){const ve=be.get(q);ve.__webglFramebuffer=ge,ve.__useDefaultFramebuffer=ge===void 0},this.setRenderTarget=function(q,ge=0,ve=0){S=q,b=ge,_=ve;let me=!0,ke=null,L=!1,F=!1;if(q){const ue=be.get(q);ue.__useDefaultFramebuffer!==void 0?(De.bindFramebuffer(36160,null),me=!1):ue.__webglFramebuffer===void 0?ye.setupRenderTarget(q):ue.__hasExternalTextures&&ye.rebindTextures(q,be.get(q.texture).__webglTexture,be.get(q.depthTexture).__webglTexture);const pe=q.texture;(pe.isData3DTexture||pe.isDataArrayTexture||pe.isCompressedArrayTexture)&&(F=!0);const he=be.get(q).__webglFramebuffer;q.isWebGLCubeRenderTarget?(ke=he[ge],L=!0):et.isWebGL2&&q.samples>0&&ye.useMultisampledRTT(q)===!1?ke=be.get(q).__webglMultisampledFramebuffer:ke=he,P.copy(q.viewport),I.copy(q.scissor),T=q.scissorTest}else P.copy(z).multiplyScalar(U).floor(),I.copy(ee).multiplyScalar(U).floor(),T=K;if(De.bindFramebuffer(36160,ke)&&et.drawBuffers&&me&&De.drawBuffers(q,ke),De.viewport(P),De.scissor(I),De.setScissorTest(T),L){const ue=be.get(q.texture);re.framebufferTexture2D(36160,36064,34069+ge,ue.__webglTexture,ve)}else if(F){const ue=be.get(q.texture),pe=ge||0;re.framebufferTextureLayer(36160,36064,ue.__webglTexture,ve||0,pe)}E=-1},this.readRenderTargetPixels=function(q,ge,ve,me,ke,L,F){if(!(q&&q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Q=be.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&F!==void 0&&(Q=Q[F]),Q){De.bindFramebuffer(36160,Q);try{const ue=q.texture,pe=ue.format,he=ue.type;if(pe!==br&&Je.convert(pe)!==re.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Pe=he===Ir&&(Ge.has("EXT_color_buffer_half_float")||et.isWebGL2&&Ge.has("EXT_color_buffer_float"));if(he!==Ns&&Je.convert(he)!==re.getParameter(35738)&&!(he===Lr&&(et.isWebGL2||Ge.has("OES_texture_float")||Ge.has("WEBGL_color_buffer_float")))&&!Pe){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ge>=0&&ge<=q.width-me&&ve>=0&&ve<=q.height-ke&&re.readPixels(ge,ve,me,ke,Je.convert(pe),Je.convert(he),L)}finally{const ue=S!==null?be.get(S).__webglFramebuffer:null;De.bindFramebuffer(36160,ue)}}},this.copyFramebufferToTexture=function(q,ge,ve=0){const me=Math.pow(2,-ve),ke=Math.floor(ge.image.width*me),L=Math.floor(ge.image.height*me);ye.setTexture2D(ge,0),re.copyTexSubImage2D(3553,ve,0,0,q.x,q.y,ke,L),De.unbindTexture()},this.copyTextureToTexture=function(q,ge,ve,me=0){const ke=ge.image.width,L=ge.image.height,F=Je.convert(ve.format),Q=Je.convert(ve.type);ye.setTexture2D(ve,0),re.pixelStorei(37440,ve.flipY),re.pixelStorei(37441,ve.premultiplyAlpha),re.pixelStorei(3317,ve.unpackAlignment),ge.isDataTexture?re.texSubImage2D(3553,me,q.x,q.y,ke,L,F,Q,ge.image.data):ge.isCompressedTexture?re.compressedTexSubImage2D(3553,me,q.x,q.y,ge.mipmaps[0].width,ge.mipmaps[0].height,F,ge.mipmaps[0].data):re.texSubImage2D(3553,me,q.x,q.y,F,Q,ge.image),me===0&&ve.generateMipmaps&&re.generateMipmap(3553),De.unbindTexture()},this.copyTextureToTexture3D=function(q,ge,ve,me,ke=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const L=q.max.x-q.min.x+1,F=q.max.y-q.min.y+1,Q=q.max.z-q.min.z+1,ue=Je.convert(me.format),pe=Je.convert(me.type);let he;if(me.isData3DTexture)ye.setTexture3D(me,0),he=32879;else if(me.isDataArrayTexture)ye.setTexture2DArray(me,0),he=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}re.pixelStorei(37440,me.flipY),re.pixelStorei(37441,me.premultiplyAlpha),re.pixelStorei(3317,me.unpackAlignment);const Pe=re.getParameter(3314),Ie=re.getParameter(32878),We=re.getParameter(3316),$e=re.getParameter(3315),Ke=re.getParameter(32877),Be=ve.isCompressedTexture?ve.mipmaps[0]:ve.image;re.pixelStorei(3314,Be.width),re.pixelStorei(32878,Be.height),re.pixelStorei(3316,q.min.x),re.pixelStorei(3315,q.min.y),re.pixelStorei(32877,q.min.z),ve.isDataTexture||ve.isData3DTexture?re.texSubImage3D(he,ke,ge.x,ge.y,ge.z,L,F,Q,ue,pe,Be.data):ve.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),re.compressedTexSubImage3D(he,ke,ge.x,ge.y,ge.z,L,F,Q,ue,Be.data)):re.texSubImage3D(he,ke,ge.x,ge.y,ge.z,L,F,Q,ue,pe,Be),re.pixelStorei(3314,Pe),re.pixelStorei(32878,Ie),re.pixelStorei(3316,We),re.pixelStorei(3315,$e),re.pixelStorei(32877,Ke),ke===0&&me.generateMipmaps&&re.generateMipmap(he),De.unbindTexture()},this.initTexture=function(q){q.isCubeTexture?ye.setTextureCube(q,0):q.isData3DTexture?ye.setTexture3D(q,0):q.isDataArrayTexture||q.isCompressedArrayTexture?ye.setTexture2DArray(q,0):ye.setTexture2D(q,0),De.unbindTexture()},this.resetState=function(){b=0,_=0,S=null,De.reset(),Te.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Cj extends Fx{}Cj.prototype.isWebGL1Renderer=!0;class zx{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ft(e),this.density=t}clone(){return new zx(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Bx{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new ft(e),this.near=t,this.far=r}clone(){return new Bx(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Um extends un{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Ux{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=qp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Qi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const di=new $;class ou{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)di.fromBufferAttribute(this,t),di.applyMatrix4(e),this.setXYZ(t,di.x,di.y,di.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)di.fromBufferAttribute(this,t),di.applyNormalMatrix(e),this.setXYZ(t,di.x,di.y,di.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)di.fromBufferAttribute(this,t),di.transformDirection(e),this.setXYZ(t,di.x,di.y,di.z);return this}setX(e,t){return this.normalized&&(t=Sn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Sn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Sn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Sn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=aa(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=aa(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=aa(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=aa(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Sn(t,this.array),r=Sn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Sn(t,this.array),r=Sn(r,this.array),i=Sn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Sn(t,this.array),r=Sn(r,this.array),i=Sn(i,this.array),s=Sn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new _n(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ou(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class wE extends oi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ft(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ku;const Mh=new $,Qu=new $,Ju=new $,ed=new Le,Eh=new Le,Aj=new zt,Vv=new $,Th=new $,Wv=new $,MN=new Le,C_=new Le,EN=new Le;class Pj extends un{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Ku===void 0){Ku=new Qt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Ux(t,5);Ku.setIndex([0,1,2,0,2,3]),Ku.setAttribute("position",new ou(r,3,0,!1)),Ku.setAttribute("uv",new ou(r,2,3,!1))}this.geometry=Ku,this.material=e!==void 0?e:new wE,this.center=new Le(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Qu.setFromMatrixScale(this.matrixWorld),Aj.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ju.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Qu.multiplyScalar(-Ju.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Hv(Vv.set(-.5,-.5,0),Ju,o,Qu,i,s),Hv(Th.set(.5,-.5,0),Ju,o,Qu,i,s),Hv(Wv.set(.5,.5,0),Ju,o,Qu,i,s),MN.set(0,0),C_.set(1,0),EN.set(1,1);let a=e.ray.intersectTriangle(Vv,Th,Wv,!1,Mh);if(a===null&&(Hv(Th.set(-.5,.5,0),Ju,o,Qu,i,s),C_.set(0,1),a=e.ray.intersectTriangle(Vv,Wv,Th,!1,Mh),a===null))return;const l=e.ray.origin.distanceTo(Mh);l<e.near||l>e.far||t.push({distance:l,point:Mh.clone(),uv:Ms.getUV(Mh,Vv,Th,Wv,MN,C_,EN,new Le),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Hv(n,e,t,r,i,s){ed.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Eh.x=s*ed.x-i*ed.y,Eh.y=i*ed.x+s*ed.y):Eh.copy(ed),n.copy(e),n.x+=Eh.x,n.y+=Eh.y,n.applyMatrix4(Aj)}const Gv=new $,TN=new $;class Nj extends un{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Gv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Gv);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Gv.setFromMatrixPosition(e.matrixWorld),TN.setFromMatrixPosition(this.matrixWorld);const r=Gv.distanceTo(TN)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const CN=new $,AN=new yn,PN=new yn,ree=new $,NN=new zt;class kj extends mr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new zt,this.bindMatrixInverse=new zt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new yn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;AN.fromBufferAttribute(i.attributes.skinIndex,e),PN.fromBufferAttribute(i.attributes.skinWeight,e),CN.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=PN.getComponent(s);if(o!==0){const a=AN.getComponent(s);NN.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(ree.copy(CN).applyMatrix4(NN),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class _E extends un{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yc extends Mn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=nr,d=nr,h,p){super(null,o,a,l,c,d,i,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const kN=new zt,iee=new zt;class Vx{constructor(e=[],t=[]){this.uuid=Qi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new zt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new zt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:iee;kN.multiplyMatrices(a,t[s]),kN.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Vx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=pj(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Yc(t,e,e,br,Lr);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new _E),this.bones.push(o),this.boneInverses.push(new zt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class gf extends _n{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const RN=new zt,LN=new zt,$v=[],see=new zt,Ch=new mr;class Rj extends mr{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new gf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,see)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Ch.geometry=this.geometry,Ch.material=this.material,Ch.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,RN),LN.multiplyMatrices(r,RN),Ch.matrixWorld=LN,Ch.raycast(e,$v);for(let o=0,a=$v.length;o<a;o++){const l=$v[o];l.instanceId=s,l.object=this,t.push(l)}$v.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new gf(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Si extends oi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ft(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const IN=new $,DN=new $,ON=new zt,A_=new Rf,Zv=new vu;class Il extends un{constructor(e=new Qt,t=new Si){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)IN.fromBufferAttribute(t,i-1),DN.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=IN.distanceTo(DN);e.setAttribute("lineDistance",new bt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Zv.copy(r.boundingSphere),Zv.applyMatrix4(i),Zv.radius+=s,e.ray.intersectsSphere(Zv)===!1)return;ON.copy(i).invert(),A_.copy(e.ray).applyMatrix4(ON);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new $,d=new $,h=new $,p=new $,g=this.isLineSegments?2:1,v=r.index,x=r.attributes.position;if(v!==null){const b=Math.max(0,o.start),_=Math.min(v.count,o.start+o.count);for(let S=b,E=_-1;S<E;S+=g){const C=v.getX(S),P=v.getX(S+1);if(c.fromBufferAttribute(x,C),d.fromBufferAttribute(x,P),A_.distanceSqToSegment(c,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||t.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const b=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let S=b,E=_-1;S<E;S+=g){if(c.fromBufferAttribute(x,S),d.fromBufferAttribute(x,S+1),A_.distanceSqToSegment(c,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const jN=new $,FN=new $;class Io extends Il{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)jN.fromBufferAttribute(t,i),FN.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+jN.distanceTo(FN);e.setAttribute("lineDistance",new bt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Lj extends Il{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Wx extends oi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ft(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const zN=new zt,i2=new Rf,qv=new vu,Xv=new $;let Ij=class extends un{constructor(e=new Qt,t=new Wx){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),qv.copy(r.boundingSphere),qv.applyMatrix4(i),qv.radius+=s,e.ray.intersectsSphere(qv)===!1)return;zN.copy(i).invert(),i2.copy(e.ray).applyMatrix4(zN);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,h=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let v=p,y=g;v<y;v++){const x=c.getX(v);Xv.fromBufferAttribute(h,x),BN(Xv,x,l,i,e,t,this)}}else{const p=Math.max(0,o.start),g=Math.min(h.count,o.start+o.count);for(let v=p,y=g;v<y;v++)Xv.fromBufferAttribute(h,v),BN(Xv,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function BN(n,e,t,r,i,s,o){const a=i2.distanceSqToPoint(n);if(a<t){const l=new $;i2.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class oee extends Mn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:dn,this.magFilter=s!==void 0?s:dn,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class aee extends Mn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=nr,this.minFilter=nr,this.generateMipmaps=!1,this.needsUpdate=!0}}class bE extends Mn{constructor(e,t,r,i,s,o,a,l,c,d,h,p){super(null,o,a,l,c,d,i,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class lee extends bE{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=jn}}class cee extends Mn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class so{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const d=r[i],p=r[i+1]-d,g=(o-d)/p;return(i+g)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Le:new $);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new $,i=[],s=[],o=[],a=new $,l=new zt;for(let g=0;g<=e;g++){const v=g/e;i[g]=this.getTangentAt(v,new $)}s[0]=new $,o[0]=new $;let c=Number.MAX_VALUE;const d=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);d<=c&&(c=d,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(i[g-1],i[g]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(ir(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(a,v))}o[g].crossVectors(i[g],s[g])}if(t===!0){let g=Math.acos(ir(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],g*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Hx extends so{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Le,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,g=c-this.aY;l=p*d-g*h+this.aX,c=p*h+g*d+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Dj extends Hx{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function SE(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,h){let p=(o-s)/c-(a-s)/(c+d)+(a-o)/d,g=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,g*=d,i(o,a,p,g)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Yv=new $,P_=new SE,N_=new SE,k_=new SE;class Oj extends so{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new $){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=i[(a-1)%s]:(Yv.subVectors(i[0],i[1]).add(i[0]),c=Yv);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?d=i[(a+2)%s]:(Yv.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=Yv),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),g),y=Math.pow(h.distanceToSquared(p),g),x=Math.pow(p.distanceToSquared(d),g);y<1e-4&&(y=1),v<1e-4&&(v=y),x<1e-4&&(x=y),P_.initNonuniformCatmullRom(c.x,h.x,p.x,d.x,v,y,x),N_.initNonuniformCatmullRom(c.y,h.y,p.y,d.y,v,y,x),k_.initNonuniformCatmullRom(c.z,h.z,p.z,d.z,v,y,x)}else this.curveType==="catmullrom"&&(P_.initCatmullRom(c.x,h.x,p.x,d.x,this.tension),N_.initCatmullRom(c.y,h.y,p.y,d.y,this.tension),k_.initCatmullRom(c.z,h.z,p.z,d.z,this.tension));return r.set(P_.calc(l),N_.calc(l),k_.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new $().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function UN(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function uee(n,e){const t=1-n;return t*t*e}function dee(n,e){return 2*(1-n)*n*e}function fee(n,e){return n*n*e}function up(n,e,t,r){return uee(n,e)+dee(n,t)+fee(n,r)}function hee(n,e){const t=1-n;return t*t*t*e}function pee(n,e){const t=1-n;return 3*t*t*n*e}function mee(n,e){return 3*(1-n)*n*n*e}function gee(n,e){return n*n*n*e}function dp(n,e,t,r,i){return hee(n,e)+pee(n,t)+mee(n,r)+gee(n,i)}class ME extends so{constructor(e=new Le,t=new Le,r=new Le,i=new Le){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Le){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(dp(e,i.x,s.x,o.x,a.x),dp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class jj extends so{constructor(e=new $,t=new $,r=new $,i=new $){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new $){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(dp(e,i.x,s.x,o.x,a.x),dp(e,i.y,s.y,o.y,a.y),dp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Gx extends so{constructor(e=new Le,t=new Le){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Le){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Le;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Fj extends so{constructor(e=new $,t=new $){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new $){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EE extends so{constructor(e=new Le,t=new Le,r=new Le){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Le){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(up(e,i.x,s.x,o.x),up(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TE extends so{constructor(e=new $,t=new $,r=new $){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new $){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(up(e,i.x,s.x,o.x),up(e,i.y,s.y,o.y),up(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CE extends so{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Le){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],d=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(UN(a,l.x,c.x,d.x,h.x),UN(a,l.y,c.y,d.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Le().fromArray(i))}return this}}var AE=Object.freeze({__proto__:null,ArcCurve:Dj,CatmullRomCurve3:Oj,CubicBezierCurve:ME,CubicBezierCurve3:jj,EllipseCurve:Hx,LineCurve:Gx,LineCurve3:Fj,QuadraticBezierCurve:EE,QuadraticBezierCurve3:TE,SplineCurve:CE});class zj extends so{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Gx(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];r&&r.equals(d)||(t.push(d),r=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new AE[i.type]().fromJSON(i))}return this}}class Kp extends zj{constructor(e){super(),this.type="Path",this.currentPoint=new Le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new Gx(this.currentPoint.clone(),new Le(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new EE(this.currentPoint.clone(),new Le(e,t),new Le(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new ME(this.currentPoint.clone(),new Le(e,t),new Le(r,i),new Le(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new CE(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new Hx(e,t,r,i,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class If extends Qt{constructor(e=[new Le(0,-.5),new Le(.5,0),new Le(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=ir(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/t,h=new $,p=new Le,g=new $,v=new $,y=new $;let x=0,b=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,b=e[_+1].y-e[_].y,g.x=b*1,g.y=-x,g.z=b*0,y.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:x=e[_+1].x-e[_].x,b=e[_+1].y-e[_].y,g.x=b*1,g.y=-x,g.z=b*0,v.copy(g),g.x+=y.x,g.y+=y.y,g.z+=y.z,g.normalize(),l.push(g.x,g.y,g.z),y.copy(v)}for(let _=0;_<=t;_++){const S=r+_*d*i,E=Math.sin(S),C=Math.cos(S);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*E,h.y=e[P].y,h.z=e[P].x*C,o.push(h.x,h.y,h.z),p.x=_/t,p.y=P/(e.length-1),a.push(p.x,p.y);const I=l[3*P+0]*E,T=l[3*P+1],k=l[3*P+0]*C;c.push(I,T,k)}}for(let _=0;_<t;_++)for(let S=0;S<e.length-1;S++){const E=S+_*e.length,C=E,P=E+e.length,I=E+e.length+1,T=E+1;s.push(C,P,T),s.push(I,T,P)}this.setIndex(s),this.setAttribute("position",new bt(o,3)),this.setAttribute("uv",new bt(a,2)),this.setAttribute("normal",new bt(c,3))}static fromJSON(e){return new If(e.points,e.segments,e.phiStart,e.phiLength)}}class Vm extends If{constructor(e=1,t=1,r=4,i=8){const s=new Kp;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Vm(e.radius,e.length,e.capSegments,e.radialSegments)}}class Wm extends Qt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new $,d=new Le;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const g=r+h/t*i;c.x=e*Math.cos(g),c.y=e*Math.sin(g),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new bt(o,3)),this.setAttribute("normal",new bt(a,3)),this.setAttribute("uv",new bt(l,2))}static fromJSON(e){return new Wm(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class yu extends Qt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const d=[],h=[],p=[],g=[];let v=0;const y=[],x=r/2;let b=0;_(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new bt(h,3)),this.setAttribute("normal",new bt(p,3)),this.setAttribute("uv",new bt(g,2));function _(){const E=new $,C=new $;let P=0;const I=(t-e)/r;for(let T=0;T<=s;T++){const k=[],O=T/s,U=O*(t-e)+e;for(let H=0;H<=i;H++){const V=H/i,z=V*l+a,ee=Math.sin(z),K=Math.cos(z);C.x=U*ee,C.y=-O*r+x,C.z=U*K,h.push(C.x,C.y,C.z),E.set(ee,I,K).normalize(),p.push(E.x,E.y,E.z),g.push(V,1-O),k.push(v++)}y.push(k)}for(let T=0;T<i;T++)for(let k=0;k<s;k++){const O=y[k][T],U=y[k+1][T],H=y[k+1][T+1],V=y[k][T+1];d.push(O,U,V),d.push(U,H,V),P+=6}c.addGroup(b,P,0),b+=P}function S(E){const C=v,P=new Le,I=new $;let T=0;const k=E===!0?e:t,O=E===!0?1:-1;for(let H=1;H<=i;H++)h.push(0,x*O,0),p.push(0,O,0),g.push(.5,.5),v++;const U=v;for(let H=0;H<=i;H++){const z=H/i*l+a,ee=Math.cos(z),K=Math.sin(z);I.x=k*K,I.y=x*O,I.z=k*ee,h.push(I.x,I.y,I.z),p.push(0,O,0),P.x=ee*.5+.5,P.y=K*.5*O+.5,g.push(P.x,P.y),v++}for(let H=0;H<i;H++){const V=C+H,z=U+H;E===!0?d.push(z,z+1,V):d.push(z+1,z,V),T+=3}c.addGroup(b,T,E===!0?1:2),b+=T}}static fromJSON(e){return new yu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Hm extends yu{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Hm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ca extends Qt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),d(),this.setAttribute("position",new bt(s,3)),this.setAttribute("normal",new bt(s.slice(),3)),this.setAttribute("uv",new bt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const S=new $,E=new $,C=new $;for(let P=0;P<t.length;P+=3)g(t[P+0],S),g(t[P+1],E),g(t[P+2],C),l(S,E,C,_)}function l(_,S,E,C){const P=C+1,I=[];for(let T=0;T<=P;T++){I[T]=[];const k=_.clone().lerp(E,T/P),O=S.clone().lerp(E,T/P),U=P-T;for(let H=0;H<=U;H++)H===0&&T===P?I[T][H]=k:I[T][H]=k.clone().lerp(O,H/U)}for(let T=0;T<P;T++)for(let k=0;k<2*(P-T)-1;k++){const O=Math.floor(k/2);k%2===0?(p(I[T][O+1]),p(I[T+1][O]),p(I[T][O])):(p(I[T][O+1]),p(I[T+1][O+1]),p(I[T+1][O]))}}function c(_){const S=new $;for(let E=0;E<s.length;E+=3)S.x=s[E+0],S.y=s[E+1],S.z=s[E+2],S.normalize().multiplyScalar(_),s[E+0]=S.x,s[E+1]=S.y,s[E+2]=S.z}function d(){const _=new $;for(let S=0;S<s.length;S+=3){_.x=s[S+0],_.y=s[S+1],_.z=s[S+2];const E=x(_)/2/Math.PI+.5,C=b(_)/Math.PI+.5;o.push(E,1-C)}v(),h()}function h(){for(let _=0;_<o.length;_+=6){const S=o[_+0],E=o[_+2],C=o[_+4],P=Math.max(S,E,C),I=Math.min(S,E,C);P>.9&&I<.1&&(S<.2&&(o[_+0]+=1),E<.2&&(o[_+2]+=1),C<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function g(_,S){const E=_*3;S.x=e[E+0],S.y=e[E+1],S.z=e[E+2]}function v(){const _=new $,S=new $,E=new $,C=new $,P=new Le,I=new Le,T=new Le;for(let k=0,O=0;k<s.length;k+=9,O+=6){_.set(s[k+0],s[k+1],s[k+2]),S.set(s[k+3],s[k+4],s[k+5]),E.set(s[k+6],s[k+7],s[k+8]),P.set(o[O+0],o[O+1]),I.set(o[O+2],o[O+3]),T.set(o[O+4],o[O+5]),C.copy(_).add(S).add(E).divideScalar(3);const U=x(C);y(P,O+0,_,U),y(I,O+2,S,U),y(T,O+4,E,U)}}function y(_,S,E,C){C<0&&_.x===1&&(o[S]=_.x-1),E.x===0&&E.z===0&&(o[S]=C/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function b(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new Ca(e.vertices,e.indices,e.radius,e.details)}}class Gm extends Ca{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gm(e.radius,e.detail)}}const Kv=new $,Qv=new $,R_=new $,Jv=new Ms;class Bj extends Qt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Zc*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],h=new Array(3),p={},g=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:y,b:x,c:b}=Jv;if(y.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),b.fromBufferAttribute(a,c[2]),Jv.getNormal(R_),h[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,h[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[2]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let _=0;_<3;_++){const S=(_+1)%3,E=h[_],C=h[S],P=Jv[d[_]],I=Jv[d[S]],T=`${E}_${C}`,k=`${C}_${E}`;k in p&&p[k]?(R_.dot(p[k].normal)<=s&&(g.push(P.x,P.y,P.z),g.push(I.x,I.y,I.z)),p[k]=null):T in p||(p[T]={index0:c[_],index1:c[S],normal:R_.clone()})}}for(const v in p)if(p[v]){const{index0:y,index1:x}=p[v];Kv.fromBufferAttribute(a,y),Qv.fromBufferAttribute(a,x),g.push(Kv.x,Kv.y,Kv.z),g.push(Qv.x,Qv.y,Qv.z)}this.setAttribute("position",new bt(g,3))}}}class Kc extends Kp{constructor(e){super(e),this.uuid=Qi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Kp().fromJSON(i))}return this}}const vee={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=Uj(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,d,h,p,g;if(r&&(s=bee(n,e,s,t)),n.length>80*t){a=c=n[0],l=d=n[1];for(let v=t;v<i;v+=t)h=n[v],p=n[v+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>d&&(d=p);g=Math.max(c-a,d-l),g=g!==0?32767/g:0}return Qp(s,o,t,a,l,g,0),o}};function Uj(n,e,t,r,i){let s,o;if(i===Lee(n,e,t,r)>0)for(s=e;s<t;s+=r)o=VN(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=VN(s,n[s],n[s+1],o);return o&&$x(o,o.next)&&(em(o),o=o.next),o}function au(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&($x(t,t.next)||Wn(t.prev,t,t.next)===0)){if(em(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Qp(n,e,t,r,i,s,o){if(!n)return;!o&&s&&Cee(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?xee(n,r,i,s):yee(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),em(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=wee(au(n),e,t),Qp(n,e,t,r,i,s,2)):o===2&&_ee(n,e,t,r,i,s):Qp(au(n),e,t,r,i,s,1);break}}}function yee(n){const e=n.prev,t=n,r=n.next;if(Wn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,d=i<s?i<o?i:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,g=a>l?a>c?a:c:l>c?l:c;let v=r.next;for(;v!==e;){if(v.x>=d&&v.x<=p&&v.y>=h&&v.y<=g&&kd(i,a,s,l,o,c,v.x,v.y)&&Wn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function xee(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Wn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,d=i.y,h=s.y,p=o.y,g=a<l?a<c?a:c:l<c?l:c,v=d<h?d<p?d:p:h<p?h:p,y=a>l?a>c?a:c:l>c?l:c,x=d>h?d>p?d:p:h>p?h:p,b=s2(g,v,e,t,r),_=s2(y,x,e,t,r);let S=n.prevZ,E=n.nextZ;for(;S&&S.z>=b&&E&&E.z<=_;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=x&&S!==i&&S!==o&&kd(a,d,l,h,c,p,S.x,S.y)&&Wn(S.prev,S,S.next)>=0||(S=S.prevZ,E.x>=g&&E.x<=y&&E.y>=v&&E.y<=x&&E!==i&&E!==o&&kd(a,d,l,h,c,p,E.x,E.y)&&Wn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;S&&S.z>=b;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=x&&S!==i&&S!==o&&kd(a,d,l,h,c,p,S.x,S.y)&&Wn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;E&&E.z<=_;){if(E.x>=g&&E.x<=y&&E.y>=v&&E.y<=x&&E!==i&&E!==o&&kd(a,d,l,h,c,p,E.x,E.y)&&Wn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function wee(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!$x(i,s)&&Vj(i,r,r.next,s)&&Jp(i,s)&&Jp(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),em(r),em(r.next),r=n=s),r=r.next}while(r!==n);return au(r)}function _ee(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Nee(o,a)){let l=Wj(o,a);o=au(o,o.next),l=au(l,l.next),Qp(o,e,t,r,i,s,0),Qp(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function bee(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=Uj(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Pee(c));for(i.sort(See),s=0;s<i.length;s++)t=Mee(i[s],t);return t}function See(n,e){return n.x-e.x}function Mee(n,e){const t=Eee(n,e);if(!t)return e;const r=Wj(t,n);return au(r,r.next),au(t,t.next)}function Eee(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let d=1/0,h;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&kd(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),Jp(t,n)&&(h<d||h===d&&(t.x>i.x||t.x===i.x&&Tee(i,t)))&&(i=t,d=h)),t=t.next;while(t!==a);return i}function Tee(n,e){return Wn(n.prev,n,e.prev)<0&&Wn(e.next,n,n.next)<0}function Cee(n,e,t,r){let i=n;do i.z===0&&(i.z=s2(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Aee(i)}function Aee(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function s2(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Pee(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function kd(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function Nee(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!kee(n,e)&&(Jp(n,e)&&Jp(e,n)&&Ree(n,e)&&(Wn(n.prev,n,e.prev)||Wn(n,e.prev,e))||$x(n,e)&&Wn(n.prev,n,n.next)>0&&Wn(e.prev,e,e.next)>0)}function Wn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function $x(n,e){return n.x===e.x&&n.y===e.y}function Vj(n,e,t,r){const i=t0(Wn(n,e,t)),s=t0(Wn(n,e,r)),o=t0(Wn(t,r,n)),a=t0(Wn(t,r,e));return!!(i!==s&&o!==a||i===0&&e0(n,t,e)||s===0&&e0(n,r,e)||o===0&&e0(t,n,r)||a===0&&e0(t,e,r))}function e0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function t0(n){return n>0?1:n<0?-1:0}function kee(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Vj(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Jp(n,e){return Wn(n.prev,n,n.next)<0?Wn(n,e,n.next)>=0&&Wn(n,n.prev,e)>=0:Wn(n,e,n.prev)<0||Wn(n,n.next,e)<0}function Ree(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function Wj(n,e){const t=new o2(n.i,n.x,n.y),r=new o2(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function VN(n,e,t,r){const i=new o2(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function em(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function o2(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lee(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Co{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Co.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];WN(e),HN(r,e);let o=e.length;t.forEach(WN);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,HN(r,t[l]);const a=vee.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function WN(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function HN(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class $m extends Qt{constructor(e=new Kc([new Le(.5,.5),new Le(-.5,.5),new Le(-.5,-.5),new Le(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new bt(i,3)),this.setAttribute("uv",new bt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:g-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:Iee;let S,E=!1,C,P,I,T;b&&(S=b.getSpacedPoints(d),E=!0,p=!1,C=b.computeFrenetFrames(d,!1),P=new $,I=new $,T=new $),p||(x=0,g=0,v=0,y=0);const k=a.extractPoints(c);let O=k.shape;const U=k.holes;if(!Co.isClockWise(O)){O=O.reverse();for(let be=0,ye=U.length;be<ye;be++){const Ue=U[be];Co.isClockWise(Ue)&&(U[be]=Ue.reverse())}}const V=Co.triangulateShape(O,U),z=O;for(let be=0,ye=U.length;be<ye;be++){const Ue=U[be];O=O.concat(Ue)}function ee(be,ye,Ue){return ye||console.error("THREE.ExtrudeGeometry: vec does not exist"),ye.clone().multiplyScalar(Ue).add(be)}const K=O.length,le=V.length;function D(be,ye,Ue){let it,qe,wt;const X=be.x-ye.x,ie=be.y-ye.y,fe=Ue.x-be.x,Fe=Ue.y-be.y,B=X*X+ie*ie,j=X*Fe-ie*fe;if(Math.abs(j)>Number.EPSILON){const ae=Math.sqrt(B),_e=Math.sqrt(fe*fe+Fe*Fe),Oe=ye.x-ie/ae,je=ye.y+X/ae,pt=Ue.x-Fe/_e,Je=Ue.y+fe/_e,Te=((pt-Oe)*Fe-(Je-je)*fe)/(X*Fe-ie*fe);it=Oe+X*Te-be.x,qe=je+ie*Te-be.y;const mt=it*it+qe*qe;if(mt<=2)return new Le(it,qe);wt=Math.sqrt(mt/2)}else{let ae=!1;X>Number.EPSILON?fe>Number.EPSILON&&(ae=!0):X<-Number.EPSILON?fe<-Number.EPSILON&&(ae=!0):Math.sign(ie)===Math.sign(Fe)&&(ae=!0),ae?(it=-ie,qe=X,wt=Math.sqrt(B)):(it=X,qe=ie,wt=Math.sqrt(B/2))}return new Le(it/wt,qe/wt)}const W=[];for(let be=0,ye=z.length,Ue=ye-1,it=be+1;be<ye;be++,Ue++,it++)Ue===ye&&(Ue=0),it===ye&&(it=0),W[be]=D(z[be],z[Ue],z[it]);const G=[];let J,Z=W.concat();for(let be=0,ye=U.length;be<ye;be++){const Ue=U[be];J=[];for(let it=0,qe=Ue.length,wt=qe-1,X=it+1;it<qe;it++,wt++,X++)wt===qe&&(wt=0),X===qe&&(X=0),J[it]=D(Ue[it],Ue[wt],Ue[X]);G.push(J),Z=Z.concat(J)}for(let be=0;be<x;be++){const ye=be/x,Ue=g*Math.cos(ye*Math.PI/2),it=v*Math.sin(ye*Math.PI/2)+y;for(let qe=0,wt=z.length;qe<wt;qe++){const X=ee(z[qe],W[qe],it);Ve(X.x,X.y,-Ue)}for(let qe=0,wt=U.length;qe<wt;qe++){const X=U[qe];J=G[qe];for(let ie=0,fe=X.length;ie<fe;ie++){const Fe=ee(X[ie],J[ie],it);Ve(Fe.x,Fe.y,-Ue)}}}const oe=v+y;for(let be=0;be<K;be++){const ye=p?ee(O[be],Z[be],oe):O[be];E?(I.copy(C.normals[0]).multiplyScalar(ye.x),P.copy(C.binormals[0]).multiplyScalar(ye.y),T.copy(S[0]).add(I).add(P),Ve(T.x,T.y,T.z)):Ve(ye.x,ye.y,0)}for(let be=1;be<=d;be++)for(let ye=0;ye<K;ye++){const Ue=p?ee(O[ye],Z[ye],oe):O[ye];E?(I.copy(C.normals[be]).multiplyScalar(Ue.x),P.copy(C.binormals[be]).multiplyScalar(Ue.y),T.copy(S[be]).add(I).add(P),Ve(T.x,T.y,T.z)):Ve(Ue.x,Ue.y,h/d*be)}for(let be=x-1;be>=0;be--){const ye=be/x,Ue=g*Math.cos(ye*Math.PI/2),it=v*Math.sin(ye*Math.PI/2)+y;for(let qe=0,wt=z.length;qe<wt;qe++){const X=ee(z[qe],W[qe],it);Ve(X.x,X.y,h+Ue)}for(let qe=0,wt=U.length;qe<wt;qe++){const X=U[qe];J=G[qe];for(let ie=0,fe=X.length;ie<fe;ie++){const Fe=ee(X[ie],J[ie],it);E?Ve(Fe.x,Fe.y+S[d-1].y,S[d-1].x+Ue):Ve(Fe.x,Fe.y,h+Ue)}}}we(),Ae();function we(){const be=i.length/3;if(p){let ye=0,Ue=K*ye;for(let it=0;it<le;it++){const qe=V[it];Ge(qe[2]+Ue,qe[1]+Ue,qe[0]+Ue)}ye=d+x*2,Ue=K*ye;for(let it=0;it<le;it++){const qe=V[it];Ge(qe[0]+Ue,qe[1]+Ue,qe[2]+Ue)}}else{for(let ye=0;ye<le;ye++){const Ue=V[ye];Ge(Ue[2],Ue[1],Ue[0])}for(let ye=0;ye<le;ye++){const Ue=V[ye];Ge(Ue[0]+K*d,Ue[1]+K*d,Ue[2]+K*d)}}r.addGroup(be,i.length/3-be,0)}function Ae(){const be=i.length/3;let ye=0;re(z,ye),ye+=z.length;for(let Ue=0,it=U.length;Ue<it;Ue++){const qe=U[Ue];re(qe,ye),ye+=qe.length}r.addGroup(be,i.length/3-be,1)}function re(be,ye){let Ue=be.length;for(;--Ue>=0;){const it=Ue;let qe=Ue-1;qe<0&&(qe=be.length-1);for(let wt=0,X=d+x*2;wt<X;wt++){const ie=K*wt,fe=K*(wt+1),Fe=ye+it+ie,B=ye+qe+ie,j=ye+qe+fe,ae=ye+it+fe;et(Fe,B,j,ae)}}}function Ve(be,ye,Ue){l.push(be),l.push(ye),l.push(Ue)}function Ge(be,ye,Ue){De(be),De(ye),De(Ue);const it=i.length/3,qe=_.generateTopUV(r,i,it-3,it-2,it-1);He(qe[0]),He(qe[1]),He(qe[2])}function et(be,ye,Ue,it){De(be),De(ye),De(it),De(ye),De(Ue),De(it);const qe=i.length/3,wt=_.generateSideWallUV(r,i,qe-6,qe-3,qe-2,qe-1);He(wt[0]),He(wt[1]),He(wt[3]),He(wt[1]),He(wt[2]),He(wt[3])}function De(be){i.push(l[be*3+0]),i.push(l[be*3+1]),i.push(l[be*3+2])}function He(be){s.push(be.x),s.push(be.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Dee(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new AE[i.type]().fromJSON(i)),new $m(r,e.options)}}const Iee={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],d=e[i*3+1];return[new Le(s,o),new Le(a,l),new Le(c,d)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],d=e[r*3+1],h=e[r*3+2],p=e[i*3],g=e[i*3+1],v=e[i*3+2],y=e[s*3],x=e[s*3+1],b=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new Le(o,1-l),new Le(c,1-h),new Le(p,1-v),new Le(y,1-b)]:[new Le(a,1-l),new Le(d,1-h),new Le(g,1-v),new Le(x,1-b)]}};function Dee(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Df extends Ca{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Df(e.radius,e.detail)}}class Of extends Ca{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Of(e.radius,e.detail)}}class Zm extends Qt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],d=[];let h=e;const p=(t-e)/i,g=new $,v=new Le;for(let y=0;y<=i;y++){for(let x=0;x<=r;x++){const b=s+x/r*o;g.x=h*Math.cos(b),g.y=h*Math.sin(b),l.push(g.x,g.y,g.z),c.push(0,0,1),v.x=(g.x/t+1)/2,v.y=(g.y/t+1)/2,d.push(v.x,v.y)}h+=p}for(let y=0;y<i;y++){const x=y*(r+1);for(let b=0;b<r;b++){const _=b+x,S=_,E=_+r+1,C=_+r+2,P=_+1;a.push(S,E,P),a.push(E,C,P)}}this.setIndex(a),this.setAttribute("position",new bt(l,3)),this.setAttribute("normal",new bt(c,3)),this.setAttribute("uv",new bt(d,2))}static fromJSON(e){return new Zm(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class qm extends Qt{constructor(e=new Kc([new Le(0,.5),new Le(-.5,-.5),new Le(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new bt(i,3)),this.setAttribute("normal",new bt(s,3)),this.setAttribute("uv",new bt(o,2));function c(d){const h=i.length/3,p=d.extractPoints(t);let g=p.shape;const v=p.holes;Co.isClockWise(g)===!1&&(g=g.reverse());for(let x=0,b=v.length;x<b;x++){const _=v[x];Co.isClockWise(_)===!0&&(v[x]=_.reverse())}const y=Co.triangulateShape(g,v);for(let x=0,b=v.length;x<b;x++){const _=v[x];g=g.concat(_)}for(let x=0,b=g.length;x<b;x++){const _=g[x];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,b=y.length;x<b;x++){const _=y[x],S=_[0]+h,E=_[1]+h,C=_[2]+h;r.push(S,E,C),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Oee(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new qm(r,e.curveSegments)}}function Oee(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class jf extends Qt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const d=[],h=new $,p=new $,g=[],v=[],y=[],x=[];for(let b=0;b<=r;b++){const _=[],S=b/r;let E=0;b==0&&o==0?E=.5/t:b==r&&l==Math.PI&&(E=-.5/t);for(let C=0;C<=t;C++){const P=C/t;h.x=-e*Math.cos(i+P*s)*Math.sin(o+S*a),h.y=e*Math.cos(o+S*a),h.z=e*Math.sin(i+P*s)*Math.sin(o+S*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),y.push(p.x,p.y,p.z),x.push(P+E,1-S),_.push(c++)}d.push(_)}for(let b=0;b<r;b++)for(let _=0;_<t;_++){const S=d[b][_+1],E=d[b][_],C=d[b+1][_],P=d[b+1][_+1];(b!==0||o>0)&&g.push(S,E,P),(b!==r-1||l<Math.PI)&&g.push(E,C,P)}this.setIndex(g),this.setAttribute("position",new bt(v,3)),this.setAttribute("normal",new bt(y,3)),this.setAttribute("uv",new bt(x,2))}static fromJSON(e){return new jf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Xm extends Ca{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Xm(e.radius,e.detail)}}class Ym extends Qt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],d=new $,h=new $,p=new $;for(let g=0;g<=r;g++)for(let v=0;v<=i;v++){const y=v/i*s,x=g/r*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(y),h.y=(e+t*Math.cos(x))*Math.sin(y),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),d.x=e*Math.cos(y),d.y=e*Math.sin(y),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),c.push(v/i),c.push(g/r)}for(let g=1;g<=r;g++)for(let v=1;v<=i;v++){const y=(i+1)*g+v-1,x=(i+1)*(g-1)+v-1,b=(i+1)*(g-1)+v,_=(i+1)*g+v;o.push(y,x,_),o.push(x,b,_)}this.setIndex(o),this.setAttribute("position",new bt(a,3)),this.setAttribute("normal",new bt(l,3)),this.setAttribute("uv",new bt(c,2))}static fromJSON(e){return new Ym(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Km extends Qt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],d=[],h=new $,p=new $,g=new $,v=new $,y=new $,x=new $,b=new $;for(let S=0;S<=r;++S){const E=S/r*s*Math.PI*2;_(E,s,o,e,g),_(E+.01,s,o,e,v),x.subVectors(v,g),b.addVectors(v,g),y.crossVectors(x,b),b.crossVectors(y,x),y.normalize(),b.normalize();for(let C=0;C<=i;++C){const P=C/i*Math.PI*2,I=-t*Math.cos(P),T=t*Math.sin(P);h.x=g.x+(I*b.x+T*y.x),h.y=g.y+(I*b.y+T*y.y),h.z=g.z+(I*b.z+T*y.z),l.push(h.x,h.y,h.z),p.subVectors(h,g).normalize(),c.push(p.x,p.y,p.z),d.push(S/r),d.push(C/i)}}for(let S=1;S<=r;S++)for(let E=1;E<=i;E++){const C=(i+1)*(S-1)+(E-1),P=(i+1)*S+(E-1),I=(i+1)*S+E,T=(i+1)*(S-1)+E;a.push(C,P,T),a.push(P,I,T)}this.setIndex(a),this.setAttribute("position",new bt(l,3)),this.setAttribute("normal",new bt(c,3)),this.setAttribute("uv",new bt(d,2));function _(S,E,C,P,I){const T=Math.cos(S),k=Math.sin(S),O=C/E*S,U=Math.cos(O);I.x=P*(2+U)*.5*T,I.y=P*(2+U)*k*.5,I.z=P*Math.sin(O)*.5}}static fromJSON(e){return new Km(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Qm extends Qt{constructor(e=new TE(new $(-1,-1,0),new $(-1,1,0),new $(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new $,l=new $,c=new Le;let d=new $;const h=[],p=[],g=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new bt(h,3)),this.setAttribute("normal",new bt(p,3)),this.setAttribute("uv",new bt(g,2));function y(){for(let S=0;S<t;S++)x(S);x(s===!1?t:0),_(),b()}function x(S){d=e.getPointAt(S/t,d);const E=o.normals[S],C=o.binormals[S];for(let P=0;P<=i;P++){const I=P/i*Math.PI*2,T=Math.sin(I),k=-Math.cos(I);l.x=k*E.x+T*C.x,l.y=k*E.y+T*C.y,l.z=k*E.z+T*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+r*l.x,a.y=d.y+r*l.y,a.z=d.z+r*l.z,h.push(a.x,a.y,a.z)}}function b(){for(let S=1;S<=t;S++)for(let E=1;E<=i;E++){const C=(i+1)*(S-1)+(E-1),P=(i+1)*S+(E-1),I=(i+1)*S+E,T=(i+1)*(S-1)+E;v.push(C,P,T),v.push(P,I,T)}}function _(){for(let S=0;S<=t;S++)for(let E=0;E<=i;E++)c.x=S/t,c.y=E/i,g.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Qm(new AE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Hj extends Qt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new $,s=new $;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const h=l[c],p=h.start,g=h.count;for(let v=p,y=p+g;v<y;v+=3)for(let x=0;x<3;x++){const b=a.getX(v+x),_=a.getX(v+(x+1)%3);i.fromBufferAttribute(o,b),s.fromBufferAttribute(o,_),GN(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,h=3*a+(c+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),GN(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new bt(t,3))}}}function GN(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var $N=Object.freeze({__proto__:null,BoxGeometry:Zl,CapsuleGeometry:Vm,CircleGeometry:Wm,ConeGeometry:Hm,CylinderGeometry:yu,DodecahedronGeometry:Gm,EdgesGeometry:Bj,ExtrudeGeometry:$m,IcosahedronGeometry:Df,LatheGeometry:If,OctahedronGeometry:Of,PlaneGeometry:ql,PolyhedronGeometry:Ca,RingGeometry:Zm,ShapeGeometry:qm,SphereGeometry:jf,TetrahedronGeometry:Xm,TorusGeometry:Ym,TorusKnotGeometry:Km,TubeGeometry:Qm,WireframeGeometry:Hj});class Gj extends oi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ft(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class $j extends ji{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class PE extends oi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ft(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$l,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zj extends PE{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ir(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ft(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ft(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ft(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class qj extends oi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ft(16777215),this.specular=new ft(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$l,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=jm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Xj extends oi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ft(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$l,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Yj extends oi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$l,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Kj extends oi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$l,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=jm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Qj extends oi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ft(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$l,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Jj extends Si{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xs(n,e,t){return NE(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Lc(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function NE(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function eF(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function a2(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function kE(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function jee(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),h=[],p=[];for(let g=0;g<c.times.length;++g){const v=c.times[g]*i;if(!(v<t||v>=r)){h.push(c.times[g]);for(let y=0;y<d;++y)p.push(c.values[g*d+y])}}h.length!==0&&(c.times=Lc(h,c.times.constructor),c.values=Lc(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Fee(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(b){return b.name===a.name&&b.ValueTypeName===l});if(c===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const b=d,_=h-d;y=xs(a.values,b,_)}else if(s>=a.times[v]){const b=v*h+d,_=b+h-d;y=xs(a.values,b,_)}else{const b=a.createInterpolant(),_=d,S=h-d;b.evaluate(s),y=xs(b.resultBuffer,_,S)}l==="quaternion"&&new ri().fromArray(y).normalize().conjugate().toArray(y);const x=c.times.length;for(let b=0;b<x;++b){const _=b*g+p;if(l==="quaternion")ri.multiplyQuaternionsFlat(c.values,_,y,0,c.values,_);else{const S=g-p*2;for(let E=0;E<S;++E)c.values[_+E]-=y[E]}}}return n.blendMode=uE,n}var zee=Object.freeze({__proto__:null,arraySlice:xs,convertArray:Lc,flattenJSON:kE,getKeyframeOrder:eF,isTypedArray:NE,makeClipAdditive:Fee,sortedArray:a2,subclip:jee});class Jm{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class tF extends Jm{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Nc,endingEnd:Nc}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case kc:s=e,a=2*t-r;break;case Zp:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case kc:o=e,l=2*r-t;break;case Zp:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,d=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,g=this._weightNext,v=(r-t)/(i-t),y=v*v,x=y*v,b=-p*x+2*p*y-p*v,_=(1+p)*x+(-1.5-2*p)*y+(-.5+p)*v+1,S=(-1-g)*x+(1.5+g)*y+.5*v,E=g*x-g*y;for(let C=0;C!==a;++C)s[C]=b*o[d+C]+_*o[c+C]+S*o[l+C]+E*o[h+C];return s}}class RE extends Jm{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(r-t)/(i-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*d;return s}}class nF extends Jm{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class oo{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Lc(t,this.TimeBufferType),this.values=Lc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Lc(e.times,Array),values:Lc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new nF(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new RE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new tF(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Gp:t=this.InterpolantFactoryMethodDiscrete;break;case $p:t=this.InterpolantFactoryMethodLinear;break;case j0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Gp;case this.InterpolantFactoryMethodLinear:return $p;case this.InterpolantFactoryMethodSmooth:return j0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=xs(r,s,o),this.values=xs(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&NE(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=xs(this.times),t=xs(this.values),r=this.getValueSize(),i=this.getInterpolation()===j0,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,g=h+r;for(let v=0;v!==r;++v){const y=t[h+v];if(y!==t[p+v]||y!==t[g+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let g=0;g!==r;++g)t[p+g]=t[h+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=xs(e,0,o),this.values=xs(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=xs(this.times,0),t=xs(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}oo.prototype.TimeBufferType=Float32Array;oo.prototype.ValueBufferType=Float32Array;oo.prototype.DefaultInterpolation=$p;class xu extends oo{}xu.prototype.ValueTypeName="bool";xu.prototype.ValueBufferType=Array;xu.prototype.DefaultInterpolation=Gp;xu.prototype.InterpolantFactoryMethodLinear=void 0;xu.prototype.InterpolantFactoryMethodSmooth=void 0;class LE extends oo{}LE.prototype.ValueTypeName="color";class tm extends oo{}tm.prototype.ValueTypeName="number";class rF extends Jm{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let d=c+a;c!==d;c+=4)ri.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Ff extends oo{InterpolantFactoryMethodLinear(e){return new rF(this.times,this.values,this.getValueSize(),e)}}Ff.prototype.ValueTypeName="quaternion";Ff.prototype.DefaultInterpolation=$p;Ff.prototype.InterpolantFactoryMethodSmooth=void 0;class wu extends oo{}wu.prototype.ValueTypeName="string";wu.prototype.ValueBufferType=Array;wu.prototype.DefaultInterpolation=Gp;wu.prototype.InterpolantFactoryMethodLinear=void 0;wu.prototype.InterpolantFactoryMethodSmooth=void 0;class nm extends oo{}nm.prototype.ValueTypeName="vector";class rm{constructor(e,t=-1,r,i=Lx){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Qi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(Uee(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(oo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=eF(l);l=a2(l,1,d),c=a2(c,1,d),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new tm(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const h=d[1];let p=i[h];p||(i[h]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,g,v,y){if(g.length!==0){const x=[],b=[];kE(g,x,b,v),x.length!==0&&y.push(new h(p,x,b))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let y=0;y<p[v].morphTargets.length;y++)g[p[v].morphTargets[y]]=-1;for(const y in g){const x=[],b=[];for(let _=0;_!==p[v].morphTargets.length;++_){const S=p[v];x.push(S.time),b.push(S.morphTarget===y?1:0)}i.push(new tm(".morphTargetInfluence["+y+"]",x,b))}l=g.length*o}else{const g=".bones["+t[h].name+"]";r(nm,g+".position",p,"pos",i),r(Ff,g+".quaternion",p,"rot",i),r(nm,g+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Bee(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return tm;case"vector":case"vector2":case"vector3":case"vector4":return nm;case"color":return LE;case"quaternion":return Ff;case"bool":case"boolean":return xu;case"string":return wu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Uee(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Bee(n.type);if(n.times===void 0){const t=[],r=[];kE(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const lu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class Zx{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(d){a++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return c.push(d,h),this},this.removeHandler=function(d){const h=c.indexOf(d);return h!==-1&&c.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=c.length;h<p;h+=2){const g=c[h],v=c[h+1];if(g.global&&(g.lastIndex=0),g.test(d))return v}return null}}}const Rd=new Zx;class Fi{constructor(e){this.manager=e!==void 0?e:Rd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Xo={};class Vee extends Error{constructor(e,t){super(e),this.response=t}}class Ji extends Fi{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=lu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Xo[e]!==void 0){Xo[e].push({onLoad:t,onProgress:r,onError:i});return}Xo[e]=[],Xo[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=Xo[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),g=p?parseInt(p):0,v=g!==0;let y=0;const x=new ReadableStream({start(b){_();function _(){h.read().then(({done:S,value:E})=>{if(S)b.close();else{y+=E.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:g});for(let P=0,I=d.length;P<I;P++){const T=d[P];T.onProgress&&T.onProgress(C)}b.enqueue(E),_()}})}}});return new Response(x)}else throw new Vee(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,g=new TextDecoder(p);return c.arrayBuffer().then(v=>g.decode(v))}}}).then(c=>{lu.add(e,c);const d=Xo[e];delete Xo[e];for(let h=0,p=d.length;h<p;h++){const g=d[h];g.onLoad&&g.onLoad(c)}}).catch(c=>{const d=Xo[e];if(d===void 0)throw this.manager.itemError(e),c;delete Xo[e];for(let h=0,p=d.length;h<p;h++){const g=d[h];g.onError&&g.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Wee extends Fi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ji(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=rm.parse(e[r]);t.push(i)}return t}}class Hee extends Fi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new bE,l=new Ji(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(h){l.load(e[h],function(p){const g=s.parse(p,!0);o[h]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},c+=1,c===6&&(g.mipmapCount===1&&(a.minFilter=dn),a.image=o,a.format=g.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let v=0;v<g;v++){o[v]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+y]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=dn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class im extends Fi{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=lu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Yp("img");function l(){d(),lu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){d(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class iF extends Fi{constructor(e){super(e)}load(e,t,r,i){const s=new Bm,o=new im(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class IE extends Fi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Yc,a=new Ji(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:jn,o.wrapT=c.wrapT!==void 0?c.wrapT:jn,o.magFilter=c.magFilter!==void 0?c.magFilter:dn,o.minFilter=c.minFilter!==void 0?c.minFilter:dn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Rl),c.mipmapCount===1&&(o.minFilter=dn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class Gee extends Fi{constructor(e){super(e)}load(e,t,r,i){const s=new Mn,o=new im(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Xl extends un{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ft(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class sF extends Xl{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(un.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ft(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const L_=new zt,ZN=new $,qN=new $;class DE{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Le(512,512),this.map=null,this.mapPass=null,this.matrix=new zt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ox,this._frameExtents=new Le(1,1),this._viewportCount=1,this._viewports=[new yn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;ZN.setFromMatrixPosition(e.matrixWorld),t.position.copy(ZN),qN.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(qN),t.updateMatrixWorld(),L_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(L_),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(L_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class $ee extends DE{constructor(){super(new Un(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Xp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class oF extends Xl{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(un.DEFAULT_UP),this.updateMatrix(),this.target=new un,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new $ee}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const XN=new zt,Ah=new $,I_=new $;class Zee extends DE{constructor(){super(new Un(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Le(4,2),this._viewportCount=6,this._viewports=[new yn(2,1,1,1),new yn(0,1,1,1),new yn(3,1,1,1),new yn(1,1,1,1),new yn(3,0,1,1),new yn(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Ah.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ah),I_.copy(r.position),I_.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(I_),r.updateMatrixWorld(),i.makeTranslation(-Ah.x,-Ah.y,-Ah.z),XN.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(XN)}}class aF extends Xl{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Zee}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class qee extends DE{constructor(){super(new Ys(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class lF extends Xl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(un.DEFAULT_UP),this.updateMatrix(),this.target=new un,this.shadow=new qee}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class cF extends Xl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class uF extends Xl{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class dF{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new $)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class qx extends Xl{constructor(e=new dF,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Xx extends Fi{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Ji(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=Xx.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ft().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new ft().setHex(o.value);break;case"v2":i.uniforms[s].value=new Le().fromArray(o.value);break;case"v3":i.uniforms[s].value=new $().fromArray(o.value);break;case"v4":i.uniforms[s].value=new yn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new yi().fromArray(o.value);break;case"m4":i.uniforms[s].value=new zt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Le().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Le().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:Gj,SpriteMaterial:wE,RawShaderMaterial:$j,ShaderMaterial:ji,PointsMaterial:Wx,MeshPhysicalMaterial:Zj,MeshStandardMaterial:PE,MeshPhongMaterial:qj,MeshToonMaterial:Xj,MeshNormalMaterial:Yj,MeshLambertMaterial:Kj,MeshDepthMaterial:yE,MeshDistanceMaterial:xE,MeshBasicMaterial:Ta,MeshMatcapMaterial:Qj,LineDashedMaterial:Jj,LineBasicMaterial:Si,Material:oi};return new t[e]}}class l2{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class fF extends Qt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class hF extends Fi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ji(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(g,v){if(t[v]!==void 0)return t[v];const x=g.interleavedBuffers[v],b=s(g,x.buffer),_=Ad(x.type,b),S=new Ux(_,x.stride);return S.uuid=x.uuid,t[v]=S,S}function s(g,v){if(r[v]!==void 0)return r[v];const x=g.arrayBuffers[v],b=new Uint32Array(x).buffer;return r[v]=b,b}const o=e.isInstancedBufferGeometry?new fF:new Qt,a=e.data.index;if(a!==void 0){const g=Ad(a.type,a.array);o.setIndex(new _n(g,1))}const l=e.data.attributes;for(const g in l){const v=l[g];let y;if(v.isInterleavedBufferAttribute){const x=i(e.data,v.data);y=new ou(x,v.itemSize,v.offset,v.normalized)}else{const x=Ad(v.type,v.array),b=v.isInstancedBufferAttribute?gf:_n;y=new b(x,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),o.setAttribute(g,y)}const c=e.data.morphAttributes;if(c)for(const g in c){const v=c[g],y=[];for(let x=0,b=v.length;x<b;x++){const _=v[x];let S;if(_.isInterleavedBufferAttribute){const E=i(e.data,_.data);S=new ou(E,_.itemSize,_.offset,_.normalized)}else{const E=Ad(_.type,_.array);S=new _n(E,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),y.push(S)}o.morphAttributes[g]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let g=0,v=h.length;g!==v;++g){const y=h[g];o.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const g=new $;p.center!==void 0&&g.fromArray(p.center),o.boundingSphere=new vu(g,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Xee extends Fi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?l2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ji(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?l2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ji(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Kc().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Vx().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new hF;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in $N?a=$N[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new Xx;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=rm.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(d)}else return l.data?{data:Ad(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Zx(t);s=new im(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const g=[];for(let v=0,y=p.length;v<y;v++){const x=p[v],b=a(x);b!==null&&(b instanceof HTMLImageElement?g.push(b):g.push(new Yc(b.data,b.width,b.height)))}i[h.uuid]=new Rc(g)}else{const g=a(h.url);i[h.uuid]=new Rc(g)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Ad(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new im(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let h=0,p=c.length;h<p;h++){const g=c[h],v=await s(g);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new Yc(v.data,v.width,v.height)))}r[l.uuid]=new Rc(d)}else{const d=await s(l.url);r[l.uuid]=new Rc(d)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let d;Array.isArray(c)?(d=new Bm,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Yc:d=new Mn,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=r(a.mapping,Yee)),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=r(a.wrap[0],YN),d.wrapT=r(a.wrap[1],YN)),a.format!==void 0&&(d.format=a.format),a.type!==void 0&&(d.type=a.type),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=r(a.minFilter,KN)),a.magFilter!==void 0&&(d.magFilter=r(a.magFilter,KN)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),i[a.uuid]=d}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const g=[];for(let v=0,y=p.length;v<y;v++){const x=p[v];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),g.push(r[x])}return g}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let d,h;switch(e.type){case"Scene":o=new Um,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ft(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Bx(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new zx(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Un(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ys(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new cF(e.color,e.intensity);break;case"DirectionalLight":o=new lF(e.color,e.intensity);break;case"PointLight":o=new aF(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new uF(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new oF(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new sF(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new qx().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new kj(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new mr(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,g=e.instanceMatrix,v=e.instanceColor;o=new Rj(d,h,p),o.instanceMatrix=new gf(new Float32Array(g.array),16),v!==void 0&&(o.instanceColor=new gf(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new Nj;break;case"Line":o=new Il(a(e.geometry),l(e.material));break;case"LineLoop":o=new Lj(a(e.geometry),l(e.material));break;case"LineSegments":o=new Io(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Ij(a(e.geometry),l(e.material));break;case"Sprite":o=new Pj(l(e.material));break;case"Group":o=new Nd;break;case"Bone":o=new _E;break;default:o=new un}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let g=0;g<p.length;g++)o.add(this.parseObject(p[g],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let g=0;g<p.length;g++){const v=p[g];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let g=0;g<p.length;g++){const v=p[g],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Yee={UVMapping:Nl,CubeReflectionMapping:_a,CubeRefractionMapping:kl,EquirectangularReflectionMapping:pf,EquirectangularRefractionMapping:Vp,CubeUVReflectionMapping:kf},YN={RepeatWrapping:Wp,ClampToEdgeWrapping:jn,MirroredRepeatWrapping:Hp},KN={NearestFilter:nr,NearestMipmapNearestFilter:Ly,NearestMipmapLinearFilter:lp,LinearFilter:dn,LinearMipmapNearestFilter:iE,LinearMipmapLinearFilter:Rl};class Kee extends Fi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=lu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){lu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let n0;class OE{static getContext(){return n0===void 0&&(n0=new(window.AudioContext||window.webkitAudioContext)),n0}static setContext(e){n0=e}}class Qee extends Fi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ji(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);OE.getContext().decodeAudioData(l,function(d){t(d)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class Jee extends qx{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new ft().set(e),s=new ft().set(t),o=new $(i.r,i.g,i.b),a=new $(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class ete extends qx{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new ft().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const QN=new zt,JN=new zt,uc=new zt;class tte{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Un,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Un,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,uc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Zc*t.fov*.5)/t.zoom;let a,l;JN.elements[12]=-i,QN.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,uc.elements[0]=2*t.near/(l-a),uc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(uc),a=-o*t.aspect-s,l=o*t.aspect-s,uc.elements[0]=2*t.near/(l-a),uc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(uc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(JN),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(QN)}}class jE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ek(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=ek();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function ek(){return(typeof performance>"u"?Date:performance).now()}const dc=new $,tk=new ri,nte=new $,fc=new $;class rte extends un{constructor(){super(),this.type="AudioListener",this.context=OE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new jE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(dc,tk,nte),fc.set(0,0,-1).applyQuaternion(tk),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(dc.x,i),t.positionY.linearRampToValueAtTime(dc.y,i),t.positionZ.linearRampToValueAtTime(dc.z,i),t.forwardX.linearRampToValueAtTime(fc.x,i),t.forwardY.linearRampToValueAtTime(fc.y,i),t.forwardZ.linearRampToValueAtTime(fc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(dc.x,dc.y,dc.z),t.setOrientation(fc.x,fc.y,fc.z,r.x,r.y,r.z)}}class pF extends un{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const hc=new $,nk=new ri,ite=new $,pc=new $;class ste extends pF{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(hc,nk,ite),pc.set(0,0,1).applyQuaternion(nk);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(hc.x,r),t.positionY.linearRampToValueAtTime(hc.y,r),t.positionZ.linearRampToValueAtTime(hc.z,r),t.orientationX.linearRampToValueAtTime(pc.x,r),t.orientationY.linearRampToValueAtTime(pc.y,r),t.orientationZ.linearRampToValueAtTime(pc.z,r)}else t.setPosition(hc.x,hc.y,hc.z),t.setOrientation(pc.x,pc.y,pc.z)}}class ote{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class mF{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){ri.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;ri.multiplyQuaternionsFlat(e,o,e,t,e,r),ri.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const FE="\\[\\]\\.:\\/",ate=new RegExp("["+FE+"]","g"),zE="[^"+FE+"]",lte="[^"+FE.replace("\\.","")+"]",cte=/((?:WC+[\/:])*)/.source.replace("WC",zE),ute=/(WCOD+)?/.source.replace("WCOD",lte),dte=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",zE),fte=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",zE),hte=new RegExp("^"+cte+ute+dte+fte+"$"),pte=["material","materials","bones","map"];class mte{constructor(e,t,r){const i=r||rn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class rn{constructor(e,t,r){this.path=t,this.parsedPath=r||rn.parseTrackName(t),this.node=rn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new rn.Composite(e,t,r):new rn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ate,"")}static parseTrackName(e){const t=hte.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);pte.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=rn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}rn.Composite=mte;rn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};rn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};rn.prototype.GetterByBindingType=[rn.prototype._getValue_direct,rn.prototype._getValue_array,rn.prototype._getValue_arrayElement,rn.prototype._getValue_toArray];rn.prototype.SetterByBindingTypeAndVersioning=[[rn.prototype._setValue_direct,rn.prototype._setValue_direct_setNeedsUpdate,rn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[rn.prototype._setValue_array,rn.prototype._setValue_array_setNeedsUpdate,rn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[rn.prototype._setValue_arrayElement,rn.prototype._setValue_arrayElement_setNeedsUpdate,rn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[rn.prototype._setValue_fromArray,rn.prototype._setValue_fromArray_setNeedsUpdate,rn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class gte{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Qi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],g=p.uuid;let v=t[g];if(v===void 0){v=l++,t[g]=v,e.push(p);for(let y=0,x=o;y!==x;++y)s[y].push(new rn(p,r[y],i[y]))}else if(v<c){a=e[v];const y=--c,x=e[y];t[x.uuid]=v,e[v]=x,t[g]=y,e[y]=p;for(let b=0,_=o;b!==_;++b){const S=s[b],E=S[y];let C=S[v];S[v]=E,C===void 0&&(C=new rn(p,r[b],i[b])),S[y]=C}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=t[c];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[c]=h,e[h]=l;for(let g=0,v=i;g!==v;++g){const y=r[g],x=y[h],b=y[d];y[d]=x,y[h]=b}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,g=e[p],v=--o,y=e[v];t[g.uuid]=h,e[h]=g,t[y.uuid]=p,e[p]=y,e.pop();for(let x=0,b=i;x!==b;++x){const _=r[x],S=_[p],E=_[v];_[h]=S,_[p]=E,_.pop()}}else{const p=--o,g=e[p];p>0&&(t[g.uuid]=h),e[h]=g,e.pop();for(let v=0,y=i;v!==y;++v){const x=r[v];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,h=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(h);for(let p=d,g=l.length;p!==g;++p){const v=l[p];h[p]=new rn(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class vte{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Nc,endingEnd:Nc};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lj,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case uE:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case Lx:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===cj;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===aj){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=kc,i.endingEnd=kc):(e?i.endingStart=this.zeroSlopeAtStart?kc:Nc:i.endingStart=Zp,t?i.endingEnd=this.zeroSlopeAtEnd?kc:Nc:i.endingEnd=Zp)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const yte=new Float32Array(1);class xte extends Ea{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let h=0;h!==s;++h){const p=i[h],g=p.name;let v=d[g];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,g));continue}const y=t&&t._propertyBindings[h].binding.parsedPath;v=new mF(rn.create(r,g,y),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,g),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new RE(new Float32Array(2),new Float32Array(2),1,yte),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?rm.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Lx),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new vte(this,o,t,r);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?rm.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class BE{constructor(e){this.value=e}clone(){return new BE(this.value.clone===void 0?this.value:this.value.clone())}}let wte=0;class _te extends Ea{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:wte++}),this.name="",this.usage=qp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class bte extends Ux{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Ste{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class UE{constructor(e,t,r=0,i=1/0){this.ray=new Rf(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Xc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return c2(e,this,r,t),r.sort(rk),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)c2(e[i],this,r,t);return r.sort(rk),r}}function rk(n,e){return n.distance-e.distance}function c2(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)c2(i[s],e,t,!0)}}class Oy{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(ir(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Mte{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const ik=new Le;class Ete{constructor(e=new Le(1/0,1/0),t=new Le(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=ik.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ik.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const sk=new $,r0=new $;class Tte{constructor(e=new $,t=new $){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){sk.subVectors(e,this.start),r0.subVectors(this.end,this.start);const r=r0.dot(r0);let s=r0.dot(sk)/r;return t&&(s=ir(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const ok=new $;class Cte extends un{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Qt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new bt(i,3));const s=new Si({fog:!1,toneMapped:!1});this.cone=new Io(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),ok.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ok),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ha=new $,i0=new zt,D_=new zt;class Ate extends Io{constructor(e){const t=gF(e),r=new Qt,i=[],s=[],o=new ft(0,0,1),a=new ft(0,1,0);for(let c=0;c<t.length;c++){const d=t[c];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new bt(i,3)),r.setAttribute("color",new bt(s,3));const l=new Si({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");D_.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(i0.multiplyMatrices(D_,a.matrixWorld),Ha.setFromMatrixPosition(i0),i.setXYZ(o,Ha.x,Ha.y,Ha.z),i0.multiplyMatrices(D_,a.parent.matrixWorld),Ha.setFromMatrixPosition(i0),i.setXYZ(o+1,Ha.x,Ha.y,Ha.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function gF(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,gF(n.children[t]));return e}class Pte extends mr{constructor(e,t,r){const i=new jf(t,4,2),s=new Ta({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Nte=new $,ak=new ft,lk=new ft;class kte extends un{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Of(t);i.rotateY(Math.PI*.5),this.material=new Ta({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new _n(o,3)),this.add(new mr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");ak.copy(this.light.color),lk.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?ak:lk;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Nte.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Rte extends Io{constructor(e=10,t=10,r=4473924,i=8947848){r=new ft(r),i=new ft(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,g=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=p===s?r:i;y.toArray(c,g),g+=3,y.toArray(c,g),g+=3,y.toArray(c,g),g+=3,y.toArray(c,g),g+=3}const d=new Qt;d.setAttribute("position",new bt(l,3)),d.setAttribute("color",new bt(c,3));const h=new Si({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Lte extends Io{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new ft(s),o=new ft(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),g=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(g,0,v);const y=h&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let h=0;h<r;h++){const p=h&1?s:o,g=e-e/r*h;for(let v=0;v<i;v++){let y=v/i*(Math.PI*2),x=Math.sin(y)*g,b=Math.cos(y)*g;a.push(x,0,b),l.push(p.r,p.g,p.b),y=(v+1)/i*(Math.PI*2),x=Math.sin(y)*g,b=Math.cos(y)*g,a.push(x,0,b),l.push(p.r,p.g,p.b)}}const c=new Qt;c.setAttribute("position",new bt(a,3)),c.setAttribute("color",new bt(l,3));const d=new Si({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const ck=new $,s0=new $,uk=new $;class Ite extends un{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Qt;i.setAttribute("position",new bt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Si({fog:!1,toneMapped:!1});this.lightPlane=new Il(i,s),this.add(this.lightPlane),i=new Qt,i.setAttribute("position",new bt([0,0,0,0,0,1],3)),this.targetLine=new Il(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),ck.setFromMatrixPosition(this.light.matrixWorld),s0.setFromMatrixPosition(this.light.target.matrixWorld),uk.subVectors(s0,ck),this.lightPlane.lookAt(s0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(s0),this.targetLine.scale.z=uk.length()}}const o0=new $,Zn=new zm;class Dte extends Io{constructor(e){const t=new Qt,r=new Si({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){l(v),l(y)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new bt(i,3)),t.setAttribute("color",new bt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ft(16755200),d=new ft(16711680),h=new ft(43775),p=new ft(16777215),g=new ft(3355443);this.setColors(c,d,h,p,g)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Zn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),tr("c",t,e,Zn,0,0,-1),tr("t",t,e,Zn,0,0,1),tr("n1",t,e,Zn,-r,-i,-1),tr("n2",t,e,Zn,r,-i,-1),tr("n3",t,e,Zn,-r,i,-1),tr("n4",t,e,Zn,r,i,-1),tr("f1",t,e,Zn,-r,-i,1),tr("f2",t,e,Zn,r,-i,1),tr("f3",t,e,Zn,-r,i,1),tr("f4",t,e,Zn,r,i,1),tr("u1",t,e,Zn,r*.7,i*1.1,-1),tr("u2",t,e,Zn,-r*.7,i*1.1,-1),tr("u3",t,e,Zn,0,i*2,-1),tr("cf1",t,e,Zn,-r,0,1),tr("cf2",t,e,Zn,r,0,1),tr("cf3",t,e,Zn,0,-i,1),tr("cf4",t,e,Zn,0,i,1),tr("cn1",t,e,Zn,-r,0,-1),tr("cn2",t,e,Zn,r,0,-1),tr("cn3",t,e,Zn,0,-i,-1),tr("cn4",t,e,Zn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function tr(n,e,t,r,i,s,o){o0.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],o0.x,o0.y,o0.z)}}const a0=new gu;class Ote extends Io{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Qt;s.setIndex(new _n(r,1)),s.setAttribute("position",new _n(i,3)),super(s,new Si({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&a0.setFromObject(this.object),a0.isEmpty())return;const t=a0.min,r=a0.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class jte extends Io{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Qt;s.setIndex(new _n(r,1)),s.setAttribute("position",new bt(i,3)),super(s,new Si({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Fte extends Il{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Qt;o.setAttribute("position",new bt(s,3)),o.computeBoundingSphere(),super(o,new Si({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Qt;l.setAttribute("position",new bt(a,3)),l.computeBoundingSphere(),this.add(new mr(l,new Ta({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const dk=new $;let l0,O_;class zte extends un{constructor(e=new $(0,0,1),t=new $(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",l0===void 0&&(l0=new Qt,l0.setAttribute("position",new bt([0,0,0,0,1,0],3)),O_=new yu(0,.5,1,5,1),O_.translate(0,-.5,0)),this.position.copy(t),this.line=new Il(l0,new Si({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new mr(O_,new Ta({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{dk.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(dk,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Bte extends Io{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Qt;i.setAttribute("position",new bt(t,3)),i.setAttribute("color",new bt(r,3));const s=new Si({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new ft,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ute{constructor(){this.type="ShapePath",this.color=new ft,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Kp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const _=[];for(let S=0,E=b.length;S<E;S++){const C=b[S],P=new Kc;P.curves=C.curves,_.push(P)}return _}function r(b,_){const S=_.length;let E=!1;for(let C=S-1,P=0;P<S;C=P++){let I=_[C],T=_[P],k=T.x-I.x,O=T.y-I.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(I=_[P],k=-k,T=_[C],O=-O),b.y<I.y||b.y>T.y)continue;if(b.y===I.y){if(b.x===I.x)return!0}else{const U=O*(b.x-I.x)-k*(b.y-I.y);if(U===0)return!0;if(U<0)continue;E=!E}}else{if(b.y!==I.y)continue;if(T.x<=b.x&&b.x<=I.x||I.x<=b.x&&b.x<=T.x)return!0}}return E}const i=Co.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Kc,l.curves=a.curves,c.push(l),c;let d=!i(s[0].getPoints());d=e?!d:d;const h=[],p=[];let g=[],v=0,y;p[v]=void 0,g[v]=[];for(let b=0,_=s.length;b<_;b++)a=s[b],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!d&&p[v]&&v++,p[v]={s:new Kc,p:y},p[v].s.curves=a.curves,d&&v++,g[v]=[]):g[v].push({h:a,p:y[0]});if(!p[0])return t(s);if(p.length>1){let b=!1,_=0;for(let S=0,E=p.length;S<E;S++)h[S]=[];for(let S=0,E=p.length;S<E;S++){const C=g[S];for(let P=0;P<C.length;P++){const I=C[P];let T=!0;for(let k=0;k<p.length;k++)r(I.p,p[k].p)&&(S!==k&&_++,T?(T=!1,h[k].push(I)):b=!0);T&&h[S].push(I)}}_>0&&b===!1&&(g=h)}let x;for(let b=0,_=p.length;b<_;b++){l=p[b].s,c.push(l),x=g[b];for(let S=0,E=x.length;S<E;S++)l.holes.push(x[S].h)}return c}}const na=Vte();function Vte(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Wte(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=ir(n,-65504,65504),na.floatView[0]=n;const e=na.uint32View[0],t=e>>23&511;return na.baseTable[t]+((e&8388607)>>na.shiftTable[t])}function Hte(n){const e=n>>10;return na.uint32View[0]=na.mantissaTable[na.offsetTable[e]+(n&1023)]+na.exponentTable[e],na.floatView[0]}var Ic=Object.freeze({__proto__:null,fromHalfFloat:Hte,toHalfFloat:Wte});class Gte extends Zl{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class $te extends Vm{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class Zte extends Wm{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class qte extends Hm{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class Xte extends yu{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class Yte extends Gm{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class Kte extends $m{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class Qte extends Df{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class Jte extends If{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class ene extends Of{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class tne extends ql{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class nne extends Ca{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class rne extends Zm{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class ine extends qm{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class sne extends jf{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class one extends Xm{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class ane extends Ym{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class lne extends Km{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class cne extends Qm{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Nf}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Nf);const une=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:rE,AddEquation:Sc,AddOperation:GO,AdditiveAnimationBlendMode:uE,AdditiveBlending:Up,AlphaFormat:QO,AlwaysDepth:FO,AlwaysStencilFunc:hj,AmbientLight:cF,AmbientLightProbe:ete,AnimationClip:rm,AnimationLoader:Wee,AnimationMixer:xte,AnimationObjectGroup:gte,AnimationUtils:zee,ArcCurve:Dj,ArrayCamera:Ej,ArrowHelper:zte,Audio:pF,AudioAnalyser:ote,AudioContext:OE,AudioListener:rte,AudioLoader:Qee,AxesHelper:Bte,BackSide:Ii,BasicDepthPacking:uj,BasicShadowMap:MO,Bone:_E,BooleanKeyframeTrack:xu,Box2:Ete,Box3:gu,Box3Helper:jte,BoxBufferGeometry:Gte,BoxGeometry:Zl,BoxHelper:Ote,BufferAttribute:_n,BufferGeometry:Qt,BufferGeometryLoader:hF,ByteType:sE,Cache:lu,Camera:zm,CameraHelper:Dte,CanvasTexture:cee,CapsuleBufferGeometry:$te,CapsuleGeometry:Vm,CatmullRomCurve3:Oj,CineonToneMapping:qO,CircleBufferGeometry:Zte,CircleGeometry:Wm,ClampToEdgeWrapping:jn,Clock:jE,Color:ft,ColorKeyframeTrack:LE,ColorManagement:Yr,CompressedArrayTexture:lee,CompressedTexture:bE,CompressedTextureLoader:Hee,ConeBufferGeometry:qte,ConeGeometry:Hm,CubeCamera:gE,CubeReflectionMapping:_a,CubeRefractionMapping:kl,CubeTexture:Bm,CubeTextureLoader:iF,CubeUVReflectionMapping:kf,CubicBezierCurve:ME,CubicBezierCurve3:jj,CubicInterpolant:tF,CullFaceBack:ES,CullFaceFront:SO,CullFaceFrontBack:fq,CullFaceNone:bO,Curve:so,CurvePath:zj,CustomBlending:EO,CustomToneMapping:XO,CylinderBufferGeometry:Xte,CylinderGeometry:yu,Cylindrical:Mte,Data3DTexture:hE,DataArrayTexture:Ix,DataTexture:Yc,DataTextureLoader:IE,DataUtils:Ic,DecrementStencilOp:Mq,DecrementWrapStencilOp:Tq,DefaultLoadingManager:Rd,DepthFormat:_l,DepthStencilFormat:su,DepthTexture:Tj,DirectionalLight:lF,DirectionalLightHelper:Ite,DiscreteInterpolant:nF,DodecahedronBufferGeometry:Yte,DodecahedronGeometry:Gm,DoubleSide:Gs,DstAlphaFactor:RO,DstColorFactor:IO,DynamicCopyUsage:Bq,DynamicDrawUsage:$c,DynamicReadUsage:jq,EdgesGeometry:Bj,EllipseCurve:Hx,EqualDepth:BO,EqualStencilFunc:Nq,EquirectangularReflectionMapping:pf,EquirectangularRefractionMapping:Vp,Euler:Fm,EventDispatcher:Ea,ExtrudeBufferGeometry:Kte,ExtrudeGeometry:$m,FileLoader:Ji,Float16BufferAttribute:_X,Float32BufferAttribute:bt,Float64BufferAttribute:bX,FloatType:Lr,Fog:Bx,FogExp2:zx,FramebufferTexture:aee,FrontSide:wa,Frustum:Ox,GLBufferAttribute:Ste,GLSL1:Vq,GLSL3:e2,GreaterDepth:VO,GreaterEqualDepth:UO,GreaterEqualStencilFunc:Iq,GreaterStencilFunc:Rq,GridHelper:Rte,Group:Nd,HalfFloatType:Ir,HemisphereLight:sF,HemisphereLightHelper:kte,HemisphereLightProbe:Jee,IcosahedronBufferGeometry:Qte,IcosahedronGeometry:Df,ImageBitmapLoader:Kee,ImageLoader:im,ImageUtils:fE,IncrementStencilOp:Sq,IncrementWrapStencilOp:Eq,InstancedBufferAttribute:gf,InstancedBufferGeometry:fF,InstancedInterleavedBuffer:bte,InstancedMesh:Rj,Int16BufferAttribute:xX,Int32BufferAttribute:wX,Int8BufferAttribute:gX,IntType:lE,InterleavedBuffer:Ux,InterleavedBufferAttribute:ou,Interpolant:Jm,InterpolateDiscrete:Gp,InterpolateLinear:$p,InterpolateSmooth:j0,InvertStencilOp:Cq,KeepStencilOp:F0,KeyframeTrack:oo,LOD:Nj,LatheBufferGeometry:Jte,LatheGeometry:If,Layers:Xc,LessDepth:zO,LessEqualDepth:Ry,LessEqualStencilFunc:kq,LessStencilFunc:Pq,Light:Xl,LightProbe:qx,Line:Il,Line3:Tte,LineBasicMaterial:Si,LineCurve:Gx,LineCurve3:Fj,LineDashedMaterial:Jj,LineLoop:Lj,LineSegments:Io,LinearEncoding:Ll,LinearFilter:dn,LinearInterpolant:RE,LinearMipMapLinearFilter:NS,LinearMipMapNearestFilter:gq,LinearMipmapLinearFilter:Rl,LinearMipmapNearestFilter:iE,LinearSRGBColorSpace:ba,LinearToneMapping:$O,Loader:Fi,LoaderUtils:l2,LoadingManager:Zx,LoopOnce:aj,LoopPingPong:cj,LoopRepeat:lj,LuminanceAlphaFormat:ej,LuminanceFormat:JO,MOUSE:wc,Material:oi,MaterialLoader:Xx,MathUtils:nX,Matrix3:yi,Matrix4:zt,MaxEquation:PS,Mesh:mr,MeshBasicMaterial:Ta,MeshDepthMaterial:yE,MeshDistanceMaterial:xE,MeshLambertMaterial:Kj,MeshMatcapMaterial:Qj,MeshNormalMaterial:Yj,MeshPhongMaterial:qj,MeshPhysicalMaterial:Zj,MeshStandardMaterial:PE,MeshToonMaterial:Xj,MinEquation:AS,MirroredRepeatWrapping:Hp,MixOperation:HO,MultiplyBlending:CS,MultiplyOperation:jm,NearestFilter:nr,NearestMipMapLinearFilter:mq,NearestMipMapNearestFilter:pq,NearestMipmapLinearFilter:lp,NearestMipmapNearestFilter:Ly,NeverDepth:jO,NeverStencilFunc:Aq,NoBlending:To,NoColorSpace:wq,NoToneMapping:Xs,NormalAnimationBlendMode:Lx,NormalBlending:Hc,NotEqualDepth:WO,NotEqualStencilFunc:Lq,NumberKeyframeTrack:tm,Object3D:un,ObjectLoader:Xee,ObjectSpaceNormalMap:fj,OctahedronBufferGeometry:ene,OctahedronGeometry:Of,OneFactor:PO,OneMinusDstAlphaFactor:LO,OneMinusDstColorFactor:DO,OneMinusSrcAlphaFactor:nE,OneMinusSrcColorFactor:kO,OrthographicCamera:Ys,PCFShadowMap:Rx,PCFSoftShadowMap:ap,PMREMGenerator:n2,Path:Kp,PerspectiveCamera:Un,Plane:ta,PlaneBufferGeometry:tne,PlaneGeometry:ql,PlaneHelper:Fte,PointLight:aF,PointLightHelper:Pte,Points:Ij,PointsMaterial:Wx,PolarGridHelper:Lte,PolyhedronBufferGeometry:nne,PolyhedronGeometry:Ca,PositionalAudio:ste,PropertyBinding:rn,PropertyMixer:mF,QuadraticBezierCurve:EE,QuadraticBezierCurve3:TE,Quaternion:ri,QuaternionKeyframeTrack:Ff,QuaternionLinearInterpolant:rF,RED_GREEN_RGTC2_Format:QS,RED_RGTC1_Format:oj,REVISION:Nf,RGBADepthPacking:dj,RGBAFormat:br,RGBAIntegerFormat:ij,RGBA_ASTC_10x10_Format:qS,RGBA_ASTC_10x5_Format:GS,RGBA_ASTC_10x6_Format:$S,RGBA_ASTC_10x8_Format:ZS,RGBA_ASTC_12x10_Format:XS,RGBA_ASTC_12x12_Format:YS,RGBA_ASTC_4x4_Format:jS,RGBA_ASTC_5x4_Format:FS,RGBA_ASTC_5x5_Format:zS,RGBA_ASTC_6x5_Format:BS,RGBA_ASTC_6x6_Format:US,RGBA_ASTC_8x5_Format:VS,RGBA_ASTC_8x6_Format:WS,RGBA_ASTC_8x8_Format:HS,RGBA_BPTC_Format:O0,RGBA_ETC2_EAC_Format:OS,RGBA_PVRTC_2BPPV1_Format:IS,RGBA_PVRTC_4BPPV1_Format:LS,RGBA_S3TC_DXT1_Format:L0,RGBA_S3TC_DXT3_Format:I0,RGBA_S3TC_DXT5_Format:D0,RGB_ETC1_Format:sj,RGB_ETC2_Format:DS,RGB_PVRTC_2BPPV1_Format:RS,RGB_PVRTC_4BPPV1_Format:kS,RGB_S3TC_DXT1_Format:R0,RGFormat:nj,RGIntegerFormat:rj,RawShaderMaterial:$j,Ray:Rf,Raycaster:UE,RectAreaLight:uF,RedFormat:cE,RedIntegerFormat:tj,ReinhardToneMapping:ZO,RepeatWrapping:Wp,ReplaceStencilOp:bq,ReverseSubtractEquation:CO,RingBufferGeometry:rne,RingGeometry:Zm,SIGNED_RED_GREEN_RGTC2_Format:JS,SIGNED_RED_RGTC1_Format:KS,SRGBColorSpace:ws,Scene:Um,ShaderChunk:Zt,ShaderLib:Ws,ShaderMaterial:ji,ShadowMaterial:Gj,Shape:Kc,ShapeBufferGeometry:ine,ShapeGeometry:qm,ShapePath:Ute,ShapeUtils:Co,ShortType:oE,Skeleton:Vx,SkeletonHelper:Ate,SkinnedMesh:kj,Source:Rc,Sphere:vu,SphereBufferGeometry:sne,SphereGeometry:jf,Spherical:Oy,SphericalHarmonics3:dF,SplineCurve:CE,SpotLight:oF,SpotLightHelper:Cte,Sprite:Pj,SpriteMaterial:wE,SrcAlphaFactor:tE,SrcAlphaSaturateFactor:OO,SrcColorFactor:NO,StaticCopyUsage:zq,StaticDrawUsage:qp,StaticReadUsage:Oq,StereoCamera:tte,StreamCopyUsage:Uq,StreamDrawUsage:Dq,StreamReadUsage:Fq,StringKeyframeTrack:wu,SubtractEquation:TO,SubtractiveBlending:TS,TOUCH:_c,TangentSpaceNormalMap:$l,TetrahedronBufferGeometry:one,TetrahedronGeometry:Xm,Texture:Mn,TextureLoader:Gee,TorusBufferGeometry:ane,TorusGeometry:Ym,TorusKnotBufferGeometry:lne,TorusKnotGeometry:Km,Triangle:Ms,TriangleFanDrawMode:xq,TriangleStripDrawMode:yq,TrianglesDrawMode:vq,TubeBufferGeometry:cne,TubeGeometry:Qm,TwoPassDoubleSide:hq,UVMapping:Nl,Uint16BufferAttribute:pE,Uint32BufferAttribute:mE,Uint8BufferAttribute:vX,Uint8ClampedBufferAttribute:yX,Uniform:BE,UniformsGroup:_te,UniformsLib:nt,UniformsUtils:yj,UnsignedByteType:Ns,UnsignedInt248Type:Gc,UnsignedIntType:oa,UnsignedShort4444Type:YO,UnsignedShort5551Type:KO,UnsignedShortType:aE,VSMShadowMap:Pc,Vector2:Le,Vector3:$,Vector4:yn,VectorKeyframeTrack:nm,VideoTexture:oee,WebGL1Renderer:Cj,WebGL3DRenderTarget:oX,WebGLArrayRenderTarget:sX,WebGLCubeRenderTarget:Dx,WebGLMultipleRenderTargets:aX,WebGLRenderTarget:rs,WebGLRenderer:Fx,WebGLUtils:Mj,WireframeGeometry:Hj,WrapAroundEnding:Zp,ZeroCurvatureEnding:Nc,ZeroFactor:AO,ZeroSlopeEnding:kc,ZeroStencilOp:_q,_SRGBAFormat:Iy,sRGBEncoding:En},Symbol.toStringTag,{value:"Module"}));var vF={exports:{}},_u={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */_u.ConcurrentRoot=1;_u.ContinuousEventPriority=4;_u.DefaultEventPriority=16;_u.DiscreteEventPriority=1;_u.IdleEventPriority=536870912;_u.LegacyRoot=0;vF.exports=_u;var Ld=vF.exports;function dne(n){let e;const t=new Set,r=(c,d)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(g=>g(e,p))}},i=()=>e,s=(c,d=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function g(){const v=d(e);if(!h(p,v)){const y=p;c(p=v,y)}}return t.add(g),()=>t.delete(g)},l={setState:r,getState:i,subscribe:(c,d,h)=>d||h?s(c,d,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const fne=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),fk=fne?N.useEffect:N.useLayoutEffect;function yF(n){const e=typeof n=="function"?dne(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=N.useReducer(x=>x+1,0),o=e.getState(),a=N.useRef(o),l=N.useRef(r),c=N.useRef(i),d=N.useRef(!1),h=N.useRef();h.current===void 0&&(h.current=r(o));let p,g=!1;(a.current!==o||l.current!==r||c.current!==i||d.current)&&(p=r(o),g=!i(h.current,p)),fk(()=>{g&&(h.current=p),a.current=o,l.current=r,c.current=i,d.current=!1});const v=N.useRef(o);fk(()=>{const x=()=>{try{const _=e.getState(),S=l.current(_);c.current(h.current,S)||(a.current=_,h.current=S,s())}catch{d.current=!0,s()}},b=e.subscribe(x);return e.getState()!==v.current&&x(),b},[]);const y=g?p:h.current;return N.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const hne=n=>typeof n=="object"&&typeof n.then=="function",Dc=[];function xF(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function wF(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Dc)if(xF(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Dc.indexOf(i);s!==-1&&Dc.splice(s,1)},promise:(hne(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Dc.push(i),!t)throw i.promise}const pne=(n,e,t)=>wF(n,e,!1,t),mne=(n,e,t)=>void wF(n,e,!0,t),gne=n=>{if(n===void 0||n.length===0)Dc.splice(0,Dc.length);else{const e=Dc.find(t=>xF(n,t.keys,t.equal));e&&e.remove()}};var _F={exports:{}},j_={exports:{}},F_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk;function vne(){return hk||(hk=1,function(n){function e(D,W){var G=D.length;D.push(W);e:for(;0<G;){var J=G-1>>>1,Z=D[J];if(0<i(Z,W))D[J]=W,D[G]=Z,G=J;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var W=D[0],G=D.pop();if(G!==W){D[0]=G;e:for(var J=0,Z=D.length,oe=Z>>>1;J<oe;){var we=2*(J+1)-1,Ae=D[we],re=we+1,Ve=D[re];if(0>i(Ae,G))re<Z&&0>i(Ve,Ae)?(D[J]=Ve,D[re]=G,J=re):(D[J]=Ae,D[we]=G,J=we);else if(re<Z&&0>i(Ve,G))D[J]=Ve,D[re]=G,J=re;else break e}}return W}function i(D,W){var G=D.sortIndex-W.sortIndex;return G!==0?G:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var W=t(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=D)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(c)}}function E(D){if(y=!1,S(D),!v)if(t(l)!==null)v=!0,K(C);else{var W=t(c);W!==null&&le(E,W.startTime-D)}}function C(D,W){v=!1,y&&(y=!1,b(T),T=-1),g=!0;var G=p;try{for(S(W),h=t(l);h!==null&&(!(h.expirationTime>W)||D&&!U());){var J=h.callback;if(typeof J=="function"){h.callback=null,p=h.priorityLevel;var Z=J(h.expirationTime<=W);W=n.unstable_now(),typeof Z=="function"?h.callback=Z:h===t(l)&&r(l),S(W)}else r(l);h=t(l)}if(h!==null)var oe=!0;else{var we=t(c);we!==null&&le(E,we.startTime-W),oe=!1}return oe}finally{h=null,p=G,g=!1}}var P=!1,I=null,T=-1,k=5,O=-1;function U(){return!(n.unstable_now()-O<k)}function H(){if(I!==null){var D=n.unstable_now();O=D;var W=!0;try{W=I(!0,D)}finally{W?V():(P=!1,I=null)}}else P=!1}var V;if(typeof _=="function")V=function(){_(H)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ee=z.port2;z.port1.onmessage=H,V=function(){ee.postMessage(null)}}else V=function(){x(H,0)};function K(D){I=D,P||(P=!0,V())}function le(D,W){T=x(function(){D(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,K(C))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var G=p;p=W;try{return D()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=p;p=D;try{return W()}finally{p=G}},n.unstable_scheduleCallback=function(D,W,G){var J=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=G+Z,D={id:d++,callback:W,priorityLevel:D,startTime:G,expirationTime:Z,sortIndex:-1},G>J?(D.sortIndex=G,e(c,D),t(l)===null&&D===t(c)&&(y?(b(T),T=-1):y=!0,le(E,G-J))):(D.sortIndex=Z,e(l,D),v||g||(v=!0,K(C))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var W=p;return function(){var G=p;p=W;try{return D.apply(this,arguments)}finally{p=G}}}}(F_)),F_}var pk;function yne(){return pk||(pk=1,j_.exports=vne()),j_.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xne=function(e){var t={},r=N,i=yne(),s=Object.assign;function o(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,w=1;w<arguments.length;w++)f+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),C=Symbol.iterator;function P(u){return u===null||typeof u!="object"?null:(u=C&&u[C]||u["@@iterator"],typeof u=="function"?u:null)}function I(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case b:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case v:return(u.displayName||"Context")+".Consumer";case g:return(u._context.displayName||"Context")+".Provider";case y:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case _:return f=u.displayName||null,f!==null?f:I(u.type)||"Memo";case S:f=u._payload,u=u._init;try{return I(u(f))}catch{}}return null}function T(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function k(u){var f=u,w=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(w=f.return),u=f.return;while(u)}return f.tag===3?w:null}function O(u){if(k(u)!==u)throw Error(o(188))}function U(u){var f=u.alternate;if(!f){if(f=k(u),f===null)throw Error(o(188));return f!==u?null:u}for(var w=u,M=f;;){var A=w.return;if(A===null)break;var R=A.alternate;if(R===null){if(M=A.return,M!==null){w=M;continue}break}if(A.child===R.child){for(R=A.child;R;){if(R===w)return O(A),u;if(R===M)return O(A),f;R=R.sibling}throw Error(o(188))}if(w.return!==M.return)w=A,M=R;else{for(var Y=!1,ce=A.child;ce;){if(ce===w){Y=!0,w=A,M=R;break}if(ce===M){Y=!0,M=A,w=R;break}ce=ce.sibling}if(!Y){for(ce=R.child;ce;){if(ce===w){Y=!0,w=R,M=A;break}if(ce===M){Y=!0,M=R,w=A;break}ce=ce.sibling}if(!Y)throw Error(o(189))}}if(w.alternate!==M)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?u:f}function H(u){return u=U(u),u!==null?V(u):null}function V(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=V(u);if(f!==null)return f;u=u.sibling}return null}function z(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=z(u);if(f!==null)return f}u=u.sibling}return null}var ee=Array.isArray,K=e.getPublicInstance,le=e.getRootHostContext,D=e.getChildHostContext,W=e.prepareForCommit,G=e.resetAfterCommit,J=e.createInstance,Z=e.appendInitialChild,oe=e.finalizeInitialChildren,we=e.prepareUpdate,Ae=e.shouldSetTextContent,re=e.createTextInstance,Ve=e.scheduleTimeout,Ge=e.cancelTimeout,et=e.noTimeout,De=e.isPrimaryRenderer,He=e.supportsMutation,be=e.supportsPersistence,ye=e.supportsHydration,Ue=e.getInstanceFromNode,it=e.preparePortalMount,qe=e.getCurrentEventPriority,wt=e.detachDeletedInstance,X=e.supportsMicrotasks,ie=e.scheduleMicrotask,fe=e.supportsTestSelectors,Fe=e.findFiberRoot,B=e.getBoundingRect,j=e.getTextContent,ae=e.isHiddenSubtree,_e=e.matchAccessibilityRole,Oe=e.setFocusIfFocusable,je=e.setupIntersectionObserver,pt=e.appendChild,Je=e.appendChildToContainer,Te=e.commitTextUpdate,mt=e.commitMount,St=e.commitUpdate,ot=e.insertBefore,at=e.insertInContainerBefore,dt=e.removeChild,se=e.removeChildFromContainer,Ne=e.resetTextContent,Ce=e.hideInstance,te=e.hideTextInstance,ne=e.unhideInstance,Re=e.unhideTextInstance,Ye=e.clearContainer,gt=e.cloneInstance,Wt=e.createContainerChildSet,nn=e.appendChildToContainerChildSet,fn=e.finalizeContainerChildren,Cr=e.replaceContainerChildren,en=e.cloneHiddenInstance,lr=e.cloneHiddenTextInstance,Jn=e.canHydrateInstance,Su=e.canHydrateTextInstance,zf=e.canHydrateSuspenseInstance,Do=e.isSuspenseInstancePending,Yl=e.isSuspenseInstanceFallback,q=e.registerSuspenseInstanceRetry,ge=e.getNextHydratableSibling,ve=e.getFirstHydratableChild,me=e.getFirstHydratableChildWithinContainer,ke=e.getFirstHydratableChildWithinSuspenseInstance,L=e.hydrateInstance,F=e.hydrateTextInstance,Q=e.hydrateSuspenseInstance,ue=e.getNextHydratableInstanceAfterSuspenseInstance,pe=e.commitHydratedContainer,he=e.commitHydratedSuspenseInstance,Pe=e.clearSuspenseBoundary,Ie=e.clearSuspenseBoundaryFromContainer,We=e.shouldDeleteUnhydratedTailInstances,$e=e.didNotMatchHydratedContainerTextInstance,Ke=e.didNotMatchHydratedTextInstance,Be;function yt(u){if(Be===void 0)try{throw Error()}catch(w){var f=w.stack.trim().match(/\n( *(at )?)/);Be=f&&f[1]||""}return`
`+Be+u}var xt=!1;function rt(u,f){if(!u||xt)return"";xt=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Qe){var M=Qe}Reflect.construct(u,[],f)}else{try{f.call()}catch(Qe){M=Qe}u.call(f.prototype)}else{try{throw Error()}catch(Qe){M=Qe}u()}}catch(Qe){if(Qe&&M&&typeof Qe.stack=="string"){for(var A=Qe.stack.split(`
`),R=M.stack.split(`
`),Y=A.length-1,ce=R.length-1;1<=Y&&0<=ce&&A[Y]!==R[ce];)ce--;for(;1<=Y&&0<=ce;Y--,ce--)if(A[Y]!==R[ce]){if(Y!==1||ce!==1)do if(Y--,ce--,0>ce||A[Y]!==R[ce]){var Me=`
`+A[Y].replace(" at new "," at ");return u.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",u.displayName)),Me}while(1<=Y&&0<=ce);break}}}finally{xt=!1,Error.prepareStackTrace=w}return(u=u?u.displayName||u.name:"")?yt(u):""}var At=Object.prototype.hasOwnProperty,Dt=[],Ht=-1;function Xt(u){return{current:u}}function _t(u){0>Ht||(u.current=Dt[Ht],Dt[Ht]=null,Ht--)}function kt(u,f){Ht++,Dt[Ht]=u.current,u.current=f}var Yt={},Ut=Xt(Yt),Ot=Xt(!1),wn=Yt;function gr(u,f){var w=u.type.contextTypes;if(!w)return Yt;var M=u.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===f)return M.__reactInternalMemoizedMaskedChildContext;var A={},R;for(R in w)A[R]=f[R];return M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=A),A}function cr(u){return u=u.childContextTypes,u!=null}function Or(){_t(Ot),_t(Ut)}function hn(u,f,w){if(Ut.current!==Yt)throw Error(o(168));kt(Ut,f),kt(Ot,w)}function vr(u,f,w){var M=u.stateNode;if(f=f.childContextTypes,typeof M.getChildContext!="function")return w;M=M.getChildContext();for(var A in M)if(!(A in f))throw Error(o(108,T(u)||"Unknown",A));return s({},w,M)}function vn(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Yt,wn=Ut.current,kt(Ut,u),kt(Ot,Ot.current),!0}function on(u,f,w){var M=u.stateNode;if(!M)throw Error(o(169));w?(u=vr(u,f,wn),M.__reactInternalMemoizedMergedChildContext=u,_t(Ot),_t(Ut),kt(Ut,u)):_t(Ot),kt(Ot,w)}var In=Math.clz32?Math.clz32:ao,Oo=Math.log,ai=Math.LN2;function ao(u){return u>>>=0,u===0?32:31-(Oo(u)/ai|0)|0}var sg=64,og=4194304;function Bf(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function ag(u,f){var w=u.pendingLanes;if(w===0)return 0;var M=0,A=u.suspendedLanes,R=u.pingedLanes,Y=w&268435455;if(Y!==0){var ce=Y&~A;ce!==0?M=Bf(ce):(R&=Y,R!==0&&(M=Bf(R)))}else Y=w&~A,Y!==0?M=Bf(Y):R!==0&&(M=Bf(R));if(M===0)return 0;if(f!==0&&f!==M&&!(f&A)&&(A=M&-M,R=f&-f,A>=R||A===16&&(R&4194240)!==0))return f;if(M&4&&(M|=w&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=M;0<f;)w=31-In(f),A=1<<w,M|=u[w],f&=~A;return M}function w5(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _5(u,f){for(var w=u.suspendedLanes,M=u.pingedLanes,A=u.expirationTimes,R=u.pendingLanes;0<R;){var Y=31-In(R),ce=1<<Y,Me=A[Y];Me===-1?(!(ce&w)||ce&M)&&(A[Y]=w5(ce,f)):Me<=f&&(u.expiredLanes|=ce),R&=~ce}}function o1(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function a1(u){for(var f=[],w=0;31>w;w++)f.push(u);return f}function Uf(u,f,w){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-In(f),u[f]=w}function b5(u,f){var w=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var M=u.eventTimes;for(u=u.expirationTimes;0<w;){var A=31-In(w),R=1<<A;f[A]=0,M[A]=-1,u[A]=-1,w&=~R}}function l1(u,f){var w=u.entangledLanes|=f;for(u=u.entanglements;w;){var M=31-In(w),A=1<<M;A&f|u[M]&f&&(u[M]|=f),w&=~A}}var an=0;function yT(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var c1=i.unstable_scheduleCallback,xT=i.unstable_cancelCallback,S5=i.unstable_shouldYield,M5=i.unstable_requestPaint,Ar=i.unstable_now,u1=i.unstable_ImmediatePriority,E5=i.unstable_UserBlockingPriority,d1=i.unstable_NormalPriority,T5=i.unstable_IdlePriority,lg=null,lo=null;function C5(u){if(lo&&typeof lo.onCommitFiberRoot=="function")try{lo.onCommitFiberRoot(lg,u,void 0,(u.current.flags&128)===128)}catch{}}function A5(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var co=typeof Object.is=="function"?Object.is:A5,jo=null,cg=!1,f1=!1;function wT(u){jo===null?jo=[u]:jo.push(u)}function P5(u){cg=!0,wT(u)}function uo(){if(!f1&&jo!==null){f1=!0;var u=0,f=an;try{var w=jo;for(an=1;u<w.length;u++){var M=w[u];do M=M(!0);while(M!==null)}jo=null,cg=!1}catch(A){throw jo!==null&&(jo=jo.slice(u+1)),c1(u1,uo),A}finally{an=f,f1=!1}}return null}var N5=a.ReactCurrentBatchConfig;function ug(u,f){if(co(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var w=Object.keys(u),M=Object.keys(f);if(w.length!==M.length)return!1;for(M=0;M<w.length;M++){var A=w[M];if(!At.call(f,A)||!co(u[A],f[A]))return!1}return!0}function k5(u){switch(u.tag){case 5:return yt(u.type);case 16:return yt("Lazy");case 13:return yt("Suspense");case 19:return yt("SuspenseList");case 0:case 2:case 15:return u=rt(u.type,!1),u;case 11:return u=rt(u.type.render,!1),u;case 1:return u=rt(u.type,!0),u;default:return""}}function ks(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var w in u)f[w]===void 0&&(f[w]=u[w]);return f}return f}var dg=Xt(null),fg=null,Mu=null,h1=null;function p1(){h1=Mu=fg=null}function _T(u,f,w){De?(kt(dg,f._currentValue),f._currentValue=w):(kt(dg,f._currentValue2),f._currentValue2=w)}function m1(u){var f=dg.current;_t(dg),De?u._currentValue=f:u._currentValue2=f}function g1(u,f,w){for(;u!==null;){var M=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),u===w)break;u=u.return}}function Eu(u,f){fg=u,h1=Mu=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(Ui=!0),u.firstContext=null)}function os(u){var f=De?u._currentValue:u._currentValue2;if(h1!==u)if(u={context:u,memoizedValue:f,next:null},Mu===null){if(fg===null)throw Error(o(308));Mu=u,fg.dependencies={lanes:0,firstContext:u}}else Mu=Mu.next=u;return f}var fo=null,Pa=!1;function v1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bT(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Fo(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function Na(u,f){var w=u.updateQueue;w!==null&&(w=w.shared,ur!==null&&u.mode&1&&!(Kt&2)?(u=w.interleaved,u===null?(f.next=f,fo===null?fo=[w]:fo.push(w)):(f.next=u.next,u.next=f),w.interleaved=f):(u=w.pending,u===null?f.next=f:(f.next=u.next,u.next=f),w.pending=f))}function hg(u,f,w){if(f=f.updateQueue,f!==null&&(f=f.shared,(w&4194240)!==0)){var M=f.lanes;M&=u.pendingLanes,w|=M,f.lanes=w,l1(u,w)}}function ST(u,f){var w=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,w===M)){var A=null,R=null;if(w=w.firstBaseUpdate,w!==null){do{var Y={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};R===null?A=R=Y:R=R.next=Y,w=w.next}while(w!==null);R===null?A=R=f:R=R.next=f}else A=R=f;w={baseState:M.baseState,firstBaseUpdate:A,lastBaseUpdate:R,shared:M.shared,effects:M.effects},u.updateQueue=w;return}u=w.lastBaseUpdate,u===null?w.firstBaseUpdate=f:u.next=f,w.lastBaseUpdate=f}function pg(u,f,w,M){var A=u.updateQueue;Pa=!1;var R=A.firstBaseUpdate,Y=A.lastBaseUpdate,ce=A.shared.pending;if(ce!==null){A.shared.pending=null;var Me=ce,Qe=Me.next;Me.next=null,Y===null?R=Qe:Y.next=Qe,Y=Me;var vt=u.alternate;vt!==null&&(vt=vt.updateQueue,ce=vt.lastBaseUpdate,ce!==Y&&(ce===null?vt.firstBaseUpdate=Qe:ce.next=Qe,vt.lastBaseUpdate=Me))}if(R!==null){var jt=A.baseState;Y=0,vt=Qe=Me=null,ce=R;do{var Pt=ce.lane,bn=ce.eventTime;if((M&Pt)===Pt){vt!==null&&(vt=vt.next={eventTime:bn,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var Tt=u,Gr=ce;switch(Pt=f,bn=w,Gr.tag){case 1:if(Tt=Gr.payload,typeof Tt=="function"){jt=Tt.call(bn,jt,Pt);break e}jt=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Gr.payload,Pt=typeof Tt=="function"?Tt.call(bn,jt,Pt):Tt,Pt==null)break e;jt=s({},jt,Pt);break e;case 2:Pa=!0}}ce.callback!==null&&ce.lane!==0&&(u.flags|=64,Pt=A.effects,Pt===null?A.effects=[ce]:Pt.push(ce))}else bn={eventTime:bn,lane:Pt,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},vt===null?(Qe=vt=bn,Me=jt):vt=vt.next=bn,Y|=Pt;if(ce=ce.next,ce===null){if(ce=A.shared.pending,ce===null)break;Pt=ce,ce=Pt.next,Pt.next=null,A.lastBaseUpdate=Pt,A.shared.pending=null}}while(!0);if(vt===null&&(Me=jt),A.baseState=Me,A.firstBaseUpdate=Qe,A.lastBaseUpdate=vt,f=A.shared.interleaved,f!==null){A=f;do Y|=A.lane,A=A.next;while(A!==f)}else R===null&&(A.shared.lanes=0);Iu|=Y,u.lanes=Y,u.memoizedState=jt}}function MT(u,f,w){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var M=u[f],A=M.callback;if(A!==null){if(M.callback=null,M=w,typeof A!="function")throw Error(o(191,A));A.call(M)}}}var ET=new r.Component().refs;function y1(u,f,w,M){f=u.memoizedState,w=w(M,f),w=w==null?f:s({},f,w),u.memoizedState=w,u.lanes===0&&(u.updateQueue.baseState=w)}var mg={isMounted:function(u){return(u=u._reactInternals)?k(u)===u:!1},enqueueSetState:function(u,f,w){u=u._reactInternals;var M=ci(),A=La(u),R=Fo(M,A);R.payload=f,w!=null&&(R.callback=w),Na(u,R),f=ds(u,A,M),f!==null&&hg(f,u,A)},enqueueReplaceState:function(u,f,w){u=u._reactInternals;var M=ci(),A=La(u),R=Fo(M,A);R.tag=1,R.payload=f,w!=null&&(R.callback=w),Na(u,R),f=ds(u,A,M),f!==null&&hg(f,u,A)},enqueueForceUpdate:function(u,f){u=u._reactInternals;var w=ci(),M=La(u),A=Fo(w,M);A.tag=2,f!=null&&(A.callback=f),Na(u,A),f=ds(u,M,w),f!==null&&hg(f,u,M)}};function TT(u,f,w,M,A,R,Y){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,R,Y):f.prototype&&f.prototype.isPureReactComponent?!ug(w,M)||!ug(A,R):!0}function CT(u,f,w){var M=!1,A=Yt,R=f.contextType;return typeof R=="object"&&R!==null?R=os(R):(A=cr(f)?wn:Ut.current,M=f.contextTypes,R=(M=M!=null)?gr(u,A):Yt),f=new f(w,R),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mg,u.stateNode=f,f._reactInternals=u,M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=A,u.__reactInternalMemoizedMaskedChildContext=R),f}function AT(u,f,w,M){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(w,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(w,M),f.state!==u&&mg.enqueueReplaceState(f,f.state,null)}function x1(u,f,w,M){var A=u.stateNode;A.props=w,A.state=u.memoizedState,A.refs=ET,v1(u);var R=f.contextType;typeof R=="object"&&R!==null?A.context=os(R):(R=cr(f)?wn:Ut.current,A.context=gr(u,R)),A.state=u.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(y1(u,f,R,w),A.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(f=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),f!==A.state&&mg.enqueueReplaceState(A,A.state,null),pg(u,w,A,M),A.state=u.memoizedState),typeof A.componentDidMount=="function"&&(u.flags|=4194308)}var Tu=[],Cu=0,gg=null,vg=0,as=[],ls=0,Kl=null,zo=1,Bo="";function Ql(u,f){Tu[Cu++]=vg,Tu[Cu++]=gg,gg=u,vg=f}function PT(u,f,w){as[ls++]=zo,as[ls++]=Bo,as[ls++]=Kl,Kl=u;var M=zo;u=Bo;var A=32-In(M)-1;M&=~(1<<A),w+=1;var R=32-In(f)+A;if(30<R){var Y=A-A%5;R=(M&(1<<Y)-1).toString(32),M>>=Y,A-=Y,zo=1<<32-In(f)+A|w<<A|M,Bo=R+u}else zo=1<<R|w<<A|M,Bo=u}function w1(u){u.return!==null&&(Ql(u,1),PT(u,1,0))}function _1(u){for(;u===gg;)gg=Tu[--Cu],Tu[Cu]=null,vg=Tu[--Cu],Tu[Cu]=null;for(;u===Kl;)Kl=as[--ls],as[ls]=null,Bo=as[--ls],as[ls]=null,zo=as[--ls],as[ls]=null}var zi=null,Bi=null,Dn=!1,Vf=!1,Rs=null;function NT(u,f){var w=fs(5,null,null,0);w.elementType="DELETED",w.stateNode=f,w.return=u,f=u.deletions,f===null?(u.deletions=[w],u.flags|=16):f.push(w)}function kT(u,f){switch(u.tag){case 5:return f=Jn(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,zi=u,Bi=ve(f),!0):!1;case 6:return f=Su(f,u.pendingProps),f!==null?(u.stateNode=f,zi=u,Bi=null,!0):!1;case 13:if(f=zf(f),f!==null){var w=Kl!==null?{id:zo,overflow:Bo}:null;return u.memoizedState={dehydrated:f,treeContext:w,retryLane:1073741824},w=fs(18,null,null,0),w.stateNode=f,w.return=u,u.child=w,zi=u,Bi=null,!0}return!1;default:return!1}}function b1(u){return(u.mode&1)!==0&&(u.flags&128)===0}function S1(u){if(Dn){var f=Bi;if(f){var w=f;if(!kT(u,f)){if(b1(u))throw Error(o(418));f=ge(w);var M=zi;f&&kT(u,f)?NT(M,w):(u.flags=u.flags&-4097|2,Dn=!1,zi=u)}}else{if(b1(u))throw Error(o(418));u.flags=u.flags&-4097|2,Dn=!1,zi=u}}}function RT(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;zi=u}function Wf(u){if(!ye||u!==zi)return!1;if(!Dn)return RT(u),Dn=!0,!1;if(u.tag!==3&&(u.tag!==5||We(u.type)&&!Ae(u.type,u.memoizedProps))){var f=Bi;if(f){if(b1(u)){for(u=Bi;u;)u=ge(u);throw Error(o(418))}for(;f;)NT(u,f),f=ge(f)}}if(RT(u),u.tag===13){if(!ye)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));Bi=ue(u)}else Bi=zi?ge(u.stateNode):null;return!0}function Au(){ye&&(Bi=zi=null,Vf=Dn=!1)}function M1(u){Rs===null?Rs=[u]:Rs.push(u)}function Hf(u,f,w){if(u=w.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var M=w.stateNode}if(!M)throw Error(o(147,u));var A=M,R=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===R?f.ref:(f=function(Y){var ce=A.refs;ce===ET&&(ce=A.refs={}),Y===null?delete ce[R]:ce[R]=Y},f._stringRef=R,f)}if(typeof u!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,u))}return u}function yg(u,f){throw u=Object.prototype.toString.call(f),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function LT(u){var f=u._init;return f(u._payload)}function IT(u){function f(xe,de){if(u){var Se=xe.deletions;Se===null?(xe.deletions=[de],xe.flags|=16):Se.push(de)}}function w(xe,de){if(!u)return null;for(;de!==null;)f(xe,de),de=de.sibling;return null}function M(xe,de){for(xe=new Map;de!==null;)de.key!==null?xe.set(de.key,de):xe.set(de.index,de),de=de.sibling;return xe}function A(xe,de){return xe=Da(xe,de),xe.index=0,xe.sibling=null,xe}function R(xe,de,Se){return xe.index=Se,u?(Se=xe.alternate,Se!==null?(Se=Se.index,Se<de?(xe.flags|=2,de):Se):(xe.flags|=2,de)):(xe.flags|=1048576,de)}function Y(xe){return u&&xe.alternate===null&&(xe.flags|=2),xe}function ce(xe,de,Se,lt){return de===null||de.tag!==6?(de=aw(Se,xe.mode,lt),de.return=xe,de):(de=A(de,Se),de.return=xe,de)}function Me(xe,de,Se,lt){var Mt=Se.type;return Mt===d?vt(xe,de,Se.props.children,lt,Se.key):de!==null&&(de.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===S&&LT(Mt)===de.type)?(lt=A(de,Se.props),lt.ref=Hf(xe,de,Se),lt.return=xe,lt):(lt=Xg(Se.type,Se.key,Se.props,null,xe.mode,lt),lt.ref=Hf(xe,de,Se),lt.return=xe,lt)}function Qe(xe,de,Se,lt){return de===null||de.tag!==4||de.stateNode.containerInfo!==Se.containerInfo||de.stateNode.implementation!==Se.implementation?(de=lw(Se,xe.mode,lt),de.return=xe,de):(de=A(de,Se.children||[]),de.return=xe,de)}function vt(xe,de,Se,lt,Mt){return de===null||de.tag!==7?(de=sc(Se,xe.mode,lt,Mt),de.return=xe,de):(de=A(de,Se),de.return=xe,de)}function jt(xe,de,Se){if(typeof de=="string"&&de!==""||typeof de=="number")return de=aw(""+de,xe.mode,Se),de.return=xe,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case l:return Se=Xg(de.type,de.key,de.props,null,xe.mode,Se),Se.ref=Hf(xe,null,de),Se.return=xe,Se;case c:return de=lw(de,xe.mode,Se),de.return=xe,de;case S:var lt=de._init;return jt(xe,lt(de._payload),Se)}if(ee(de)||P(de))return de=sc(de,xe.mode,Se,null),de.return=xe,de;yg(xe,de)}return null}function Pt(xe,de,Se,lt){var Mt=de!==null?de.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Mt!==null?null:ce(xe,de,""+Se,lt);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:return Se.key===Mt?Me(xe,de,Se,lt):null;case c:return Se.key===Mt?Qe(xe,de,Se,lt):null;case S:return Mt=Se._init,Pt(xe,de,Mt(Se._payload),lt)}if(ee(Se)||P(Se))return Mt!==null?null:vt(xe,de,Se,lt,null);yg(xe,Se)}return null}function bn(xe,de,Se,lt,Mt){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return xe=xe.get(Se)||null,ce(de,xe,""+lt,Mt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case l:return xe=xe.get(lt.key===null?Se:lt.key)||null,Me(de,xe,lt,Mt);case c:return xe=xe.get(lt.key===null?Se:lt.key)||null,Qe(de,xe,lt,Mt);case S:var Gt=lt._init;return bn(xe,de,Se,Gt(lt._payload),Mt)}if(ee(lt)||P(lt))return xe=xe.get(Se)||null,vt(de,xe,lt,Mt,null);yg(de,lt)}return null}function Tt(xe,de,Se,lt){for(var Mt=null,Gt=null,Ft=de,ln=de=0,Nr=null;Ft!==null&&ln<Se.length;ln++){Ft.index>ln?(Nr=Ft,Ft=null):Nr=Ft.sibling;var cn=Pt(xe,Ft,Se[ln],lt);if(cn===null){Ft===null&&(Ft=Nr);break}u&&Ft&&cn.alternate===null&&f(xe,Ft),de=R(cn,de,ln),Gt===null?Mt=cn:Gt.sibling=cn,Gt=cn,Ft=Nr}if(ln===Se.length)return w(xe,Ft),Dn&&Ql(xe,ln),Mt;if(Ft===null){for(;ln<Se.length;ln++)Ft=jt(xe,Se[ln],lt),Ft!==null&&(de=R(Ft,de,ln),Gt===null?Mt=Ft:Gt.sibling=Ft,Gt=Ft);return Dn&&Ql(xe,ln),Mt}for(Ft=M(xe,Ft);ln<Se.length;ln++)Nr=bn(Ft,xe,ln,Se[ln],lt),Nr!==null&&(u&&Nr.alternate!==null&&Ft.delete(Nr.key===null?ln:Nr.key),de=R(Nr,de,ln),Gt===null?Mt=Nr:Gt.sibling=Nr,Gt=Nr);return u&&Ft.forEach(function(Oa){return f(xe,Oa)}),Dn&&Ql(xe,ln),Mt}function Gr(xe,de,Se,lt){var Mt=P(Se);if(typeof Mt!="function")throw Error(o(150));if(Se=Mt.call(Se),Se==null)throw Error(o(151));for(var Gt=Mt=null,Ft=de,ln=de=0,Nr=null,cn=Se.next();Ft!==null&&!cn.done;ln++,cn=Se.next()){Ft.index>ln?(Nr=Ft,Ft=null):Nr=Ft.sibling;var Oa=Pt(xe,Ft,cn.value,lt);if(Oa===null){Ft===null&&(Ft=Nr);break}u&&Ft&&Oa.alternate===null&&f(xe,Ft),de=R(Oa,de,ln),Gt===null?Mt=Oa:Gt.sibling=Oa,Gt=Oa,Ft=Nr}if(cn.done)return w(xe,Ft),Dn&&Ql(xe,ln),Mt;if(Ft===null){for(;!cn.done;ln++,cn=Se.next())cn=jt(xe,cn.value,lt),cn!==null&&(de=R(cn,de,ln),Gt===null?Mt=cn:Gt.sibling=cn,Gt=cn);return Dn&&Ql(xe,ln),Mt}for(Ft=M(xe,Ft);!cn.done;ln++,cn=Se.next())cn=bn(Ft,xe,ln,cn.value,lt),cn!==null&&(u&&cn.alternate!==null&&Ft.delete(cn.key===null?ln:cn.key),de=R(cn,de,ln),Gt===null?Mt=cn:Gt.sibling=cn,Gt=cn);return u&&Ft.forEach(function(a6){return f(xe,a6)}),Dn&&Ql(xe,ln),Mt}function hs(xe,de,Se,lt){if(typeof Se=="object"&&Se!==null&&Se.type===d&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:e:{for(var Mt=Se.key,Gt=de;Gt!==null;){if(Gt.key===Mt){if(Mt=Se.type,Mt===d){if(Gt.tag===7){w(xe,Gt.sibling),de=A(Gt,Se.props.children),de.return=xe,xe=de;break e}}else if(Gt.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===S&&LT(Mt)===Gt.type){w(xe,Gt.sibling),de=A(Gt,Se.props),de.ref=Hf(xe,Gt,Se),de.return=xe,xe=de;break e}w(xe,Gt);break}else f(xe,Gt);Gt=Gt.sibling}Se.type===d?(de=sc(Se.props.children,xe.mode,lt,Se.key),de.return=xe,xe=de):(lt=Xg(Se.type,Se.key,Se.props,null,xe.mode,lt),lt.ref=Hf(xe,de,Se),lt.return=xe,xe=lt)}return Y(xe);case c:e:{for(Gt=Se.key;de!==null;){if(de.key===Gt)if(de.tag===4&&de.stateNode.containerInfo===Se.containerInfo&&de.stateNode.implementation===Se.implementation){w(xe,de.sibling),de=A(de,Se.children||[]),de.return=xe,xe=de;break e}else{w(xe,de);break}else f(xe,de);de=de.sibling}de=lw(Se,xe.mode,lt),de.return=xe,xe=de}return Y(xe);case S:return Gt=Se._init,hs(xe,de,Gt(Se._payload),lt)}if(ee(Se))return Tt(xe,de,Se,lt);if(P(Se))return Gr(xe,de,Se,lt);yg(xe,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,de!==null&&de.tag===6?(w(xe,de.sibling),de=A(de,Se),de.return=xe,xe=de):(w(xe,de),de=aw(Se,xe.mode,lt),de.return=xe,xe=de),Y(xe)):w(xe,de)}return hs}var Pu=IT(!0),DT=IT(!1),Gf={},cs=Xt(Gf),$f=Xt(Gf),Nu=Xt(Gf);function ho(u){if(u===Gf)throw Error(o(174));return u}function E1(u,f){kt(Nu,f),kt($f,u),kt(cs,Gf),u=le(f),_t(cs),kt(cs,u)}function ku(){_t(cs),_t($f),_t(Nu)}function OT(u){var f=ho(Nu.current),w=ho(cs.current);f=D(w,u.type,f),w!==f&&(kt($f,u),kt(cs,f))}function T1(u){$f.current===u&&(_t(cs),_t($f))}var Fn=Xt(0);function xg(u){for(var f=u;f!==null;){if(f.tag===13){var w=f.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||Do(w)||Yl(w)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var C1=[];function A1(){for(var u=0;u<C1.length;u++){var f=C1[u];De?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}C1.length=0}var wg=a.ReactCurrentDispatcher,us=a.ReactCurrentBatchConfig,Ru=0,$n=null,Vr=null,Pr=null,_g=!1,Zf=!1,qf=0,R5=0;function Wr(){throw Error(o(321))}function P1(u,f){if(f===null)return!1;for(var w=0;w<f.length&&w<u.length;w++)if(!co(u[w],f[w]))return!1;return!0}function N1(u,f,w,M,A,R){if(Ru=R,$n=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,wg.current=u===null||u.memoizedState===null?O5:j5,u=w(M,A),Zf){R=0;do{if(Zf=!1,qf=0,25<=R)throw Error(o(301));R+=1,Pr=Vr=null,f.updateQueue=null,wg.current=F5,u=w(M,A)}while(Zf)}if(wg.current=Tg,f=Vr!==null&&Vr.next!==null,Ru=0,Pr=Vr=$n=null,_g=!1,f)throw Error(o(300));return u}function k1(){var u=qf!==0;return qf=0,u}function Uo(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?$n.memoizedState=Pr=u:Pr=Pr.next=u,Pr}function po(){if(Vr===null){var u=$n.alternate;u=u!==null?u.memoizedState:null}else u=Vr.next;var f=Pr===null?$n.memoizedState:Pr.next;if(f!==null)Pr=f,Vr=u;else{if(u===null)throw Error(o(310));Vr=u,u={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},Pr===null?$n.memoizedState=Pr=u:Pr=Pr.next=u}return Pr}function Jl(u,f){return typeof f=="function"?f(u):f}function bg(u){var f=po(),w=f.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=u;var M=Vr,A=M.baseQueue,R=w.pending;if(R!==null){if(A!==null){var Y=A.next;A.next=R.next,R.next=Y}M.baseQueue=A=R,w.pending=null}if(A!==null){R=A.next,M=M.baseState;var ce=Y=null,Me=null,Qe=R;do{var vt=Qe.lane;if((Ru&vt)===vt)Me!==null&&(Me=Me.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),M=Qe.hasEagerState?Qe.eagerState:u(M,Qe.action);else{var jt={lane:vt,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};Me===null?(ce=Me=jt,Y=M):Me=Me.next=jt,$n.lanes|=vt,Iu|=vt}Qe=Qe.next}while(Qe!==null&&Qe!==R);Me===null?Y=M:Me.next=ce,co(M,f.memoizedState)||(Ui=!0),f.memoizedState=M,f.baseState=Y,f.baseQueue=Me,w.lastRenderedState=M}if(u=w.interleaved,u!==null){A=u;do R=A.lane,$n.lanes|=R,Iu|=R,A=A.next;while(A!==u)}else A===null&&(w.lanes=0);return[f.memoizedState,w.dispatch]}function Sg(u){var f=po(),w=f.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=u;var M=w.dispatch,A=w.pending,R=f.memoizedState;if(A!==null){w.pending=null;var Y=A=A.next;do R=u(R,Y.action),Y=Y.next;while(Y!==A);co(R,f.memoizedState)||(Ui=!0),f.memoizedState=R,f.baseQueue===null&&(f.baseState=R),w.lastRenderedState=R}return[R,M]}function jT(){}function FT(u,f){var w=$n,M=po(),A=f(),R=!co(M.memoizedState,A);if(R&&(M.memoizedState=A,Ui=!0),M=M.queue,Yf(UT.bind(null,w,M,u),[u]),M.getSnapshot!==f||R||Pr!==null&&Pr.memoizedState.tag&1){if(w.flags|=2048,Xf(9,BT.bind(null,w,M,A,f),void 0,null),ur===null)throw Error(o(349));Ru&30||zT(w,f,A)}return A}function zT(u,f,w){u.flags|=16384,u={getSnapshot:f,value:w},f=$n.updateQueue,f===null?(f={lastEffect:null,stores:null},$n.updateQueue=f,f.stores=[u]):(w=f.stores,w===null?f.stores=[u]:w.push(u))}function BT(u,f,w,M){f.value=w,f.getSnapshot=M,VT(f)&&ds(u,1,-1)}function UT(u,f,w){return w(function(){VT(f)&&ds(u,1,-1)})}function VT(u){var f=u.getSnapshot;u=u.value;try{var w=f();return!co(u,w)}catch{return!0}}function R1(u){var f=Uo();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:u},f.queue=u,u=u.dispatch=D5.bind(null,$n,u),[f.memoizedState,u]}function Xf(u,f,w,M){return u={tag:u,create:f,destroy:w,deps:M,next:null},f=$n.updateQueue,f===null?(f={lastEffect:null,stores:null},$n.updateQueue=f,f.lastEffect=u.next=u):(w=f.lastEffect,w===null?f.lastEffect=u.next=u:(M=w.next,w.next=u,u.next=M,f.lastEffect=u)),u}function WT(){return po().memoizedState}function Mg(u,f,w,M){var A=Uo();$n.flags|=u,A.memoizedState=Xf(1|f,w,void 0,M===void 0?null:M)}function Eg(u,f,w,M){var A=po();M=M===void 0?null:M;var R=void 0;if(Vr!==null){var Y=Vr.memoizedState;if(R=Y.destroy,M!==null&&P1(M,Y.deps)){A.memoizedState=Xf(f,w,R,M);return}}$n.flags|=u,A.memoizedState=Xf(1|f,w,R,M)}function L1(u,f){return Mg(8390656,8,u,f)}function Yf(u,f){return Eg(2048,8,u,f)}function HT(u,f){return Eg(4,2,u,f)}function GT(u,f){return Eg(4,4,u,f)}function $T(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function ZT(u,f,w){return w=w!=null?w.concat([u]):null,Eg(4,4,$T.bind(null,f,u),w)}function I1(){}function qT(u,f){var w=po();f=f===void 0?null:f;var M=w.memoizedState;return M!==null&&f!==null&&P1(f,M[1])?M[0]:(w.memoizedState=[u,f],u)}function XT(u,f){var w=po();f=f===void 0?null:f;var M=w.memoizedState;return M!==null&&f!==null&&P1(f,M[1])?M[0]:(u=u(),w.memoizedState=[u,f],u)}function L5(u,f){var w=an;an=w!==0&&4>w?w:4,u(!0);var M=us.transition;us.transition={};try{u(!1),f()}finally{an=w,us.transition=M}}function YT(){return po().memoizedState}function I5(u,f,w){var M=La(u);w={lane:M,action:w,hasEagerState:!1,eagerState:null,next:null},KT(u)?QT(f,w):(JT(u,f,w),w=ci(),u=ds(u,M,w),u!==null&&eC(u,f,M))}function D5(u,f,w){var M=La(u),A={lane:M,action:w,hasEagerState:!1,eagerState:null,next:null};if(KT(u))QT(f,A);else{JT(u,f,A);var R=u.alternate;if(u.lanes===0&&(R===null||R.lanes===0)&&(R=f.lastRenderedReducer,R!==null))try{var Y=f.lastRenderedState,ce=R(Y,w);if(A.hasEagerState=!0,A.eagerState=ce,co(ce,Y))return}catch{}finally{}w=ci(),u=ds(u,M,w),u!==null&&eC(u,f,M)}}function KT(u){var f=u.alternate;return u===$n||f!==null&&f===$n}function QT(u,f){Zf=_g=!0;var w=u.pending;w===null?f.next=f:(f.next=w.next,w.next=f),u.pending=f}function JT(u,f,w){ur!==null&&u.mode&1&&!(Kt&2)?(u=f.interleaved,u===null?(w.next=w,fo===null?fo=[f]:fo.push(f)):(w.next=u.next,u.next=w),f.interleaved=w):(u=f.pending,u===null?w.next=w:(w.next=u.next,u.next=w),f.pending=w)}function eC(u,f,w){if(w&4194240){var M=f.lanes;M&=u.pendingLanes,w|=M,f.lanes=w,l1(u,w)}}var Tg={readContext:os,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},O5={readContext:os,useCallback:function(u,f){return Uo().memoizedState=[u,f===void 0?null:f],u},useContext:os,useEffect:L1,useImperativeHandle:function(u,f,w){return w=w!=null?w.concat([u]):null,Mg(4194308,4,$T.bind(null,f,u),w)},useLayoutEffect:function(u,f){return Mg(4194308,4,u,f)},useInsertionEffect:function(u,f){return Mg(4,2,u,f)},useMemo:function(u,f){var w=Uo();return f=f===void 0?null:f,u=u(),w.memoizedState=[u,f],u},useReducer:function(u,f,w){var M=Uo();return f=w!==void 0?w(f):f,M.memoizedState=M.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},M.queue=u,u=u.dispatch=I5.bind(null,$n,u),[M.memoizedState,u]},useRef:function(u){var f=Uo();return u={current:u},f.memoizedState=u},useState:R1,useDebugValue:I1,useDeferredValue:function(u){var f=R1(u),w=f[0],M=f[1];return L1(function(){var A=us.transition;us.transition={};try{M(u)}finally{us.transition=A}},[u]),w},useTransition:function(){var u=R1(!1),f=u[0];return u=L5.bind(null,u[1]),Uo().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,w){var M=$n,A=Uo();if(Dn){if(w===void 0)throw Error(o(407));w=w()}else{if(w=f(),ur===null)throw Error(o(349));Ru&30||zT(M,f,w)}A.memoizedState=w;var R={value:w,getSnapshot:f};return A.queue=R,L1(UT.bind(null,M,R,u),[u]),M.flags|=2048,Xf(9,BT.bind(null,M,R,w,f),void 0,null),w},useId:function(){var u=Uo(),f=ur.identifierPrefix;if(Dn){var w=Bo,M=zo;w=(M&~(1<<32-In(M)-1)).toString(32)+w,f=":"+f+"R"+w,w=qf++,0<w&&(f+="H"+w.toString(32)),f+=":"}else w=R5++,f=":"+f+"r"+w.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},j5={readContext:os,useCallback:qT,useContext:os,useEffect:Yf,useImperativeHandle:ZT,useInsertionEffect:HT,useLayoutEffect:GT,useMemo:XT,useReducer:bg,useRef:WT,useState:function(){return bg(Jl)},useDebugValue:I1,useDeferredValue:function(u){var f=bg(Jl),w=f[0],M=f[1];return Yf(function(){var A=us.transition;us.transition={};try{M(u)}finally{us.transition=A}},[u]),w},useTransition:function(){var u=bg(Jl)[0],f=po().memoizedState;return[u,f]},useMutableSource:jT,useSyncExternalStore:FT,useId:YT,unstable_isNewReconciler:!1},F5={readContext:os,useCallback:qT,useContext:os,useEffect:Yf,useImperativeHandle:ZT,useInsertionEffect:HT,useLayoutEffect:GT,useMemo:XT,useReducer:Sg,useRef:WT,useState:function(){return Sg(Jl)},useDebugValue:I1,useDeferredValue:function(u){var f=Sg(Jl),w=f[0],M=f[1];return Yf(function(){var A=us.transition;us.transition={};try{M(u)}finally{us.transition=A}},[u]),w},useTransition:function(){var u=Sg(Jl)[0],f=po().memoizedState;return[u,f]},useMutableSource:jT,useSyncExternalStore:FT,useId:YT,unstable_isNewReconciler:!1};function D1(u,f){try{var w="",M=f;do w+=k5(M),M=M.return;while(M);var A=w}catch(R){A=`
Error generating stack: `+R.message+`
`+R.stack}return{value:u,source:f,stack:A}}function O1(u,f){try{console.error(f.value)}catch(w){setTimeout(function(){throw w})}}var z5=typeof WeakMap=="function"?WeakMap:Map;function tC(u,f,w){w=Fo(-1,w),w.tag=3,w.payload={element:null};var M=f.value;return w.callback=function(){Vg||(Vg=!0,ew=M),O1(u,f)},w}function nC(u,f,w){w=Fo(-1,w),w.tag=3;var M=u.type.getDerivedStateFromError;if(typeof M=="function"){var A=f.value;w.payload=function(){return M(A)},w.callback=function(){O1(u,f)}}var R=u.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(w.callback=function(){O1(u,f),typeof M!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var Y=f.stack;this.componentDidCatch(f.value,{componentStack:Y!==null?Y:""})}),w}function rC(u,f,w){var M=u.pingCache;if(M===null){M=u.pingCache=new z5;var A=new Set;M.set(f,A)}else A=M.get(f),A===void 0&&(A=new Set,M.set(f,A));A.has(w)||(A.add(w),u=J5.bind(null,u,f,w),f.then(u,u))}function iC(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function sC(u,f,w,M,A){return u.mode&1?(u.flags|=65536,u.lanes=A,u):(u===f?u.flags|=65536:(u.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(f=Fo(-1,1),f.tag=2,Na(w,f))),w.lanes|=1),u)}function mo(u){u.flags|=4}function oC(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var Kf,Qf,Cg,Ag;if(He)Kf=function(u,f){for(var w=f.child;w!==null;){if(w.tag===5||w.tag===6)Z(u,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Qf=function(){},Cg=function(u,f,w,M,A){if(u=u.memoizedProps,u!==M){var R=f.stateNode,Y=ho(cs.current);w=we(R,w,u,M,A,Y),(f.updateQueue=w)&&mo(f)}},Ag=function(u,f,w,M){w!==M&&mo(f)};else if(be){Kf=function(u,f,w,M){for(var A=f.child;A!==null;){if(A.tag===5){var R=A.stateNode;w&&M&&(R=en(R,A.type,A.memoizedProps,A)),Z(u,R)}else if(A.tag===6)R=A.stateNode,w&&M&&(R=lr(R,A.memoizedProps,A)),Z(u,R);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)R=A.child,R!==null&&(R.return=A),Kf(u,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var aC=function(u,f,w,M){for(var A=f.child;A!==null;){if(A.tag===5){var R=A.stateNode;w&&M&&(R=en(R,A.type,A.memoizedProps,A)),nn(u,R)}else if(A.tag===6)R=A.stateNode,w&&M&&(R=lr(R,A.memoizedProps,A)),nn(u,R);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)R=A.child,R!==null&&(R.return=A),aC(u,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};Qf=function(u,f){var w=f.stateNode;if(!oC(u,f)){u=w.containerInfo;var M=Wt(u);aC(M,f,!1,!1),w.pendingChildren=M,mo(f),fn(u,M)}},Cg=function(u,f,w,M,A){var R=u.stateNode,Y=u.memoizedProps;if((u=oC(u,f))&&Y===M)f.stateNode=R;else{var ce=f.stateNode,Me=ho(cs.current),Qe=null;Y!==M&&(Qe=we(ce,w,Y,M,A,Me)),u&&Qe===null?f.stateNode=R:(R=gt(R,Qe,w,Y,M,f,u,ce),oe(R,w,M,A,Me)&&mo(f),f.stateNode=R,u?mo(f):Kf(R,f,!1,!1))}},Ag=function(u,f,w,M){w!==M?(u=ho(Nu.current),w=ho(cs.current),f.stateNode=re(M,u,w,f),mo(f)):f.stateNode=u.stateNode}}else Qf=function(){},Cg=function(){},Ag=function(){};function Jf(u,f){if(!Dn)switch(u.tailMode){case"hidden":f=u.tail;for(var w=null;f!==null;)f.alternate!==null&&(w=f),f=f.sibling;w===null?u.tail=null:w.sibling=null;break;case"collapsed":w=u.tail;for(var M=null;w!==null;)w.alternate!==null&&(M=w),w=w.sibling;M===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function Hr(u){var f=u.alternate!==null&&u.alternate.child===u.child,w=0,M=0;if(f)for(var A=u.child;A!==null;)w|=A.lanes|A.childLanes,M|=A.subtreeFlags&14680064,M|=A.flags&14680064,A.return=u,A=A.sibling;else for(A=u.child;A!==null;)w|=A.lanes|A.childLanes,M|=A.subtreeFlags,M|=A.flags,A.return=u,A=A.sibling;return u.subtreeFlags|=M,u.childLanes=w,f}function B5(u,f,w){var M=f.pendingProps;switch(_1(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(f),null;case 1:return cr(f.type)&&Or(),Hr(f),null;case 3:return M=f.stateNode,ku(),_t(Ot),_t(Ut),A1(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(u===null||u.child===null)&&(Wf(f)?mo(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Rs!==null&&(rw(Rs),Rs=null))),Qf(u,f),Hr(f),null;case 5:T1(f),w=ho(Nu.current);var A=f.type;if(u!==null&&f.stateNode!=null)Cg(u,f,A,M,w),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!M){if(f.stateNode===null)throw Error(o(166));return Hr(f),null}if(u=ho(cs.current),Wf(f)){if(!ye)throw Error(o(175));u=L(f.stateNode,f.type,f.memoizedProps,w,u,f,!Vf),f.updateQueue=u,u!==null&&mo(f)}else{var R=J(A,M,w,u,f);Kf(R,f,!1,!1),f.stateNode=R,oe(R,A,M,w,u)&&mo(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Hr(f),null;case 6:if(u&&f.stateNode!=null)Ag(u,f,u.memoizedProps,M);else{if(typeof M!="string"&&f.stateNode===null)throw Error(o(166));if(u=ho(Nu.current),w=ho(cs.current),Wf(f)){if(!ye)throw Error(o(176));if(u=f.stateNode,M=f.memoizedProps,(w=F(u,M,f,!Vf))&&(A=zi,A!==null))switch(R=(A.mode&1)!==0,A.tag){case 3:$e(A.stateNode.containerInfo,u,M,R);break;case 5:Ke(A.type,A.memoizedProps,A.stateNode,u,M,R)}w&&mo(f)}else f.stateNode=re(M,u,w,f)}return Hr(f),null;case 13:if(_t(Fn),M=f.memoizedState,Dn&&Bi!==null&&f.mode&1&&!(f.flags&128)){for(u=Bi;u;)u=ge(u);return Au(),f.flags|=98560,f}if(M!==null&&M.dehydrated!==null){if(M=Wf(f),u===null){if(!M)throw Error(o(318));if(!ye)throw Error(o(344));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));Q(u,f)}else Au(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return Hr(f),null}return Rs!==null&&(rw(Rs),Rs=null),f.flags&128?(f.lanes=w,f):(M=M!==null,w=!1,u===null?Wf(f):w=u.memoizedState!==null,M&&!w&&(f.child.flags|=8192,f.mode&1&&(u===null||Fn.current&1?yr===0&&(yr=3):sw())),f.updateQueue!==null&&(f.flags|=4),Hr(f),null);case 4:return ku(),Qf(u,f),u===null&&it(f.stateNode.containerInfo),Hr(f),null;case 10:return m1(f.type._context),Hr(f),null;case 17:return cr(f.type)&&Or(),Hr(f),null;case 19:if(_t(Fn),A=f.memoizedState,A===null)return Hr(f),null;if(M=(f.flags&128)!==0,R=A.rendering,R===null)if(M)Jf(A,!1);else{if(yr!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(R=xg(u),R!==null){for(f.flags|=128,Jf(A,!1),u=R.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=w,M=f.child;M!==null;)w=M,A=u,w.flags&=14680066,R=w.alternate,R===null?(w.childLanes=0,w.lanes=A,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=R.childLanes,w.lanes=R.lanes,w.child=R.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=R.memoizedProps,w.memoizedState=R.memoizedState,w.updateQueue=R.updateQueue,w.type=R.type,A=R.dependencies,w.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),M=M.sibling;return kt(Fn,Fn.current&1|2),f.child}u=u.sibling}A.tail!==null&&Ar()>J1&&(f.flags|=128,M=!0,Jf(A,!1),f.lanes=4194304)}else{if(!M)if(u=xg(R),u!==null){if(f.flags|=128,M=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),Jf(A,!0),A.tail===null&&A.tailMode==="hidden"&&!R.alternate&&!Dn)return Hr(f),null}else 2*Ar()-A.renderingStartTime>J1&&w!==1073741824&&(f.flags|=128,M=!0,Jf(A,!1),f.lanes=4194304);A.isBackwards?(R.sibling=f.child,f.child=R):(u=A.last,u!==null?u.sibling=R:f.child=R,A.last=R)}return A.tail!==null?(f=A.tail,A.rendering=f,A.tail=f.sibling,A.renderingStartTime=Ar(),f.sibling=null,u=Fn.current,kt(Fn,M?u&1|2:u&1),f):(Hr(f),null);case 22:case 23:return iw(),M=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==M&&(f.flags|=8192),M&&f.mode&1?Vi&1073741824&&(Hr(f),He&&f.subtreeFlags&6&&(f.flags|=8192)):Hr(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var U5=a.ReactCurrentOwner,Ui=!1;function li(u,f,w,M){f.child=u===null?DT(f,null,w,M):Pu(f,u.child,w,M)}function lC(u,f,w,M,A){w=w.render;var R=f.ref;return Eu(f,A),M=N1(u,f,w,M,R,A),w=k1(),u!==null&&!Ui?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~A,Vo(u,f,A)):(Dn&&w&&w1(f),f.flags|=1,li(u,f,M,A),f.child)}function cC(u,f,w,M,A){if(u===null){var R=w.type;return typeof R=="function"&&!ow(R)&&R.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(f.tag=15,f.type=R,uC(u,f,R,M,A)):(u=Xg(w.type,null,M,f,f.mode,A),u.ref=f.ref,u.return=f,f.child=u)}if(R=u.child,!(u.lanes&A)){var Y=R.memoizedProps;if(w=w.compare,w=w!==null?w:ug,w(Y,M)&&u.ref===f.ref)return Vo(u,f,A)}return f.flags|=1,u=Da(R,M),u.ref=f.ref,u.return=f,f.child=u}function uC(u,f,w,M,A){if(u!==null&&ug(u.memoizedProps,M)&&u.ref===f.ref)if(Ui=!1,(u.lanes&A)!==0)u.flags&131072&&(Ui=!0);else return f.lanes=u.lanes,Vo(u,f,A);return j1(u,f,w,M,A)}function dC(u,f,w){var M=f.pendingProps,A=M.children,R=u!==null?u.memoizedState:null;if(M.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},kt(Lu,Vi),Vi|=w;else if(w&1073741824)f.memoizedState={baseLanes:0,cachePool:null},M=R!==null?R.baseLanes:w,kt(Lu,Vi),Vi|=M;else return u=R!==null?R.baseLanes|w:w,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null},f.updateQueue=null,kt(Lu,Vi),Vi|=u,null;else R!==null?(M=R.baseLanes|w,f.memoizedState=null):M=w,kt(Lu,Vi),Vi|=M;return li(u,f,A,w),f.child}function fC(u,f){var w=f.ref;(u===null&&w!==null||u!==null&&u.ref!==w)&&(f.flags|=512,f.flags|=2097152)}function j1(u,f,w,M,A){var R=cr(w)?wn:Ut.current;return R=gr(f,R),Eu(f,A),w=N1(u,f,w,M,R,A),M=k1(),u!==null&&!Ui?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~A,Vo(u,f,A)):(Dn&&M&&w1(f),f.flags|=1,li(u,f,w,A),f.child)}function hC(u,f,w,M,A){if(cr(w)){var R=!0;vn(f)}else R=!1;if(Eu(f,A),f.stateNode===null)u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),CT(f,w,M),x1(f,w,M,A),M=!0;else if(u===null){var Y=f.stateNode,ce=f.memoizedProps;Y.props=ce;var Me=Y.context,Qe=w.contextType;typeof Qe=="object"&&Qe!==null?Qe=os(Qe):(Qe=cr(w)?wn:Ut.current,Qe=gr(f,Qe));var vt=w.getDerivedStateFromProps,jt=typeof vt=="function"||typeof Y.getSnapshotBeforeUpdate=="function";jt||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ce!==M||Me!==Qe)&&AT(f,Y,M,Qe),Pa=!1;var Pt=f.memoizedState;Y.state=Pt,pg(f,M,Y,A),Me=f.memoizedState,ce!==M||Pt!==Me||Ot.current||Pa?(typeof vt=="function"&&(y1(f,w,vt,M),Me=f.memoizedState),(ce=Pa||TT(f,w,ce,M,Pt,Me,Qe))?(jt||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(f.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=Me),Y.props=M,Y.state=Me,Y.context=Qe,M=ce):(typeof Y.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{Y=f.stateNode,bT(u,f),ce=f.memoizedProps,Qe=f.type===f.elementType?ce:ks(f.type,ce),Y.props=Qe,jt=f.pendingProps,Pt=Y.context,Me=w.contextType,typeof Me=="object"&&Me!==null?Me=os(Me):(Me=cr(w)?wn:Ut.current,Me=gr(f,Me));var bn=w.getDerivedStateFromProps;(vt=typeof bn=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ce!==jt||Pt!==Me)&&AT(f,Y,M,Me),Pa=!1,Pt=f.memoizedState,Y.state=Pt,pg(f,M,Y,A);var Tt=f.memoizedState;ce!==jt||Pt!==Tt||Ot.current||Pa?(typeof bn=="function"&&(y1(f,w,bn,M),Tt=f.memoizedState),(Qe=Pa||TT(f,w,Qe,M,Pt,Tt,Me)||!1)?(vt||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(M,Tt,Me),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(M,Tt,Me)),typeof Y.componentDidUpdate=="function"&&(f.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof Y.componentDidUpdate!="function"||ce===u.memoizedProps&&Pt===u.memoizedState||(f.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ce===u.memoizedProps&&Pt===u.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=Tt),Y.props=M,Y.state=Tt,Y.context=Me,M=Qe):(typeof Y.componentDidUpdate!="function"||ce===u.memoizedProps&&Pt===u.memoizedState||(f.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ce===u.memoizedProps&&Pt===u.memoizedState||(f.flags|=1024),M=!1)}return F1(u,f,w,M,R,A)}function F1(u,f,w,M,A,R){fC(u,f);var Y=(f.flags&128)!==0;if(!M&&!Y)return A&&on(f,w,!1),Vo(u,f,R);M=f.stateNode,U5.current=f;var ce=Y&&typeof w.getDerivedStateFromError!="function"?null:M.render();return f.flags|=1,u!==null&&Y?(f.child=Pu(f,u.child,null,R),f.child=Pu(f,null,ce,R)):li(u,f,ce,R),f.memoizedState=M.state,A&&on(f,w,!0),f.child}function pC(u){var f=u.stateNode;f.pendingContext?hn(u,f.pendingContext,f.pendingContext!==f.context):f.context&&hn(u,f.context,!1),E1(u,f.containerInfo)}function mC(u,f,w,M,A){return Au(),M1(A),f.flags|=256,li(u,f,w,M),f.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function Ng(u){return{baseLanes:u,cachePool:null}}function gC(u,f,w){var M=f.pendingProps,A=Fn.current,R=!1,Y=(f.flags&128)!==0,ce;if((ce=Y)||(ce=u!==null&&u.memoizedState===null?!1:(A&2)!==0),ce?(R=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(A|=1),kt(Fn,A&1),u===null)return S1(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?Yl(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(A=M.children,u=M.fallback,R?(M=f.mode,R=f.child,A={mode:"hidden",children:A},!(M&1)&&R!==null?(R.childLanes=0,R.pendingProps=A):R=Yg(A,M,0,null),u=sc(u,M,w,null),R.return=f,u.return=f,R.sibling=u,f.child=R,f.child.memoizedState=Ng(w),f.memoizedState=Pg,u):z1(f,A));if(A=u.memoizedState,A!==null){if(ce=A.dehydrated,ce!==null){if(Y)return f.flags&256?(f.flags&=-257,kg(u,f,w,Error(o(422)))):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(R=M.fallback,A=f.mode,M=Yg({mode:"visible",children:M.children},A,0,null),R=sc(R,A,w,null),R.flags|=2,M.return=f,R.return=f,M.sibling=R,f.child=M,f.mode&1&&Pu(f,u.child,null,w),f.child.memoizedState=Ng(w),f.memoizedState=Pg,R);if(!(f.mode&1))f=kg(u,f,w,null);else if(Yl(ce))f=kg(u,f,w,Error(o(419)));else if(M=(w&u.childLanes)!==0,Ui||M){if(M=ur,M!==null){switch(w&-w){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}M=R&(M.suspendedLanes|w)?0:R,M!==0&&M!==A.retryLane&&(A.retryLane=M,ds(u,M,-1))}sw(),f=kg(u,f,w,Error(o(421)))}else Do(ce)?(f.flags|=128,f.child=u.child,f=e6.bind(null,u),q(ce,f),f=null):(w=A.treeContext,ye&&(Bi=ke(ce),zi=f,Dn=!0,Rs=null,Vf=!1,w!==null&&(as[ls++]=zo,as[ls++]=Bo,as[ls++]=Kl,zo=w.id,Bo=w.overflow,Kl=f)),f=z1(f,f.pendingProps.children),f.flags|=4096);return f}return R?(M=yC(u,f,M.children,M.fallback,w),R=f.child,A=u.child.memoizedState,R.memoizedState=A===null?Ng(w):{baseLanes:A.baseLanes|w,cachePool:null},R.childLanes=u.childLanes&~w,f.memoizedState=Pg,M):(w=vC(u,f,M.children,w),f.memoizedState=null,w)}return R?(M=yC(u,f,M.children,M.fallback,w),R=f.child,A=u.child.memoizedState,R.memoizedState=A===null?Ng(w):{baseLanes:A.baseLanes|w,cachePool:null},R.childLanes=u.childLanes&~w,f.memoizedState=Pg,M):(w=vC(u,f,M.children,w),f.memoizedState=null,w)}function z1(u,f){return f=Yg({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function vC(u,f,w,M){var A=u.child;return u=A.sibling,w=Da(A,{mode:"visible",children:w}),!(f.mode&1)&&(w.lanes=M),w.return=f,w.sibling=null,u!==null&&(M=f.deletions,M===null?(f.deletions=[u],f.flags|=16):M.push(u)),f.child=w}function yC(u,f,w,M,A){var R=f.mode;u=u.child;var Y=u.sibling,ce={mode:"hidden",children:w};return!(R&1)&&f.child!==u?(w=f.child,w.childLanes=0,w.pendingProps=ce,f.deletions=null):(w=Da(u,ce),w.subtreeFlags=u.subtreeFlags&14680064),Y!==null?M=Da(Y,M):(M=sc(M,R,A,null),M.flags|=2),M.return=f,w.return=f,w.sibling=M,f.child=w,M}function kg(u,f,w,M){return M!==null&&M1(M),Pu(f,u.child,null,w),u=z1(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function xC(u,f,w){u.lanes|=f;var M=u.alternate;M!==null&&(M.lanes|=f),g1(u.return,f,w)}function B1(u,f,w,M,A){var R=u.memoizedState;R===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:w,tailMode:A}:(R.isBackwards=f,R.rendering=null,R.renderingStartTime=0,R.last=M,R.tail=w,R.tailMode=A)}function wC(u,f,w){var M=f.pendingProps,A=M.revealOrder,R=M.tail;if(li(u,f,M.children,w),M=Fn.current,M&2)M=M&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&xC(u,w,f);else if(u.tag===19)xC(u,w,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}if(kt(Fn,M),!(f.mode&1))f.memoizedState=null;else switch(A){case"forwards":for(w=f.child,A=null;w!==null;)u=w.alternate,u!==null&&xg(u)===null&&(A=w),w=w.sibling;w=A,w===null?(A=f.child,f.child=null):(A=w.sibling,w.sibling=null),B1(f,!1,A,w,R);break;case"backwards":for(w=null,A=f.child,f.child=null;A!==null;){if(u=A.alternate,u!==null&&xg(u)===null){f.child=A;break}u=A.sibling,A.sibling=w,w=A,A=u}B1(f,!0,w,null,R);break;case"together":B1(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Vo(u,f,w){if(u!==null&&(f.dependencies=u.dependencies),Iu|=f.lanes,!(w&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(o(153));if(f.child!==null){for(u=f.child,w=Da(u,u.pendingProps),f.child=w,w.return=f;u.sibling!==null;)u=u.sibling,w=w.sibling=Da(u,u.pendingProps),w.return=f;w.sibling=null}return f.child}function V5(u,f,w){switch(f.tag){case 3:pC(f),Au();break;case 5:OT(f);break;case 1:cr(f.type)&&vn(f);break;case 4:E1(f,f.stateNode.containerInfo);break;case 10:_T(f,f.type._context,f.memoizedProps.value);break;case 13:var M=f.memoizedState;if(M!==null)return M.dehydrated!==null?(kt(Fn,Fn.current&1),f.flags|=128,null):w&f.child.childLanes?gC(u,f,w):(kt(Fn,Fn.current&1),u=Vo(u,f,w),u!==null?u.sibling:null);kt(Fn,Fn.current&1);break;case 19:if(M=(w&f.childLanes)!==0,u.flags&128){if(M)return wC(u,f,w);f.flags|=128}var A=f.memoizedState;if(A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),kt(Fn,Fn.current),M)break;return null;case 22:case 23:return f.lanes=0,dC(u,f,w)}return Vo(u,f,w)}function W5(u,f){switch(_1(f),f.tag){case 1:return cr(f.type)&&Or(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return ku(),_t(Ot),_t(Ut),A1(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return T1(f),null;case 13:if(_t(Fn),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Au()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return _t(Fn),null;case 4:return ku(),null;case 10:return m1(f.type._context),null;case 22:case 23:return iw(),null;case 24:return null;default:return null}}var Rg=!1,ec=!1,H5=typeof WeakSet=="function"?WeakSet:Set,st=null;function Lg(u,f){var w=u.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(M){Ti(u,f,M)}else w.current=null}function U1(u,f,w){try{w()}catch(M){Ti(u,f,M)}}var _C=!1;function G5(u,f){for(W(u.containerInfo),st=f;st!==null;)if(u=st,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,st=f;else for(;st!==null;){u=st;try{var w=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var M=w.memoizedProps,A=w.memoizedState,R=u.stateNode,Y=R.getSnapshotBeforeUpdate(u.elementType===u.type?M:ks(u.type,M),A);R.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:He&&Ye(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ce){Ti(u,u.return,ce)}if(f=u.sibling,f!==null){f.return=u.return,st=f;break}st=u.return}return w=_C,_C=!1,w}function tc(u,f,w){var M=f.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var A=M=M.next;do{if((A.tag&u)===u){var R=A.destroy;A.destroy=void 0,R!==void 0&&U1(f,w,R)}A=A.next}while(A!==M)}}function eh(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var w=f=f.next;do{if((w.tag&u)===u){var M=w.create;w.destroy=M()}w=w.next}while(w!==f)}}function V1(u){var f=u.ref;if(f!==null){var w=u.stateNode;switch(u.tag){case 5:u=K(w);break;default:u=w}typeof f=="function"?f(u):f.current=u}}function bC(u,f,w){if(lo&&typeof lo.onCommitFiberUnmount=="function")try{lo.onCommitFiberUnmount(lg,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(u=f.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var M=u=u.next;do{var A=M,R=A.destroy;A=A.tag,R!==void 0&&(A&2||A&4)&&U1(f,w,R),M=M.next}while(M!==u)}break;case 1:if(Lg(f,w),u=f.stateNode,typeof u.componentWillUnmount=="function")try{u.props=f.memoizedProps,u.state=f.memoizedState,u.componentWillUnmount()}catch(Y){Ti(f,w,Y)}break;case 5:Lg(f,w);break;case 4:He?AC(u,f,w):be&&be&&(f=f.stateNode.containerInfo,w=Wt(f),Cr(f,w))}}function SC(u,f,w){for(var M=f;;)if(bC(u,M,w),M.child===null||He&&M.tag===4){if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function MC(u){var f=u.alternate;f!==null&&(u.alternate=null,MC(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&wt(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function EC(u){return u.tag===5||u.tag===3||u.tag===4}function TC(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||EC(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function CC(u){if(He){e:{for(var f=u.return;f!==null;){if(EC(f))break e;f=f.return}throw Error(o(160))}var w=f;switch(w.tag){case 5:f=w.stateNode,w.flags&32&&(Ne(f),w.flags&=-33),w=TC(u),H1(u,w,f);break;case 3:case 4:f=w.stateNode.containerInfo,w=TC(u),W1(u,w,f);break;default:throw Error(o(161))}}}function W1(u,f,w){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?at(w,u,f):Je(w,u);else if(M!==4&&(u=u.child,u!==null))for(W1(u,f,w),u=u.sibling;u!==null;)W1(u,f,w),u=u.sibling}function H1(u,f,w){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?ot(w,u,f):pt(w,u);else if(M!==4&&(u=u.child,u!==null))for(H1(u,f,w),u=u.sibling;u!==null;)H1(u,f,w),u=u.sibling}function AC(u,f,w){for(var M=f,A=!1,R,Y;;){if(!A){A=M.return;e:for(;;){if(A===null)throw Error(o(160));switch(R=A.stateNode,A.tag){case 5:Y=!1;break e;case 3:R=R.containerInfo,Y=!0;break e;case 4:R=R.containerInfo,Y=!0;break e}A=A.return}A=!0}if(M.tag===5||M.tag===6)SC(u,M,w),Y?se(R,M.stateNode):dt(R,M.stateNode);else if(M.tag===18)Y?Ie(R,M.stateNode):Pe(R,M.stateNode);else if(M.tag===4){if(M.child!==null){R=M.stateNode.containerInfo,Y=!0,M.child.return=M,M=M.child;continue}}else if(bC(u,M,w),M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return,M.tag===4&&(A=!1)}M.sibling.return=M.return,M=M.sibling}}function G1(u,f){if(He){switch(f.tag){case 0:case 11:case 14:case 15:tc(3,f,f.return),eh(3,f),tc(5,f,f.return);return;case 1:return;case 5:var w=f.stateNode;if(w!=null){var M=f.memoizedProps;u=u!==null?u.memoizedProps:M;var A=f.type,R=f.updateQueue;f.updateQueue=null,R!==null&&St(w,R,A,u,M,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));w=f.memoizedProps,Te(f.stateNode,u!==null?u.memoizedProps:w,w);return;case 3:ye&&u!==null&&u.memoizedState.isDehydrated&&pe(f.stateNode.containerInfo);return;case 12:return;case 13:Ig(f);return;case 19:Ig(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:tc(3,f,f.return),eh(3,f),tc(5,f,f.return);return;case 12:return;case 13:Ig(f);return;case 19:Ig(f);return;case 3:ye&&u!==null&&u.memoizedState.isDehydrated&&pe(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(be){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Cr(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function Ig(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var w=u.stateNode;w===null&&(w=u.stateNode=new H5),f.forEach(function(M){var A=t6.bind(null,u,M);w.has(M)||(w.add(M),M.then(A,A))})}}function $5(u,f){for(st=f;st!==null;){f=st;var w=f.deletions;if(w!==null)for(var M=0;M<w.length;M++){var A=w[M];try{var R=u;He?AC(R,A,f):SC(R,A,f);var Y=A.alternate;Y!==null&&(Y.return=null),A.return=null}catch(Mt){Ti(A,f,Mt)}}if(w=f.child,f.subtreeFlags&12854&&w!==null)w.return=f,st=w;else for(;st!==null;){f=st;try{var ce=f.flags;if(ce&32&&He&&Ne(f.stateNode),ce&512){var Me=f.alternate;if(Me!==null){var Qe=Me.ref;Qe!==null&&(typeof Qe=="function"?Qe(null):Qe.current=null)}}if(ce&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var vt=f.alternate;(vt===null||vt.memoizedState===null)&&(Q1=Ar())}break;case 22:var jt=f.memoizedState!==null,Pt=f.alternate,bn=Pt!==null&&Pt.memoizedState!==null;if(w=f,He){e:if(M=w,A=jt,R=null,He)for(var Tt=M;;){if(Tt.tag===5){if(R===null){R=Tt;var Gr=Tt.stateNode;A?Ce(Gr):ne(Tt.stateNode,Tt.memoizedProps)}}else if(Tt.tag===6){if(R===null){var hs=Tt.stateNode;A?te(hs):Re(hs,Tt.memoizedProps)}}else if((Tt.tag!==22&&Tt.tag!==23||Tt.memoizedState===null||Tt===M)&&Tt.child!==null){Tt.child.return=Tt,Tt=Tt.child;continue}if(Tt===M)break;for(;Tt.sibling===null;){if(Tt.return===null||Tt.return===M)break e;R===Tt&&(R=null),Tt=Tt.return}R===Tt&&(R=null),Tt.sibling.return=Tt.return,Tt=Tt.sibling}}if(jt&&!bn&&w.mode&1){st=w;for(var xe=w.child;xe!==null;){for(w=st=xe;st!==null;){M=st;var de=M.child;switch(M.tag){case 0:case 11:case 14:case 15:tc(4,M,M.return);break;case 1:Lg(M,M.return);var Se=M.stateNode;if(typeof Se.componentWillUnmount=="function"){var lt=M.return;try{Se.props=M.memoizedProps,Se.state=M.memoizedState,Se.componentWillUnmount()}catch(Mt){Ti(M,lt,Mt)}}break;case 5:Lg(M,M.return);break;case 22:if(M.memoizedState!==null){kC(w);continue}}de!==null?(de.return=M,st=de):kC(w)}xe=xe.sibling}}}switch(ce&4102){case 2:CC(f),f.flags&=-3;break;case 6:CC(f),f.flags&=-3,G1(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,G1(f.alternate,f);break;case 4:G1(f.alternate,f)}}catch(Mt){Ti(f,f.return,Mt)}if(w=f.sibling,w!==null){w.return=f.return,st=w;break}st=f.return}}}function Z5(u,f,w){st=u,PC(u)}function PC(u,f,w){for(var M=(u.mode&1)!==0;st!==null;){var A=st,R=A.child;if(A.tag===22&&M){var Y=A.memoizedState!==null||Rg;if(!Y){var ce=A.alternate,Me=ce!==null&&ce.memoizedState!==null||ec;ce=Rg;var Qe=ec;if(Rg=Y,(ec=Me)&&!Qe)for(st=A;st!==null;)Y=st,Me=Y.child,Y.tag===22&&Y.memoizedState!==null?RC(A):Me!==null?(Me.return=Y,st=Me):RC(A);for(;R!==null;)st=R,PC(R),R=R.sibling;st=A,Rg=ce,ec=Qe}NC(u)}else A.subtreeFlags&8772&&R!==null?(R.return=A,st=R):NC(u)}}function NC(u){for(;st!==null;){var f=st;if(f.flags&8772){var w=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:ec||eh(5,f);break;case 1:var M=f.stateNode;if(f.flags&4&&!ec)if(w===null)M.componentDidMount();else{var A=f.elementType===f.type?w.memoizedProps:ks(f.type,w.memoizedProps);M.componentDidUpdate(A,w.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var R=f.updateQueue;R!==null&&MT(f,R,M);break;case 3:var Y=f.updateQueue;if(Y!==null){if(w=null,f.child!==null)switch(f.child.tag){case 5:w=K(f.child.stateNode);break;case 1:w=f.child.stateNode}MT(f,Y,w)}break;case 5:var ce=f.stateNode;w===null&&f.flags&4&&mt(ce,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(ye&&f.memoizedState===null){var Me=f.alternate;if(Me!==null){var Qe=Me.memoizedState;if(Qe!==null){var vt=Qe.dehydrated;vt!==null&&he(vt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ec||f.flags&512&&V1(f)}catch(jt){Ti(f,f.return,jt)}}if(f===u){st=null;break}if(w=f.sibling,w!==null){w.return=f.return,st=w;break}st=f.return}}function kC(u){for(;st!==null;){var f=st;if(f===u){st=null;break}var w=f.sibling;if(w!==null){w.return=f.return,st=w;break}st=f.return}}function RC(u){for(;st!==null;){var f=st;try{switch(f.tag){case 0:case 11:case 15:var w=f.return;try{eh(4,f)}catch(Me){Ti(f,w,Me)}break;case 1:var M=f.stateNode;if(typeof M.componentDidMount=="function"){var A=f.return;try{M.componentDidMount()}catch(Me){Ti(f,A,Me)}}var R=f.return;try{V1(f)}catch(Me){Ti(f,R,Me)}break;case 5:var Y=f.return;try{V1(f)}catch(Me){Ti(f,Y,Me)}}}catch(Me){Ti(f,f.return,Me)}if(f===u){st=null;break}var ce=f.sibling;if(ce!==null){ce.return=f.return,st=ce;break}st=f.return}}var Dg=0,Og=1,jg=2,Fg=3,zg=4;if(typeof Symbol=="function"&&Symbol.for){var th=Symbol.for;Dg=th("selector.component"),Og=th("selector.has_pseudo_class"),jg=th("selector.role"),Fg=th("selector.test_id"),zg=th("selector.text")}function $1(u){var f=Ue(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(u=Fe(u),u===null)throw Error(o(362));return u.stateNode.current}function Z1(u,f){switch(f.$$typeof){case Dg:if(u.type===f.value)return!0;break;case Og:e:{f=f.value,u=[u,0];for(var w=0;w<u.length;){var M=u[w++],A=u[w++],R=f[A];if(M.tag!==5||!ae(M)){for(;R!=null&&Z1(M,R);)A++,R=f[A];if(A===f.length){f=!0;break e}else for(M=M.child;M!==null;)u.push(M,A),M=M.sibling}}f=!1}return f;case jg:if(u.tag===5&&_e(u.stateNode,f.value))return!0;break;case zg:if((u.tag===5||u.tag===6)&&(u=j(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case Fg:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function q1(u){switch(u.$$typeof){case Dg:return"<"+(I(u.value)||"Unknown")+">";case Og:return":has("+(q1(u)||"")+")";case jg:return'[role="'+u.value+'"]';case zg:return'"'+u.value+'"';case Fg:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function LC(u,f){var w=[];u=[u,0];for(var M=0;M<u.length;){var A=u[M++],R=u[M++],Y=f[R];if(A.tag!==5||!ae(A)){for(;Y!=null&&Z1(A,Y);)R++,Y=f[R];if(R===f.length)w.push(A);else for(A=A.child;A!==null;)u.push(A,R),A=A.sibling}}return w}function X1(u,f){if(!fe)throw Error(o(363));u=$1(u),u=LC(u,f),f=[],u=Array.from(u);for(var w=0;w<u.length;){var M=u[w++];if(M.tag===5)ae(M)||f.push(M.stateNode);else for(M=M.child;M!==null;)u.push(M),M=M.sibling}return f}var q5=Math.ceil,Bg=a.ReactCurrentDispatcher,Y1=a.ReactCurrentOwner,er=a.ReactCurrentBatchConfig,Kt=0,ur=null,dr=null,jr=0,Vi=0,Lu=Xt(0),yr=0,nh=null,Iu=0,Ug=0,K1=0,rh=null,Mi=null,Q1=0,J1=1/0;function Du(){J1=Ar()+500}var Vg=!1,ew=null,ka=null,Wg=!1,Ra=null,Hg=0,ih=0,tw=null,Gg=-1,$g=0;function ci(){return Kt&6?Ar():Gg!==-1?Gg:Gg=Ar()}function La(u){return u.mode&1?Kt&2&&jr!==0?jr&-jr:N5.transition!==null?($g===0&&(u=sg,sg<<=1,!(sg&4194240)&&(sg=64),$g=u),$g):(u=an,u!==0?u:qe()):1}function ds(u,f,w){if(50<ih)throw ih=0,tw=null,Error(o(185));var M=Zg(u,f);return M===null?null:(Uf(M,f,w),(!(Kt&2)||M!==ur)&&(M===ur&&(!(Kt&2)&&(Ug|=f),yr===4&&Ia(M,jr)),Ei(M,w),f===1&&Kt===0&&!(u.mode&1)&&(Du(),cg&&uo())),M)}function Zg(u,f){u.lanes|=f;var w=u.alternate;for(w!==null&&(w.lanes|=f),w=u,u=u.return;u!==null;)u.childLanes|=f,w=u.alternate,w!==null&&(w.childLanes|=f),w=u,u=u.return;return w.tag===3?w.stateNode:null}function Ei(u,f){var w=u.callbackNode;_5(u,f);var M=ag(u,u===ur?jr:0);if(M===0)w!==null&&xT(w),u.callbackNode=null,u.callbackPriority=0;else if(f=M&-M,u.callbackPriority!==f){if(w!=null&&xT(w),f===1)u.tag===0?P5(DC.bind(null,u)):wT(DC.bind(null,u)),X?ie(function(){Kt===0&&uo()}):c1(u1,uo),w=null;else{switch(yT(M)){case 1:w=u1;break;case 4:w=E5;break;case 16:w=d1;break;case 536870912:w=T5;break;default:w=d1}w=HC(w,IC.bind(null,u))}u.callbackPriority=f,u.callbackNode=w}}function IC(u,f){if(Gg=-1,$g=0,Kt&6)throw Error(o(327));var w=u.callbackNode;if(ic()&&u.callbackNode!==w)return null;var M=ag(u,u===ur?jr:0);if(M===0)return null;if(M&30||M&u.expiredLanes||f)f=qg(u,M);else{f=M;var A=Kt;Kt|=2;var R=FC();(ur!==u||jr!==f)&&(Du(),nc(u,f));do try{K5();break}catch(ce){jC(u,ce)}while(!0);p1(),Bg.current=R,Kt=A,dr!==null?f=0:(ur=null,jr=0,f=yr)}if(f!==0){if(f===2&&(A=o1(u),A!==0&&(M=A,f=nw(u,A))),f===1)throw w=nh,nc(u,0),Ia(u,M),Ei(u,Ar()),w;if(f===6)Ia(u,M);else{if(A=u.current.alternate,!(M&30)&&!X5(A)&&(f=qg(u,M),f===2&&(R=o1(u),R!==0&&(M=R,f=nw(u,R))),f===1))throw w=nh,nc(u,0),Ia(u,M),Ei(u,Ar()),w;switch(u.finishedWork=A,u.finishedLanes=M,f){case 0:case 1:throw Error(o(345));case 2:rc(u,Mi);break;case 3:if(Ia(u,M),(M&130023424)===M&&(f=Q1+500-Ar(),10<f)){if(ag(u,0)!==0)break;if(A=u.suspendedLanes,(A&M)!==M){ci(),u.pingedLanes|=u.suspendedLanes&A;break}u.timeoutHandle=Ve(rc.bind(null,u,Mi),f);break}rc(u,Mi);break;case 4:if(Ia(u,M),(M&4194240)===M)break;for(f=u.eventTimes,A=-1;0<M;){var Y=31-In(M);R=1<<Y,Y=f[Y],Y>A&&(A=Y),M&=~R}if(M=A,M=Ar()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*q5(M/1960))-M,10<M){u.timeoutHandle=Ve(rc.bind(null,u,Mi),M);break}rc(u,Mi);break;case 5:rc(u,Mi);break;default:throw Error(o(329))}}}return Ei(u,Ar()),u.callbackNode===w?IC.bind(null,u):null}function nw(u,f){var w=rh;return u.current.memoizedState.isDehydrated&&(nc(u,f).flags|=256),u=qg(u,f),u!==2&&(f=Mi,Mi=w,f!==null&&rw(f)),u}function rw(u){Mi===null?Mi=u:Mi.push.apply(Mi,u)}function X5(u){for(var f=u;;){if(f.flags&16384){var w=f.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var M=0;M<w.length;M++){var A=w[M],R=A.getSnapshot;A=A.value;try{if(!co(R(),A))return!1}catch{return!1}}}if(w=f.child,f.subtreeFlags&16384&&w!==null)w.return=f,f=w;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ia(u,f){for(f&=~K1,f&=~Ug,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var w=31-In(f),M=1<<w;u[w]=-1,f&=~M}}function DC(u){if(Kt&6)throw Error(o(327));ic();var f=ag(u,0);if(!(f&1))return Ei(u,Ar()),null;var w=qg(u,f);if(u.tag!==0&&w===2){var M=o1(u);M!==0&&(f=M,w=nw(u,M))}if(w===1)throw w=nh,nc(u,0),Ia(u,f),Ei(u,Ar()),w;if(w===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,rc(u,Mi),Ei(u,Ar()),null}function OC(u){Ra!==null&&Ra.tag===0&&!(Kt&6)&&ic();var f=Kt;Kt|=1;var w=er.transition,M=an;try{if(er.transition=null,an=1,u)return u()}finally{an=M,er.transition=w,Kt=f,!(Kt&6)&&uo()}}function iw(){Vi=Lu.current,_t(Lu)}function nc(u,f){u.finishedWork=null,u.finishedLanes=0;var w=u.timeoutHandle;if(w!==et&&(u.timeoutHandle=et,Ge(w)),dr!==null)for(w=dr.return;w!==null;){var M=w;switch(_1(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Or();break;case 3:ku(),_t(Ot),_t(Ut),A1();break;case 5:T1(M);break;case 4:ku();break;case 13:_t(Fn);break;case 19:_t(Fn);break;case 10:m1(M.type._context);break;case 22:case 23:iw()}w=w.return}if(ur=u,dr=u=Da(u.current,null),jr=Vi=f,yr=0,nh=null,K1=Ug=Iu=0,Mi=rh=null,fo!==null){for(f=0;f<fo.length;f++)if(w=fo[f],M=w.interleaved,M!==null){w.interleaved=null;var A=M.next,R=w.pending;if(R!==null){var Y=R.next;R.next=A,M.next=Y}w.pending=M}fo=null}return u}function jC(u,f){do{var w=dr;try{if(p1(),wg.current=Tg,_g){for(var M=$n.memoizedState;M!==null;){var A=M.queue;A!==null&&(A.pending=null),M=M.next}_g=!1}if(Ru=0,Pr=Vr=$n=null,Zf=!1,qf=0,Y1.current=null,w===null||w.return===null){yr=1,nh=f,dr=null;break}e:{var R=u,Y=w.return,ce=w,Me=f;if(f=jr,ce.flags|=32768,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var Qe=Me,vt=ce,jt=vt.tag;if(!(vt.mode&1)&&(jt===0||jt===11||jt===15)){var Pt=vt.alternate;Pt?(vt.updateQueue=Pt.updateQueue,vt.memoizedState=Pt.memoizedState,vt.lanes=Pt.lanes):(vt.updateQueue=null,vt.memoizedState=null)}var bn=iC(Y);if(bn!==null){bn.flags&=-257,sC(bn,Y,ce,R,f),bn.mode&1&&rC(R,Qe,f),f=bn,Me=Qe;var Tt=f.updateQueue;if(Tt===null){var Gr=new Set;Gr.add(Me),f.updateQueue=Gr}else Tt.add(Me);break e}else{if(!(f&1)){rC(R,Qe,f),sw();break e}Me=Error(o(426))}}else if(Dn&&ce.mode&1){var hs=iC(Y);if(hs!==null){!(hs.flags&65536)&&(hs.flags|=256),sC(hs,Y,ce,R,f),M1(Me);break e}}R=Me,yr!==4&&(yr=2),rh===null?rh=[R]:rh.push(R),Me=D1(Me,ce),ce=Y;do{switch(ce.tag){case 3:ce.flags|=65536,f&=-f,ce.lanes|=f;var xe=tC(ce,Me,f);ST(ce,xe);break e;case 1:R=Me;var de=ce.type,Se=ce.stateNode;if(!(ce.flags&128)&&(typeof de.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(ka===null||!ka.has(Se)))){ce.flags|=65536,f&=-f,ce.lanes|=f;var lt=nC(ce,R,f);ST(ce,lt);break e}}ce=ce.return}while(ce!==null)}BC(w)}catch(Mt){f=Mt,dr===w&&w!==null&&(dr=w=w.return);continue}break}while(!0)}function FC(){var u=Bg.current;return Bg.current=Tg,u===null?Tg:u}function sw(){(yr===0||yr===3||yr===2)&&(yr=4),ur===null||!(Iu&268435455)&&!(Ug&268435455)||Ia(ur,jr)}function qg(u,f){var w=Kt;Kt|=2;var M=FC();ur===u&&jr===f||nc(u,f);do try{Y5();break}catch(A){jC(u,A)}while(!0);if(p1(),Kt=w,Bg.current=M,dr!==null)throw Error(o(261));return ur=null,jr=0,yr}function Y5(){for(;dr!==null;)zC(dr)}function K5(){for(;dr!==null&&!S5();)zC(dr)}function zC(u){var f=WC(u.alternate,u,Vi);u.memoizedProps=u.pendingProps,f===null?BC(u):dr=f,Y1.current=null}function BC(u){var f=u;do{var w=f.alternate;if(u=f.return,f.flags&32768){if(w=W5(w,f),w!==null){w.flags&=32767,dr=w;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{yr=6,dr=null;return}}else if(w=B5(w,f,Vi),w!==null){dr=w;return}if(f=f.sibling,f!==null){dr=f;return}dr=f=u}while(f!==null);yr===0&&(yr=5)}function rc(u,f){var w=an,M=er.transition;try{er.transition=null,an=1,Q5(u,f,w)}finally{er.transition=M,an=w}return null}function Q5(u,f,w){do ic();while(Ra!==null);if(Kt&6)throw Error(o(327));var M=u.finishedWork,A=u.finishedLanes;if(M===null)return null;if(u.finishedWork=null,u.finishedLanes=0,M===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var R=M.lanes|M.childLanes;if(b5(u,R),u===ur&&(dr=ur=null,jr=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||Wg||(Wg=!0,HC(d1,function(){return ic(),null})),R=(M.flags&15990)!==0,M.subtreeFlags&15990||R){R=er.transition,er.transition=null;var Y=an;an=1;var ce=Kt;Kt|=4,Y1.current=null,G5(u,M),$5(u,M),G(u.containerInfo),u.current=M,Z5(M),M5(),Kt=ce,an=Y,er.transition=R}else u.current=M;if(Wg&&(Wg=!1,Ra=u,Hg=A),R=u.pendingLanes,R===0&&(ka=null),C5(M.stateNode),Ei(u,Ar()),f!==null)for(w=u.onRecoverableError,M=0;M<f.length;M++)w(f[M]);if(Vg)throw Vg=!1,u=ew,ew=null,u;return Hg&1&&u.tag!==0&&ic(),R=u.pendingLanes,R&1?u===tw?ih++:(ih=0,tw=u):ih=0,uo(),null}function ic(){if(Ra!==null){var u=yT(Hg),f=er.transition,w=an;try{if(er.transition=null,an=16>u?16:u,Ra===null)var M=!1;else{if(u=Ra,Ra=null,Hg=0,Kt&6)throw Error(o(331));var A=Kt;for(Kt|=4,st=u.current;st!==null;){var R=st,Y=R.child;if(st.flags&16){var ce=R.deletions;if(ce!==null){for(var Me=0;Me<ce.length;Me++){var Qe=ce[Me];for(st=Qe;st!==null;){var vt=st;switch(vt.tag){case 0:case 11:case 15:tc(8,vt,R)}var jt=vt.child;if(jt!==null)jt.return=vt,st=jt;else for(;st!==null;){vt=st;var Pt=vt.sibling,bn=vt.return;if(MC(vt),vt===Qe){st=null;break}if(Pt!==null){Pt.return=bn,st=Pt;break}st=bn}}}var Tt=R.alternate;if(Tt!==null){var Gr=Tt.child;if(Gr!==null){Tt.child=null;do{var hs=Gr.sibling;Gr.sibling=null,Gr=hs}while(Gr!==null)}}st=R}}if(R.subtreeFlags&2064&&Y!==null)Y.return=R,st=Y;else e:for(;st!==null;){if(R=st,R.flags&2048)switch(R.tag){case 0:case 11:case 15:tc(9,R,R.return)}var xe=R.sibling;if(xe!==null){xe.return=R.return,st=xe;break e}st=R.return}}var de=u.current;for(st=de;st!==null;){Y=st;var Se=Y.child;if(Y.subtreeFlags&2064&&Se!==null)Se.return=Y,st=Se;else e:for(Y=de;st!==null;){if(ce=st,ce.flags&2048)try{switch(ce.tag){case 0:case 11:case 15:eh(9,ce)}}catch(Mt){Ti(ce,ce.return,Mt)}if(ce===Y){st=null;break e}var lt=ce.sibling;if(lt!==null){lt.return=ce.return,st=lt;break e}st=ce.return}}if(Kt=A,uo(),lo&&typeof lo.onPostCommitFiberRoot=="function")try{lo.onPostCommitFiberRoot(lg,u)}catch{}M=!0}return M}finally{an=w,er.transition=f}}return!1}function UC(u,f,w){f=D1(w,f),f=tC(u,f,1),Na(u,f),f=ci(),u=Zg(u,1),u!==null&&(Uf(u,1,f),Ei(u,f))}function Ti(u,f,w){if(u.tag===3)UC(u,u,w);else for(;f!==null;){if(f.tag===3){UC(f,u,w);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(ka===null||!ka.has(M))){u=D1(w,u),u=nC(f,u,1),Na(f,u),u=ci(),f=Zg(f,1),f!==null&&(Uf(f,1,u),Ei(f,u));break}}f=f.return}}function J5(u,f,w){var M=u.pingCache;M!==null&&M.delete(f),f=ci(),u.pingedLanes|=u.suspendedLanes&w,ur===u&&(jr&w)===w&&(yr===4||yr===3&&(jr&130023424)===jr&&500>Ar()-Q1?nc(u,0):K1|=w),Ei(u,f)}function VC(u,f){f===0&&(u.mode&1?(f=og,og<<=1,!(og&130023424)&&(og=4194304)):f=1);var w=ci();u=Zg(u,f),u!==null&&(Uf(u,f,w),Ei(u,w))}function e6(u){var f=u.memoizedState,w=0;f!==null&&(w=f.retryLane),VC(u,w)}function t6(u,f){var w=0;switch(u.tag){case 13:var M=u.stateNode,A=u.memoizedState;A!==null&&(w=A.retryLane);break;case 19:M=u.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(f),VC(u,w)}var WC;WC=function(u,f,w){if(u!==null)if(u.memoizedProps!==f.pendingProps||Ot.current)Ui=!0;else{if(!(u.lanes&w)&&!(f.flags&128))return Ui=!1,V5(u,f,w);Ui=!!(u.flags&131072)}else Ui=!1,Dn&&f.flags&1048576&&PT(f,vg,f.index);switch(f.lanes=0,f.tag){case 2:var M=f.type;u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps;var A=gr(f,Ut.current);Eu(f,w),A=N1(null,f,M,u,A,w);var R=k1();return f.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,cr(M)?(R=!0,vn(f)):R=!1,f.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,v1(f),A.updater=mg,f.stateNode=A,A._reactInternals=f,x1(f,M,u,w),f=F1(null,f,M,!0,R,w)):(f.tag=0,Dn&&R&&w1(f),li(null,f,A,w),f=f.child),f;case 16:M=f.elementType;e:{switch(u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps,A=M._init,M=A(M._payload),f.type=M,A=f.tag=r6(M),u=ks(M,u),A){case 0:f=j1(null,f,M,u,w);break e;case 1:f=hC(null,f,M,u,w);break e;case 11:f=lC(null,f,M,u,w);break e;case 14:f=cC(null,f,M,ks(M.type,u),w);break e}throw Error(o(306,M,""))}return f;case 0:return M=f.type,A=f.pendingProps,A=f.elementType===M?A:ks(M,A),j1(u,f,M,A,w);case 1:return M=f.type,A=f.pendingProps,A=f.elementType===M?A:ks(M,A),hC(u,f,M,A,w);case 3:e:{if(pC(f),u===null)throw Error(o(387));M=f.pendingProps,R=f.memoizedState,A=R.element,bT(u,f),pg(f,M,null,w);var Y=f.memoizedState;if(M=Y.element,ye&&R.isDehydrated)if(R={element:M,isDehydrated:!1,cache:Y.cache,transitions:Y.transitions},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){A=Error(o(423)),f=mC(u,f,M,w,A);break e}else if(M!==A){A=Error(o(424)),f=mC(u,f,M,w,A);break e}else for(ye&&(Bi=me(f.stateNode.containerInfo),zi=f,Dn=!0,Rs=null,Vf=!1),w=DT(f,null,M,w),f.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Au(),M===A){f=Vo(u,f,w);break e}li(u,f,M,w)}f=f.child}return f;case 5:return OT(f),u===null&&S1(f),M=f.type,A=f.pendingProps,R=u!==null?u.memoizedProps:null,Y=A.children,Ae(M,A)?Y=null:R!==null&&Ae(M,R)&&(f.flags|=32),fC(u,f),li(u,f,Y,w),f.child;case 6:return u===null&&S1(f),null;case 13:return gC(u,f,w);case 4:return E1(f,f.stateNode.containerInfo),M=f.pendingProps,u===null?f.child=Pu(f,null,M,w):li(u,f,M,w),f.child;case 11:return M=f.type,A=f.pendingProps,A=f.elementType===M?A:ks(M,A),lC(u,f,M,A,w);case 7:return li(u,f,f.pendingProps,w),f.child;case 8:return li(u,f,f.pendingProps.children,w),f.child;case 12:return li(u,f,f.pendingProps.children,w),f.child;case 10:e:{if(M=f.type._context,A=f.pendingProps,R=f.memoizedProps,Y=A.value,_T(f,M,Y),R!==null)if(co(R.value,Y)){if(R.children===A.children&&!Ot.current){f=Vo(u,f,w);break e}}else for(R=f.child,R!==null&&(R.return=f);R!==null;){var ce=R.dependencies;if(ce!==null){Y=R.child;for(var Me=ce.firstContext;Me!==null;){if(Me.context===M){if(R.tag===1){Me=Fo(-1,w&-w),Me.tag=2;var Qe=R.updateQueue;if(Qe!==null){Qe=Qe.shared;var vt=Qe.pending;vt===null?Me.next=Me:(Me.next=vt.next,vt.next=Me),Qe.pending=Me}}R.lanes|=w,Me=R.alternate,Me!==null&&(Me.lanes|=w),g1(R.return,w,f),ce.lanes|=w;break}Me=Me.next}}else if(R.tag===10)Y=R.type===f.type?null:R.child;else if(R.tag===18){if(Y=R.return,Y===null)throw Error(o(341));Y.lanes|=w,ce=Y.alternate,ce!==null&&(ce.lanes|=w),g1(Y,w,f),Y=R.sibling}else Y=R.child;if(Y!==null)Y.return=R;else for(Y=R;Y!==null;){if(Y===f){Y=null;break}if(R=Y.sibling,R!==null){R.return=Y.return,Y=R;break}Y=Y.return}R=Y}li(u,f,A.children,w),f=f.child}return f;case 9:return A=f.type,M=f.pendingProps.children,Eu(f,w),A=os(A),M=M(A),f.flags|=1,li(u,f,M,w),f.child;case 14:return M=f.type,A=ks(M,f.pendingProps),A=ks(M.type,A),cC(u,f,M,A,w);case 15:return uC(u,f,f.type,f.pendingProps,w);case 17:return M=f.type,A=f.pendingProps,A=f.elementType===M?A:ks(M,A),u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,cr(M)?(u=!0,vn(f)):u=!1,Eu(f,w),CT(f,M,A),x1(f,M,A,w),F1(null,f,M,!0,u,w);case 19:return wC(u,f,w);case 22:return dC(u,f,w)}throw Error(o(156,f.tag))};function HC(u,f){return c1(u,f)}function n6(u,f,w,M){this.tag=u,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(u,f,w,M){return new n6(u,f,w,M)}function ow(u){return u=u.prototype,!(!u||!u.isReactComponent)}function r6(u){if(typeof u=="function")return ow(u)?1:0;if(u!=null){if(u=u.$$typeof,u===y)return 11;if(u===_)return 14}return 2}function Da(u,f){var w=u.alternate;return w===null?(w=fs(u.tag,f,u.key,u.mode),w.elementType=u.elementType,w.type=u.type,w.stateNode=u.stateNode,w.alternate=u,u.alternate=w):(w.pendingProps=f,w.type=u.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=u.flags&14680064,w.childLanes=u.childLanes,w.lanes=u.lanes,w.child=u.child,w.memoizedProps=u.memoizedProps,w.memoizedState=u.memoizedState,w.updateQueue=u.updateQueue,f=u.dependencies,w.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},w.sibling=u.sibling,w.index=u.index,w.ref=u.ref,w}function Xg(u,f,w,M,A,R){var Y=2;if(M=u,typeof u=="function")ow(u)&&(Y=1);else if(typeof u=="string")Y=5;else e:switch(u){case d:return sc(w.children,A,R,f);case h:Y=8,A|=8;break;case p:return u=fs(12,w,f,A|2),u.elementType=p,u.lanes=R,u;case x:return u=fs(13,w,f,A),u.elementType=x,u.lanes=R,u;case b:return u=fs(19,w,f,A),u.elementType=b,u.lanes=R,u;case E:return Yg(w,A,R,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case g:Y=10;break e;case v:Y=9;break e;case y:Y=11;break e;case _:Y=14;break e;case S:Y=16,M=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return f=fs(Y,w,f,A),f.elementType=u,f.type=M,f.lanes=R,f}function sc(u,f,w,M){return u=fs(7,u,M,f),u.lanes=w,u}function Yg(u,f,w,M){return u=fs(22,u,M,f),u.elementType=E,u.lanes=w,u.stateNode={},u}function aw(u,f,w){return u=fs(6,u,null,f),u.lanes=w,u}function lw(u,f,w){return f=fs(4,u.children!==null?u.children:[],u.key,f),f.lanes=w,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function i6(u,f,w,M,A){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=et,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=a1(0),this.expirationTimes=a1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=a1(0),this.identifierPrefix=M,this.onRecoverableError=A,ye&&(this.mutableSourceEagerHydrationData=null)}function GC(u,f,w,M,A,R,Y,ce,Me){return u=new i6(u,f,w,ce,Me),f===1?(f=1,R===!0&&(f|=8)):f=0,R=fs(3,null,null,f),u.current=R,R.stateNode=u,R.memoizedState={element:M,isDehydrated:w,cache:null,transitions:null},v1(R),u}function $C(u){if(!u)return Yt;u=u._reactInternals;e:{if(k(u)!==u||u.tag!==1)throw Error(o(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(cr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(u.tag===1){var w=u.type;if(cr(w))return vr(u,w,f)}return f}function ZC(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=H(f),u===null?null:u.stateNode}function qC(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var w=u.retryLane;u.retryLane=w!==0&&w<f?w:f}}function cw(u,f){qC(u,f),(u=u.alternate)&&qC(u,f)}function s6(u){return u=H(u),u===null?null:u.stateNode}function o6(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var f=ci();ds(u,134217728,f),cw(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=ci(),w=La(u);ds(u,w,f),cw(u,w)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var w=Bf(f.pendingLanes);w!==0&&(l1(f,w|1),Ei(f,Ar()),!(Kt&6)&&(Du(),uo()))}break;case 13:var M=ci();OC(function(){return ds(u,1,M)}),cw(u,1)}},t.batchedUpdates=function(u,f){var w=Kt;Kt|=1;try{return u(f)}finally{Kt=w,Kt===0&&(Du(),cg&&uo())}},t.createComponentSelector=function(u){return{$$typeof:Dg,value:u}},t.createContainer=function(u,f,w,M,A,R,Y){return GC(u,f,!1,null,w,M,A,R,Y)},t.createHasPseudoClassSelector=function(u){return{$$typeof:Og,value:u}},t.createHydrationContainer=function(u,f,w,M,A,R,Y,ce,Me){return u=GC(w,M,!0,u,A,R,Y,ce,Me),u.context=$C(null),w=u.current,M=ci(),A=La(w),R=Fo(M,A),R.callback=f??null,Na(w,R),u.current.lanes=A,Uf(u,A,M),Ei(u,M),u},t.createPortal=function(u,f,w){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:u,containerInfo:f,implementation:w}},t.createRoleSelector=function(u){return{$$typeof:jg,value:u}},t.createTestNameSelector=function(u){return{$$typeof:Fg,value:u}},t.createTextSelector=function(u){return{$$typeof:zg,value:u}},t.deferredUpdates=function(u){var f=an,w=er.transition;try{return er.transition=null,an=16,u()}finally{an=f,er.transition=w}},t.discreteUpdates=function(u,f,w,M,A){var R=an,Y=er.transition;try{return er.transition=null,an=1,u(f,w,M,A)}finally{an=R,er.transition=Y,Kt===0&&Du()}},t.findAllNodes=X1,t.findBoundingRects=function(u,f){if(!fe)throw Error(o(363));f=X1(u,f),u=[];for(var w=0;w<f.length;w++)u.push(B(f[w]));for(f=u.length-1;0<f;f--){w=u[f];for(var M=w.x,A=M+w.width,R=w.y,Y=R+w.height,ce=f-1;0<=ce;ce--)if(f!==ce){var Me=u[ce],Qe=Me.x,vt=Qe+Me.width,jt=Me.y,Pt=jt+Me.height;if(M>=Qe&&R>=jt&&A<=vt&&Y<=Pt){u.splice(f,1);break}else if(M!==Qe||w.width!==Me.width||Pt<R||jt>Y){if(!(R!==jt||w.height!==Me.height||vt<M||Qe>A)){Qe>M&&(Me.width+=Qe-M,Me.x=M),vt<A&&(Me.width=A-Qe),u.splice(f,1);break}}else{jt>R&&(Me.height+=jt-R,Me.y=R),Pt<Y&&(Me.height=Y-jt),u.splice(f,1);break}}}return u},t.findHostInstance=ZC,t.findHostInstanceWithNoPortals=function(u){return u=U(u),u=u!==null?z(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return ZC(u)},t.flushControlled=function(u){var f=Kt;Kt|=1;var w=er.transition,M=an;try{er.transition=null,an=1,u()}finally{an=M,er.transition=w,Kt=f,Kt===0&&(Du(),uo())}},t.flushPassiveEffects=ic,t.flushSync=OC,t.focusWithin=function(u,f){if(!fe)throw Error(o(363));for(u=$1(u),f=LC(u,f),f=Array.from(f),u=0;u<f.length;){var w=f[u++];if(!ae(w)){if(w.tag===5&&Oe(w.stateNode))return!0;for(w=w.child;w!==null;)f.push(w),w=w.sibling}}return!1},t.getCurrentUpdatePriority=function(){return an},t.getFindAllNodesFailureDescription=function(u,f){if(!fe)throw Error(o(363));var w=0,M=[];u=[$1(u),0];for(var A=0;A<u.length;){var R=u[A++],Y=u[A++],ce=f[Y];if((R.tag!==5||!ae(R))&&(Z1(R,ce)&&(M.push(q1(ce)),Y++,Y>w&&(w=Y)),Y<f.length))for(R=R.child;R!==null;)u.push(R,Y),R=R.sibling}if(w<f.length){for(u=[];w<f.length;w++)u.push(q1(f[w]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return K(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:s6,findFiberByHostInstance:u.findFiberByHostInstance||o6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{lg=f.inject(u),lo=f}catch{}u=!!f.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,f,w,M){if(!fe)throw Error(o(363));u=X1(u,f);var A=je(u,w,M).disconnect;return{disconnect:function(){A()}}},t.registerMutableSourceForHydration=function(u,f){var w=f._getVersion;w=w(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,w]:u.mutableSourceEagerHydrationData.push(f,w)},t.runWithPriority=function(u,f){var w=an;try{return an=u,f()}finally{an=w}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,f,w,M){var A=f.current,R=ci(),Y=La(A);return w=$C(w),f.context===null?f.context=w:f.pendingContext=w,f=Fo(R,Y),f.payload={element:u},M=M===void 0?null:M,M!==null&&(f.callback=M),Na(A,f),u=ds(A,Y,R),u!==null&&hg(u,A,Y),Y},t};_F.exports=xne;var wne=_F.exports;const _ne=b2(wne);var bF={exports:{}},SF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,W){var G=D.length;D.push(W);e:for(;0<G;){var J=G-1>>>1,Z=D[J];if(0<i(Z,W))D[J]=W,D[G]=Z,G=J;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var W=D[0],G=D.pop();if(G!==W){D[0]=G;e:for(var J=0,Z=D.length,oe=Z>>>1;J<oe;){var we=2*(J+1)-1,Ae=D[we],re=we+1,Ve=D[re];if(0>i(Ae,G))re<Z&&0>i(Ve,Ae)?(D[J]=Ve,D[re]=G,J=re):(D[J]=Ae,D[we]=G,J=we);else if(re<Z&&0>i(Ve,G))D[J]=Ve,D[re]=G,J=re;else break e}}return W}function i(D,W){var G=D.sortIndex-W.sortIndex;return G!==0?G:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var W=t(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=D)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(c)}}function E(D){if(y=!1,S(D),!v)if(t(l)!==null)v=!0,K(C);else{var W=t(c);W!==null&&le(E,W.startTime-D)}}function C(D,W){v=!1,y&&(y=!1,b(T),T=-1),g=!0;var G=p;try{for(S(W),h=t(l);h!==null&&(!(h.expirationTime>W)||D&&!U());){var J=h.callback;if(typeof J=="function"){h.callback=null,p=h.priorityLevel;var Z=J(h.expirationTime<=W);W=n.unstable_now(),typeof Z=="function"?h.callback=Z:h===t(l)&&r(l),S(W)}else r(l);h=t(l)}if(h!==null)var oe=!0;else{var we=t(c);we!==null&&le(E,we.startTime-W),oe=!1}return oe}finally{h=null,p=G,g=!1}}var P=!1,I=null,T=-1,k=5,O=-1;function U(){return!(n.unstable_now()-O<k)}function H(){if(I!==null){var D=n.unstable_now();O=D;var W=!0;try{W=I(!0,D)}finally{W?V():(P=!1,I=null)}}else P=!1}var V;if(typeof _=="function")V=function(){_(H)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ee=z.port2;z.port1.onmessage=H,V=function(){ee.postMessage(null)}}else V=function(){x(H,0)};function K(D){I=D,P||(P=!0,V())}function le(D,W){T=x(function(){D(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,K(C))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var G=p;p=W;try{return D()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=p;p=D;try{return W()}finally{p=G}},n.unstable_scheduleCallback=function(D,W,G){var J=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=G+Z,D={id:d++,callback:W,priorityLevel:D,startTime:G,expirationTime:Z,sortIndex:-1},G>J?(D.sortIndex=G,e(c,D),t(l)===null&&D===t(c)&&(y?(b(T),T=-1):y=!0,le(E,G-J))):(D.sortIndex=Z,e(l,D),v||g||(v=!0,K(C))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var W=p;return function(){var G=p;p=W;try{return D.apply(this,arguments)}finally{p=G}}}})(SF);bF.exports=SF;var mk=bF.exports;const VE={},MF=n=>void Object.assign(VE,n);function bne(n,e){function t(d,{args:h=[],attach:p,...g},v){let y=`${d[0].toUpperCase()}${d.slice(1)}`,x;if(d==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const b=g.object;x=sd(b,{type:d,root:v,attach:p,primitive:!0})}else{const b=VE[y];if(!b)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=sd(new b(...h),{type:d,root:v,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),y!=="inject"&&U_(x,g),x}function r(d,h){let p=!1;if(h){var g,v;(g=h.__r3f)!=null&&g.attach?B_(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(v=d.__r3f)==null||v.objects.push(h),h.__r3f||sd(h,{}),h.__r3f.parent=d,d2(h),od(h)}}function i(d,h,p){let g=!1;if(h){var v,y;if((v=h.__r3f)!=null&&v.attach)B_(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:h});const x=d.children.filter(_=>_!==h),b=x.indexOf(p);d.children=[...x.slice(0,b),h,...x.slice(b)],g=!0}g||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||sd(h,{}),h.__r3f.parent=d,d2(h),od(h)}}function s(d,h,p=!1){d&&[...d].forEach(g=>o(h,g,p))}function o(d,h,p){if(h){var g,v,y;if(h.__r3f&&(h.__r3f.parent=null),(g=d.__r3f)!=null&&g.objects&&(d.__r3f.objects=d.__r3f.objects.filter(E=>E!==h)),(v=h.__r3f)!=null&&v.attach)wk(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var x;d.remove(h),(x=h.__r3f)!=null&&x.root&&Nne(U0(h),h)}const _=(y=h.__r3f)==null?void 0:y.primitive,S=!_&&(p===void 0?h.dispose!==null:p);if(!_){var b;s((b=h.__r3f)==null?void 0:b.objects,h,S),s(h.children,h,S)}if(delete h.__r3f,S&&h.dispose&&h.type!=="Scene"){const E=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?mk.unstable_scheduleCallback(mk.unstable_IdlePriority,E):E()}od(d)}}function a(d,h,p,g){var v;const y=(v=d.__r3f)==null?void 0:v.parent;if(!y)return;const x=t(h,p,d.__r3f.root);if(d.children){for(const b of d.children)b.__r3f&&r(x,b);d.children=d.children.filter(b=>!b.__r3f)}d.__r3f.objects.forEach(b=>r(x,b)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(y,d),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(y,x),x.raycast&&x.__r3f.eventCount&&U0(x).getState().internal.interaction.push(x),[g,g.alternate].forEach(b=>{b!==null&&(b.stateNode=x,b.ref&&(typeof b.ref=="function"?b.ref(x):b.ref.current=x))})}const l=()=>{};return{reconciler:_ne({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,r(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const g=d.getState().scene;g.__r3f&&i(g,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,g){var v;if(((v=d==null?void 0:d.__r3f)!=null?v:{}).primitive&&g.object&&g.object!==d)return[!0];{const{args:x=[],children:b,..._}=g,{args:S=[],children:E,...C}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((I,T)=>I!==S[T]))return[!0];const P=kF(d,_,C,!0);return P.changes.length?[!1,P]:null}},commitUpdate(d,[h,p],g,v,y,x){h?a(d,g,y,x):U_(d,p)},commitMount(d,h,p,g){var v;const y=(v=d.__r3f)!=null?v:{};d.raycast&&y.handlers&&y.eventCount&&U0(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>sd(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:g}=(h=d.__r3f)!=null?h:{};p&&g&&wk(g,d,p),d.isObject3D&&(d.visible=!1),od(d)},unhideInstance(d,h){var p;const{attach:g,parent:v}=(p=d.__r3f)!=null?p:{};g&&v&&B_(v,d,g),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),od(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Ld.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Tn.fun(performance.now)?performance.now:Tn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Tn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Tn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:U_}}var gk,vk;const z_=n=>"colorSpace"in n||"outputColorSpace"in n,EF=()=>{var n;return(n=VE.ColorManagement)!=null?n:null},TF=n=>n&&n.isOrthographicCamera,Sne=n=>n&&n.hasOwnProperty("current"),eg=typeof window<"u"&&((gk=window.document)!=null&&gk.createElement||((vk=window.navigator)==null?void 0:vk.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function CF(n){const e=N.useRef(n);return eg(()=>void(e.current=n),[n]),e}function Mne({set:n}){return eg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class AF extends N.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}AF.getDerivedStateFromError=()=>({error:!0});const PF="__default",yk=new Map,Ene=n=>n&&!!n.memoized&&!!n.changes;function NF(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Ph=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function U0(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Tn={obj:n=>n===Object(n)&&!Tn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Tn.str(n)||Tn.num(n)||Tn.boo(n))return n===e;const s=Tn.obj(n);if(s&&r==="reference")return n===e;const o=Tn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!Tn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(Tn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Tne(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Cne(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function sd(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function u2(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const xk=/-\d+$/;function B_(n,e,t){if(Tn.str(t)){if(xk.test(t)){const s=t.replace(xk,""),{target:o,key:a}=u2(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=u2(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function wk(n,e,t){var r,i;if(Tn.str(t)){const{target:s,key:o}=u2(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function kF(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const d=n.__r3f,h=Object.entries(i),p=[];if(c){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||h.unshift([v[y],PF+"remove"])}h.forEach(([v,y])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||Tn.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,y,!0,[]]);let b=[];v.includes("-")&&(b=v.split("-")),p.push([v,y,!1,b]);for(const _ in i){const S=i[_];_.startsWith(`${v}-`)&&p.push([_,S,!1,_.split("-")])}});const g={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:p}}const Ane=typeof process<"u"&&!1;function U_(n,e){var t;const r=n.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Ene(e)?e:kF(n,e),l=r==null?void 0:r.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[g,v,y,x]=a[p];if(z_(n)){const E="srgb",C="srgb-linear";g==="encoding"?(g="colorSpace",v=v===3001?E:C):g==="outputEncoding"&&(g="outputColorSpace",v=v===3001?E:C)}let b=n,_=b[g];if(x.length&&(_=x.reduce((S,E)=>S[E],n),!(_&&_.set))){const[S,...E]=x.reverse();b=E.reverse().reduce((C,P)=>C[P],n),g=S}if(v===PF+"remove")if(b.constructor){let S=yk.get(b.constructor);S||(S=new b.constructor,yk.set(b.constructor,S)),v=S[g]}else v=0;if(y&&r)v?r.handlers[g]=v:delete r.handlers[g],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Xc)){if(Array.isArray(v))_.fromArray?_.fromArray(v):_.set(...v);else if(_.copy&&v&&v.constructor&&(Ane?_.constructor.name===v.constructor.name:_.constructor===v.constructor))_.copy(v);else if(v!==void 0){var c;const S=(c=_)==null?void 0:c.isColor;!S&&_.setScalar?_.setScalar(v):_ instanceof Xc&&v instanceof Xc?_.mask=v.mask:_.set(v),!EF()&&s&&!s.linear&&S&&_.convertSRGBToLinear()}}else{var d;if(b[g]=v,(d=b[g])!=null&&d.isTexture&&b[g].format===br&&b[g].type===Ns&&s){const S=b[g];z_(S)&&z_(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}}od(n)}if(r&&r.parent&&n.raycast&&l!==r.eventCount){const p=U0(n).getState().internal,g=p.interaction.indexOf(n);g>-1&&p.interaction.splice(g,1),r.eventCount&&p.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&d2(n),n}function od(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function d2(n){n.onUpdate==null||n.onUpdate(n)}function RF(n,e){n.manual||(TF(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function c0(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Pne(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Ld.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ld.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ld.ContinuousEventPriority;default:return Ld.DefaultEventPriority}}function LF(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Nne(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{LF(t.capturedMap,e,r,i)})}function kne(n){function e(l){const{internal:c}=n.getState(),d=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function r(l,c){const d=n.getState(),h=new Set,p=[],g=c?c(d.internal.interaction):d.internal.interaction;for(let b=0;b<g.length;b++){const _=Ph(g[b]);_&&(_.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(b){const _=Ph(b);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(l,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(b,!0):[]}let y=g.flatMap(v).sort((b,_)=>{const S=Ph(b.object),E=Ph(_.object);return!S||!E?b.distance-_.distance:E.events.priority-S.events.priority||b.distance-_.distance}).filter(b=>{const _=c0(b);return h.has(_)?!1:(h.add(_),!0)});d.events.filter&&(y=d.events.filter(y,d));for(const b of y){let _=b.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&p.push({...b,eventObject:_}),_=_.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let b of d.internal.capturedMap.get(l.pointerId).values())h.has(c0(b.intersection))||p.push(b.intersection);return p}function i(l,c,d,h){const p=n.getState();if(l.length){const g={stopped:!1};for(const v of l){const y=Ph(v.object)||p,{raycaster:x,pointer:b,camera:_,internal:S}=y,E=new $(b.x,b.y,0).unproject(_),C=O=>{var U,H;return(U=(H=S.capturedMap.get(O))==null?void 0:H.has(v.eventObject))!=null?U:!1},P=O=>{const U={intersection:v,target:c.target};S.capturedMap.has(O)?S.capturedMap.get(O).set(v.eventObject,U):S.capturedMap.set(O,new Map([[v.eventObject,U]])),c.target.setPointerCapture(O)},I=O=>{const U=S.capturedMap.get(O);U&&LF(S.capturedMap,v.eventObject,U,O)};let T={};for(let O in c){let U=c[O];typeof U!="function"&&(T[O]=U)}let k={...v,...T,pointer:b,intersections:l,stopped:g.stopped,delta:d,unprojectedPoint:E,ray:x.ray,camera:_,stopPropagation(){const O="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!O||O.has(v.eventObject))&&(k.stopped=g.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(U=>U.eventObject===v.eventObject))){const U=l.slice(0,l.indexOf(v));s([...U,v])}},target:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:I},currentTarget:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:I},nativeEvent:c};if(h(k),g.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const d of c.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,g=p==null?void 0:p.handlers;if(c.hovered.delete(c0(d)),p!=null&&p.eventCount){const v={...d,intersections:l};g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}}function o(l,c){for(let d=0;d<c.length;d++){const h=c[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=n.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const g=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(d,g?t:void 0),b=v?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=x.map(S=>S.eventObject)),v&&!x.length&&b<=2&&(o(d,p.interaction),h&&h(d)),g&&s(x);function _(S){const E=S.eventObject,C=E.__r3f,P=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(g){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const I=c0(S),T=p.hovered.get(I);T?T.stopped&&S.stopPropagation():(p.hovered.set(I,S),P.onPointerOver==null||P.onPointerOver(S),P.onPointerEnter==null||P.onPointerEnter(S))}P.onPointerMove==null||P.onPointerMove(S)}else{const I=P[l];I?(!v||p.initialHits.includes(E))&&(o(d,p.interaction.filter(T=>!p.initialHits.includes(T))),I(S)):v&&p.initialHits.includes(E)&&o(d,p.interaction.filter(T=>!p.initialHits.includes(T)))}}i(x,d,b,_)}}return{handlePointer:a}}const Rne=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],IF=n=>!!(n!=null&&n.render),WE=N.createContext(null),Lne=(n,e)=>{const t=yF((a,l)=>{const c=new $,d=new $,h=new $;function p(b=l().camera,_=d,S=l().size){const{width:E,height:C,top:P,left:I}=S,T=E/C;_.isVector3?h.copy(_):h.set(..._);const k=b.getWorldPosition(c).distanceTo(h);if(TF(b))return{width:E/b.zoom,height:C/b.zoom,top:P,left:I,factor:1,distance:k,aspect:T};{const O=b.fov*Math.PI/180,U=2*Math.tan(O/2)*k,H=U*(E/C);return{width:H,height:U,top:P,left:I,factor:E/H,distance:k,aspect:T}}}let g;const v=b=>a(_=>({performance:{..._.performance,current:b}})),y=new Le;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(b=1)=>n(l(),b),advance:(b,_)=>e(b,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new jE,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=l();g&&clearTimeout(g),b.performance.current!==b.performance.min&&v(b.performance.min),g=setTimeout(()=>v(l().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:b=>a(_=>({..._,events:{..._.events,...b}})),setSize:(b,_,S,E,C)=>{const P=l().camera,I={width:b,height:_,top:E||0,left:C||0,updateStyle:S};a(T=>({size:I,viewport:{...T.viewport,...p(P,d,I)}}))},setDpr:b=>a(_=>{const S=NF(b);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(b="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,b!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:b}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:N.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(b,_,S)=>{const E=l().internal;return E.priority=E.priority+(_>0?1:0),E.subscribers.push({ref:b,priority:_,store:S}),E.subscribers=E.subscribers.sort((C,P)=>C.priority-P.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(_>0?1:0),C.subscribers=C.subscribers.filter(P=>P.ref!==b))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:h}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var p;i=l,s=c.dpr,RF(a,l),d.setPixelRatio(c.dpr);const g=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,g)}a!==o&&(o=a,h(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let u0,Ine=new Set,Dne=new Set,One=new Set;function V_(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Nh(n,e){switch(n){case"before":return V_(Ine,e);case"after":return V_(Dne,e);case"tail":return V_(One,e)}}let W_,H_;function G_(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),W_=e.internal.subscribers,u0=0;u0<W_.length;u0++)H_=W_[u0],H_.ref.current(H_.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function jne(n){let e=!1,t=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,Nh("before",c),t=!0;for(const h of n.values()){var d;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=G_(c,s))}if(t=!1,Nh("after",c),r===0)return Nh("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,d=1){var h;if(!c)return n.forEach(p=>a(p.store.getState(),d));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(d>1?c.internal.frames=Math.min(60,c.internal.frames+d):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,d=!0,h,p){if(d&&Nh("before",c),h)G_(c,h,p);else for(const g of n.values())G_(c,g.store.getState());d&&Nh("after",c)}return{loop:o,invalidate:a,advance:l}}function HE(){const n=N.useContext(WE);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function zr(n=t=>t,e){return HE()(n,e)}function bu(n,e=0){const t=HE(),r=t.getState().internal.subscribe,i=CF(n);return eg(()=>r(i,e,t),[e,r,t]),null}const _k=new WeakMap;function DF(n,e){return function(t,...r){let i=_k.get(t);return i||(i=new t,_k.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Tne(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function vf(n,e,t,r){const i=Array.isArray(e)?e:[e],s=pne(DF(t,r),[n,...i],{equal:Tn.equ});return Array.isArray(e)?s:s[0]}vf.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return mne(DF(t),[n,...r])};vf.clear=function(n,e){const t=Array.isArray(e)?e:[e];return gne([n,...t])};const yf=new Map,{invalidate:bk,advance:Sk}=jne(yf),{reconciler:sm,applyProps:Ka}=bne(yf,Pne),td={objects:"shallow",strict:!1},Fne=(n,e)=>{const t=typeof n=="function"?n(e):n;return IF(t)?t:new Fx({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function zne(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Bne(n){const e=yf.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Lne(bk,Sk),o=t||sm.createContainer(s,Ld.ConcurrentRoot,null,!1,null,"",i,null);e||yf.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(d={}){let{gl:h,size:p,scene:g,events:v,onCreated:y,shadows:x=!1,linear:b=!1,flat:_=!1,legacy:S=!1,orthographic:E=!1,frameloop:C="always",dpr:P=[1,2],performance:I,raycaster:T,camera:k,onPointerMissed:O}=d,U=s.getState(),H=U.gl;U.gl||U.set({gl:H=Fne(h,n)});let V=U.raycaster;V||U.set({raycaster:V=new UE});const{params:z,...ee}=T||{};if(Tn.equ(ee,V,td)||Ka(V,{...ee}),Tn.equ(z,V.params,td)||Ka(V,{params:{...V.params,...z}}),!U.camera||U.camera===c&&!Tn.equ(c,k,td)){c=k;const G=k instanceof zm,J=G?k:E?new Ys(0,0,0,0,.1,1e3):new Un(75,0,.1,1e3);G||(J.position.z=5,k&&(Ka(J,k),("aspect"in k||"left"in k||"right"in k||"bottom"in k||"top"in k)&&(J.manual=!0,J.updateProjectionMatrix())),!U.camera&&!(k!=null&&k.rotation)&&J.lookAt(0,0,0)),U.set({camera:J}),V.camera=J}if(!U.scene){let G;g!=null&&g.isScene?G=g:(G=new Um,g&&Ka(G,g)),U.set({scene:sd(G)})}if(!U.xr){var K;const G=(oe,we)=>{const Ae=s.getState();Ae.frameloop!=="never"&&Sk(oe,!0,Ae,we)},J=()=>{const oe=s.getState();oe.gl.xr.enabled=oe.gl.xr.isPresenting,oe.gl.xr.setAnimationLoop(oe.gl.xr.isPresenting?G:null),oe.gl.xr.isPresenting||bk(oe)},Z={connect(){const oe=s.getState().gl;oe.xr.addEventListener("sessionstart",J),oe.xr.addEventListener("sessionend",J)},disconnect(){const oe=s.getState().gl;oe.xr.removeEventListener("sessionstart",J),oe.xr.removeEventListener("sessionend",J)}};typeof((K=H.xr)==null?void 0:K.addEventListener)=="function"&&Z.connect(),U.set({xr:Z})}if(H.shadowMap){const G=H.shadowMap.enabled,J=H.shadowMap.type;if(H.shadowMap.enabled=!!x,Tn.boo(x))H.shadowMap.type=ap;else if(Tn.str(x)){var le;const Z={basic:MO,percentage:Rx,soft:ap,variance:Pc};H.shadowMap.type=(le=Z[x])!=null?le:ap}else Tn.obj(x)&&Object.assign(H.shadowMap,x);(G!==H.shadowMap.enabled||J!==H.shadowMap.type)&&(H.shadowMap.needsUpdate=!0)}const D=EF();D&&("enabled"in D?D.enabled=!S:"legacyMode"in D&&(D.legacyMode=S)),l||Ka(H,{outputEncoding:b?3e3:3001,toneMapping:_?Xs:rE}),U.legacy!==S&&U.set(()=>({legacy:S})),U.linear!==b&&U.set(()=>({linear:b})),U.flat!==_&&U.set(()=>({flat:_})),h&&!Tn.fun(h)&&!IF(h)&&!Tn.equ(h,H,td)&&Ka(H,h),v&&!U.events.handlers&&U.set({events:v(s)});const W=zne(n,p);return Tn.equ(W,U.size,td)||U.setSize(W.width,W.height,W.updateStyle,W.top,W.left),P&&U.viewport.dpr!==NF(P)&&U.setDpr(P),U.frameloop!==C&&U.setFrameloop(C),U.onPointerMissed||U.set({onPointerMissed:O}),I&&!Tn.equ(I,U.performance,td)&&U.set(G=>({performance:{...G.performance,...I}})),a=y,l=!0,this},render(d){return l||this.configure(),sm.updateContainer(m.jsx(Une,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){OF(n)}}}function Une({store:n,children:e,onCreated:t,rootElement:r}){return eg(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),m.jsx(WE.Provider,{value:n,children:e})}function OF(n,e){const t=yf.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),sm.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Cne(i),yf.delete(n)}catch{}},500)})}}function Vne(n,e,t){return m.jsx(Wne,{children:n,container:e,state:t},e.uuid)}function Wne({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=HE(),[a]=N.useState(()=>new UE),[l]=N.useState(()=>new Le),c=N.useCallback((h,p)=>{const g={...h};Object.keys(h).forEach(y=>{(Rne.includes(y)||h[y]!==p[y]&&p[y])&&delete g[y]});let v;if(p&&i){const y=p.camera;v=h.viewport.getCurrentViewport(y,new $,i),y!==h.camera&&RF(y,i)}return{...g,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...h.events,...p==null?void 0:p.events,...r},size:{...h.size,...i},viewport:{...h.viewport,...v},...s}},[n]),[d]=N.useState(()=>{const h=o.getState();return yF((g,v)=>({...h,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...h.events,...r},size:{...h.size,...i},...s,set:g,get:v,setEvents:y=>g(x=>({...x,events:{...x.events,...y}}))}))});return N.useEffect(()=>{const h=o.subscribe(p=>d.setState(g=>c(p,g)));return()=>{h()}},[c]),N.useEffect(()=>{d.setState(h=>c(o.getState(),h))},[c]),N.useEffect(()=>()=>{d.destroy()},[]),m.jsx(m.Fragment,{children:sm.createPortal(m.jsx(WE.Provider,{value:d,children:e}),d,null)})}sm.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.version});const $_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Hne(n){const{handlePointer:e}=kne(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys($_).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=$_[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=$_[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function Mk(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function Gne({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=N.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=N.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,d=N.useRef(!1);N.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,p,g]=N.useMemo(()=>{const b=()=>{if(!a.current.element)return;const{left:_,top:S,width:E,height:C,bottom:P,right:I,x:T,y:k}=a.current.element.getBoundingClientRect(),O={left:_,top:S,width:E,height:C,bottom:P,right:I,x:T,y:k};a.current.element instanceof HTMLElement&&r&&(O.height=a.current.element.offsetHeight,O.width=a.current.element.offsetWidth),Object.freeze(O),d.current&&!Xne(a.current.lastBounds,O)&&o(a.current.lastBounds=O)};return[b,c?Mk(b,c):b,l?Mk(b,l):b]},[o,r,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",g,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function y(){a.current.element&&(a.current.resizeObserver=new i(g),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(b=>b.addEventListener("scroll",g,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const x=b=>{!b||b===a.current.element||(v(),a.current.element=b,a.current.scrollContainers=jF(b),y())};return Zne(g,!!e),$ne(p),N.useEffect(()=>{v(),y()},[e,g,p]),N.useEffect(()=>v,[]),[x,s,h]}function $ne(n){N.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Zne(n,e){N.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function jF(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...jF(n.parentElement)]}const qne=["x","y","top","bottom","left","right","width","height"],Xne=(n,e)=>qne.every(t=>n[t]===e[t]);var Yne=Object.defineProperty,Kne=Object.defineProperties,Qne=Object.getOwnPropertyDescriptors,Ek=Object.getOwnPropertySymbols,Jne=Object.prototype.hasOwnProperty,ere=Object.prototype.propertyIsEnumerable,Tk=(n,e,t)=>e in n?Yne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ck=(n,e)=>{for(var t in e||(e={}))Jne.call(e,t)&&Tk(n,t,e[t]);if(Ek)for(var t of Ek(e))ere.call(e,t)&&Tk(n,t,e[t]);return n},tre=(n,e)=>Kne(n,Qne(e)),Ak,Pk;typeof window<"u"&&((Ak=window.document)!=null&&Ak.createElement||((Pk=window.navigator)==null?void 0:Pk.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function FF(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=FF(r,e,t);if(i)return i;r=r.sibling}}function zF(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Nk=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=Nk;return}return Nk.apply(this,arguments)};const GE=zF(N.createContext(null));class BF extends N.Component{render(){return N.createElement(GE.Provider,{value:this._reactInternals},this.props.children)}}function nre(){const n=N.useContext(GE);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=FF(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function rre(){const n=nre(),[e]=N.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==GE&&!e.has(i)&&e.set(i,N.useContext(zF(i)))}t=t.return}return e}function ire(){const n=rre();return N.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>N.createElement(e,null,N.createElement(t.Provider,tre(Ck({},r),{value:n.get(t)}))),e=>N.createElement(BF,Ck({},e))),[n])}const sre=N.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=Hne,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:h,legacy:p,orthographic:g,frameloop:v,dpr:y,performance:x,raycaster:b,camera:_,scene:S,onPointerMissed:E,onCreated:C,...P},I){N.useMemo(()=>MF(une),[]);const T=ire(),[k,O]=Gne({scroll:!0,debounce:{scroll:50,resize:0},...r}),U=N.useRef(null),H=N.useRef(null);N.useImperativeHandle(I,()=>U.current);const V=CF(E),[z,ee]=N.useState(!1),[K,le]=N.useState(!1);if(z)throw z;if(K)throw K;const D=N.useRef(null);eg(()=>{const G=U.current;O.width>0&&O.height>0&&G&&(D.current||(D.current=Bne(G)),D.current.configure({gl:s,events:o,shadows:c,linear:d,flat:h,legacy:p,orthographic:g,frameloop:v,dpr:y,performance:x,raycaster:b,camera:_,scene:S,size:O,onPointerMissed:(...J)=>V.current==null?void 0:V.current(...J),onCreated:J=>{J.events.connect==null||J.events.connect(a?Sne(a)?a.current:a:H.current),l&&J.setEvents({compute:(Z,oe)=>{const we=Z[l+"X"],Ae=Z[l+"Y"];oe.pointer.set(we/oe.size.width*2-1,-(Ae/oe.size.height)*2+1),oe.raycaster.setFromCamera(oe.pointer,oe.camera)}}),C==null||C(J)}}),D.current.render(m.jsx(T,{children:m.jsx(AF,{set:le,children:m.jsx(N.Suspense,{fallback:m.jsx(Mne,{set:ee}),children:e??null})})})))}),N.useEffect(()=>{const G=U.current;if(G)return()=>OF(G)},[]);const W=a?"none":"auto";return m.jsx("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W,...i},...P,children:m.jsx("div",{ref:k,style:{width:"100%",height:"100%"},children:m.jsx("canvas",{ref:U,style:{display:"block"},children:t})})})}),ore=N.forwardRef(function(e,t){return m.jsx(BF,{children:m.jsx(sre,{...e,ref:t})})});function No(){return No=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},No.apply(null,arguments)}const tg=new $,$E=new $,are=new $,kk=new Le;function lre(n,e,t){const r=tg.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function cre(n,e){const t=tg.setFromMatrixPosition(n.matrixWorld),r=$E.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(are);return i.angleTo(s)>Math.PI/2}function ure(n,e,t,r){const i=tg.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),kk.set(s.x,s.y),t.setFromCamera(kk,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function dre(n,e){if(e instanceof Ys)return e.zoom;if(e instanceof Un){const t=tg.setFromMatrixPosition(n.matrixWorld),r=$E.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function fre(n,e,t){if(e instanceof Un||e instanceof Ys){const r=tg.setFromMatrixPosition(n.matrixWorld),i=$E.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const f2=n=>Math.abs(n)<1e-10?0:n;function UF(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=f2(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const hre=(n=>e=>UF(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),pre=(n=>(e,t)=>UF(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function mre(n){return n&&typeof n=="object"&&"current"in n}const gre=N.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:d=!1,occlude:h,onOcclude:p,castShadow:g,receiveShadow:v,material:y,geometry:x,zIndexRange:b=[16777271,0],calculatePosition:_=lre,as:S="div",wrapperClass:E,pointerEvents:C="auto",...P},I)=>{const{gl:T,camera:k,scene:O,size:U,raycaster:H,events:V,viewport:z}=zr(),[ee]=N.useState(()=>document.createElement(S)),K=N.useRef(),le=N.useRef(null),D=N.useRef(0),W=N.useRef([0,0]),G=N.useRef(null),J=N.useRef(null),Z=(a==null?void 0:a.current)||V.connected||T.domElement.parentNode,oe=N.useRef(null),we=N.useRef(!1),Ae=N.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&mre(h[0]),[h]);N.useLayoutEffect(()=>{const De=T.domElement;h&&h==="blending"?(De.style.zIndex=`${Math.floor(b[0]/2)}`,De.style.position="absolute",De.style.pointerEvents="none"):(De.style.zIndex=null,De.style.position=null,De.style.pointerEvents=null)},[h]),N.useLayoutEffect(()=>{if(le.current){const De=K.current=vM(ee);if(O.updateMatrixWorld(),d)ee.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const He=_(le.current,k,U);ee.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${He[0]}px,${He[1]}px,0);transform-origin:0 0;`}return Z&&(i?Z.prepend(ee):Z.appendChild(ee)),()=>{Z&&Z.removeChild(ee),De.unmount()}}},[Z,d]),N.useLayoutEffect(()=>{E&&(ee.className=E)},[E]);const re=N.useMemo(()=>d?{position:"absolute",top:0,left:0,width:U.width,height:U.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-U.height/2,left:-U.width/2,width:U.width,height:U.height},...t},[t,s,o,U,d]),Ve=N.useMemo(()=>({position:"absolute",pointerEvents:C}),[C]);N.useLayoutEffect(()=>{if(we.current=!1,d){var De;(De=K.current)==null||De.render(N.createElement("div",{ref:G,style:re},N.createElement("div",{ref:J,style:Ve},N.createElement("div",{ref:I,className:r,style:t,children:n}))))}else{var He;(He=K.current)==null||He.render(N.createElement("div",{ref:I,style:re,className:r,children:n}))}});const Ge=N.useRef(!0);bu(De=>{if(le.current){k.updateMatrixWorld(),le.current.updateWorldMatrix(!0,!1);const He=d?W.current:_(le.current,k,U);if(d||Math.abs(D.current-k.zoom)>e||Math.abs(W.current[0]-He[0])>e||Math.abs(W.current[1]-He[1])>e){const be=cre(le.current,k);let ye=!1;Ae&&(Array.isArray(h)?ye=h.map(wt=>wt.current):h!=="blending"&&(ye=[O]));const Ue=Ge.current;if(ye){const wt=ure(le.current,k,H,ye);Ge.current=wt&&!be}else Ge.current=!be;Ue!==Ge.current&&(p?p(!Ge.current):ee.style.display=Ge.current?"block":"none");const it=Math.floor(b[0]/2),qe=h?Ae?[b[0],it]:[it-1,0]:b;if(ee.style.zIndex=`${fre(le.current,k,qe)}`,d){const[wt,X]=[U.width/2,U.height/2],ie=k.projectionMatrix.elements[5]*X,{isOrthographicCamera:fe,top:Fe,left:B,bottom:j,right:ae}=k,_e=hre(k.matrixWorldInverse),Oe=fe?`scale(${ie})translate(${f2(-(ae+B)/2)}px,${f2((Fe+j)/2)}px)`:`translateZ(${ie}px)`;let je=le.current.matrixWorld;c&&(je=k.matrixWorldInverse.clone().transpose().copyPosition(je).scale(le.current.scale),je.elements[3]=je.elements[7]=je.elements[11]=0,je.elements[15]=1),ee.style.width=U.width+"px",ee.style.height=U.height+"px",ee.style.perspective=fe?"":`${ie}px`,G.current&&J.current&&(G.current.style.transform=`${Oe}${_e}translate(${wt}px,${X}px)`,J.current.style.transform=pre(je,1/((l||10)/400)))}else{const wt=l===void 0?1:dre(le.current,k)*l;ee.style.transform=`translate3d(${He[0]}px,${He[1]}px,0) scale(${wt})`}W.current=He,D.current=k.zoom}}if(!Ae&&oe.current&&!we.current)if(d){if(G.current){const He=G.current.children[0];if(He!=null&&He.clientWidth&&He!=null&&He.clientHeight){const{isOrthographicCamera:be}=k;if(be||x)P.scale&&(Array.isArray(P.scale)?P.scale instanceof $?oe.current.scale.copy(P.scale.clone().divideScalar(1)):oe.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):oe.current.scale.setScalar(1/P.scale));else{const ye=(l||10)/400,Ue=He.clientWidth*ye,it=He.clientHeight*ye;oe.current.scale.set(Ue,it,1)}we.current=!0}}}else{const He=ee.children[0];if(He!=null&&He.clientWidth&&He!=null&&He.clientHeight){const be=1/z.factor,ye=He.clientWidth*be,Ue=He.clientHeight*be;oe.current.scale.set(ye,Ue,1),we.current=!0}oe.current.lookAt(De.camera.position)}});const et=N.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return N.createElement("group",No({},P,{ref:le}),h&&!Ae&&N.createElement("mesh",{castShadow:g,receiveShadow:v,ref:oe},x||N.createElement("planeGeometry",null),y||N.createElement("shaderMaterial",{side:Gs,vertexShader:et.vertexShader,fragmentShader:et.fragmentShader})))}),Rk=n=>{let e;const t=new Set,r=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(g=>g(e,p))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(r,i,a);return a},vre=n=>n?Rk(n):Rk,yre=n=>n;function xre(n,e=yre){const t=Ee.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return Ee.useDebugValue(t),t}const Lk=n=>{const e=vre(n),t=r=>xre(e,r);return Object.assign(t,e),t},wre=n=>n?Lk(n):Lk;let kh=0;const _re=wre(n=>(Rd.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-kh)/(r-kh)*100})},Rd.onLoad=()=>{n({active:!1})},Rd.onError=e=>n(t=>({errors:[...t.errors,e]})),Rd.onProgress=(e,t,r)=>{t===r&&(kh=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-kh)/(r-kh)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),VF=parseInt(Nf.replace(/\D+/g,""));var Es=Uint8Array,ul=Uint16Array,h2=Uint32Array,WF=new Es([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),HF=new Es([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bre=new Es([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GF=function(n,e){for(var t=new ul(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new h2(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},$F=GF(WF,2),ZF=$F[0],Sre=$F[1];ZF[28]=258,Sre[258]=28;var Mre=GF(HF,0),Ere=Mre[0],p2=new ul(32768);for(var kn=0;kn<32768;++kn){var Ga=(kn&43690)>>>1|(kn&21845)<<1;Ga=(Ga&52428)>>>2|(Ga&13107)<<2,Ga=(Ga&61680)>>>4|(Ga&3855)<<4,p2[kn]=((Ga&65280)>>>8|(Ga&255)<<8)>>>1}var fp=function(n,e,t){for(var r=n.length,i=0,s=new ul(e);i<r;++i)++s[n[i]-1];var o=new ul(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new ul(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],d=e-n[i],h=o[n[i]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)a[p2[h]>>>l]=c}else for(a=new ul(r),i=0;i<r;++i)n[i]&&(a[i]=p2[o[n[i]-1]++]>>>15-n[i]);return a},ng=new Es(288);for(var kn=0;kn<144;++kn)ng[kn]=8;for(var kn=144;kn<256;++kn)ng[kn]=9;for(var kn=256;kn<280;++kn)ng[kn]=7;for(var kn=280;kn<288;++kn)ng[kn]=8;var qF=new Es(32);for(var kn=0;kn<32;++kn)qF[kn]=5;var Tre=fp(ng,9,1),Cre=fp(qF,5,1),Z_=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},js=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},q_=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Are=function(n){return(n/8|0)+(n&7&&1)},Pre=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof ul?ul:n instanceof h2?h2:Es)(t-e);return r.set(n.subarray(e,t)),r},Nre=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Es(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new Es(r*3));var o=function(re){var Ve=e.length;if(re>Ve){var Ge=new Es(Math.max(Ve*2,re));Ge.set(e),e=Ge}},a=t.f||0,l=t.p||0,c=t.b||0,d=t.l,h=t.d,p=t.m,g=t.n,v=r*8;do{if(!d){t.f=a=js(n,l,1);var y=js(n,l+1,3);if(l+=3,y)if(y==1)d=Tre,h=Cre,p=9,g=5;else if(y==2){var S=js(n,l,31)+257,E=js(n,l+10,15)+4,C=S+js(n,l+5,31)+1;l+=14;for(var P=new Es(C),I=new Es(19),T=0;T<E;++T)I[bre[T]]=js(n,l+T*3,7);l+=E*3;for(var k=Z_(I),O=(1<<k)-1,U=fp(I,k,1),T=0;T<C;){var H=U[js(n,l,O)];l+=H&15;var x=H>>>4;if(x<16)P[T++]=x;else{var V=0,z=0;for(x==16?(z=3+js(n,l,3),l+=2,V=P[T-1]):x==17?(z=3+js(n,l,7),l+=3):x==18&&(z=11+js(n,l,127),l+=7);z--;)P[T++]=V}}var ee=P.subarray(0,S),K=P.subarray(S);p=Z_(ee),g=Z_(K),d=fp(ee,p,1),h=fp(K,g,1)}else throw"invalid block type";else{var x=Are(l)+4,b=n[x-4]|n[x-3]<<8,_=x+b;if(_>r){if(s)throw"unexpected EOF";break}i&&o(c+b),e.set(n.subarray(x,_),c),t.b=c+=b,t.p=l=_*8;continue}if(l>v){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var le=(1<<p)-1,D=(1<<g)-1,W=l;;W=l){var V=d[q_(n,l)&le],G=V>>>4;if(l+=V&15,l>v){if(s)throw"unexpected EOF";break}if(!V)throw"invalid length/literal";if(G<256)e[c++]=G;else if(G==256){W=l,d=null;break}else{var J=G-254;if(G>264){var T=G-257,Z=WF[T];J=js(n,l,(1<<Z)-1)+ZF[T],l+=Z}var oe=h[q_(n,l)&D],we=oe>>>4;if(!oe)throw"invalid distance";l+=oe&15;var K=Ere[we];if(we>3){var Z=HF[we];K+=q_(n,l)&(1<<Z)-1,l+=Z}if(l>v){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var Ae=c+J;c<Ae;c+=4)e[c]=e[c-K],e[c+1]=e[c+1-K],e[c+2]=e[c+2-K],e[c+3]=e[c+3-K];c=Ae}}t.l=d,t.p=W,t.b=c,d&&(a=1,t.m=p,t.d=h,t.n=g)}while(!a);return c==e.length?e:Pre(e,0,c)},kre=new Es(0),Rre=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function d0(n,e){return Nre((Rre(n),n.subarray(2,-4)),e)}var Lre=typeof TextDecoder<"u"&&new TextDecoder,Ire=0;try{Lre.decode(kre,{stream:!0}),Ire=1}catch{}const Dre=n=>n&&n.isCubeTexture;class Ore extends mr{constructor(e,t){var r,i;const s=Dre(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),d=3*Math.max(c,16*7),h=4*c,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/d}`,`#define CUBEUV_TEXEL_HEIGHT ${1/h}`,`#define CUBEUV_MAX_MIP ${l}.0`],g=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${VF>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,y={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},x=new Df(1,16),b=new ji({uniforms:y,fragmentShader:v,vertexShader:g,side:Gs});super(x,b)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var jre=Object.defineProperty,Fre=(n,e,t)=>e in n?jre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zre=(n,e,t)=>(Fre(n,e+"",t),t);class Bre{constructor(){zre(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var Ure=Object.defineProperty,Vre=(n,e,t)=>e in n?Ure(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Nt=(n,e,t)=>(Vre(n,typeof e!="symbol"?e+"":e,t),t);const f0=new Rf,Ik=new ta,Wre=Math.cos(70*(Math.PI/180)),Dk=(n,e)=>(n%e+e)%e;let Hre=class extends Bre{constructor(e,t){super(),Nt(this,"object"),Nt(this,"domElement"),Nt(this,"enabled",!0),Nt(this,"target",new $),Nt(this,"minDistance",0),Nt(this,"maxDistance",1/0),Nt(this,"minZoom",0),Nt(this,"maxZoom",1/0),Nt(this,"minPolarAngle",0),Nt(this,"maxPolarAngle",Math.PI),Nt(this,"minAzimuthAngle",-1/0),Nt(this,"maxAzimuthAngle",1/0),Nt(this,"enableDamping",!1),Nt(this,"dampingFactor",.05),Nt(this,"enableZoom",!0),Nt(this,"zoomSpeed",1),Nt(this,"enableRotate",!0),Nt(this,"rotateSpeed",1),Nt(this,"enablePan",!0),Nt(this,"panSpeed",1),Nt(this,"screenSpacePanning",!0),Nt(this,"keyPanSpeed",7),Nt(this,"zoomToCursor",!1),Nt(this,"autoRotate",!1),Nt(this,"autoRotateSpeed",2),Nt(this,"reverseOrbit",!1),Nt(this,"reverseHorizontalOrbit",!1),Nt(this,"reverseVerticalOrbit",!1),Nt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Nt(this,"mouseButtons",{LEFT:wc.ROTATE,MIDDLE:wc.DOLLY,RIGHT:wc.PAN}),Nt(this,"touches",{ONE:_c.ROTATE,TWO:_c.DOLLY_PAN}),Nt(this,"target0"),Nt(this,"position0"),Nt(this,"zoom0"),Nt(this,"_domElementKeyEvents",null),Nt(this,"getPolarAngle"),Nt(this,"getAzimuthalAngle"),Nt(this,"setPolarAngle"),Nt(this,"setAzimuthalAngle"),Nt(this,"getDistance"),Nt(this,"getZoomScale"),Nt(this,"listenToKeyEvents"),Nt(this,"stopListenToKeyEvents"),Nt(this,"saveState"),Nt(this,"reset"),Nt(this,"update"),Nt(this,"connect"),Nt(this,"dispose"),Nt(this,"dollyIn"),Nt(this,"dollyOut"),Nt(this,"getScale"),Nt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=se=>{let Ne=Dk(se,2*Math.PI),Ce=d.phi;Ce<0&&(Ce+=2*Math.PI),Ne<0&&(Ne+=2*Math.PI);let te=Math.abs(Ne-Ce);2*Math.PI-te<te&&(Ne<Ce?Ne+=2*Math.PI:Ce+=2*Math.PI),h.phi=Ne-Ce,r.update()},this.setAzimuthalAngle=se=>{let Ne=Dk(se,2*Math.PI),Ce=d.theta;Ce<0&&(Ce+=2*Math.PI),Ne<0&&(Ne+=2*Math.PI);let te=Math.abs(Ne-Ce);2*Math.PI-te<te&&(Ne<Ce?Ne+=2*Math.PI:Ce+=2*Math.PI),h.theta=Ne-Ce,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=se=>{se.addEventListener("keydown",pt),this._domElementKeyEvents=se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",pt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const se=new $,Ne=new $(0,1,0),Ce=new ri().setFromUnitVectors(e.up,Ne),te=Ce.clone().invert(),ne=new $,Re=new ri,Ye=2*Math.PI;return function(){const Wt=r.object.position;Ce.setFromUnitVectors(e.up,Ne),te.copy(Ce).invert(),se.copy(Wt).sub(r.target),se.applyQuaternion(Ce),d.setFromVector3(se),r.autoRotate&&l===a.NONE&&z(H()),r.enableDamping?(d.theta+=h.theta*r.dampingFactor,d.phi+=h.phi*r.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let nn=r.minAzimuthAngle,fn=r.maxAzimuthAngle;isFinite(nn)&&isFinite(fn)&&(nn<-Math.PI?nn+=Ye:nn>Math.PI&&(nn-=Ye),fn<-Math.PI?fn+=Ye:fn>Math.PI&&(fn-=Ye),nn<=fn?d.theta=Math.max(nn,Math.min(fn,d.theta)):d.theta=d.theta>(nn+fn)/2?Math.max(nn,d.theta):Math.min(fn,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(g,r.dampingFactor):r.target.add(g),r.zoomToCursor&&k||r.object.isOrthographicCamera?d.radius=oe(d.radius):d.radius=oe(d.radius*p),se.setFromSpherical(d),se.applyQuaternion(te),Wt.copy(r.target).add(se),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,g.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),g.set(0,0,0));let Cr=!1;if(r.zoomToCursor&&k){let en=null;if(r.object instanceof Un&&r.object.isPerspectiveCamera){const lr=se.length();en=oe(lr*p);const Jn=lr-en;r.object.position.addScaledVector(I,Jn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const lr=new $(T.x,T.y,0);lr.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),Cr=!0;const Jn=new $(T.x,T.y,0);Jn.unproject(r.object),r.object.position.sub(Jn).add(lr),r.object.updateMatrixWorld(),en=se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;en!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(en).add(r.object.position):(f0.origin.copy(r.object.position),f0.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(f0.direction))<Wre?e.lookAt(r.target):(Ik.setFromNormalAndCoplanarPoint(r.object.up,r.target),f0.intersectPlane(Ik,r.target))))}else r.object instanceof Ys&&r.object.isOrthographicCamera&&(Cr=p!==1,Cr&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,k=!1,Cr||ne.distanceToSquared(r.object.position)>c||8*(1-Re.dot(r.object.quaternion))>c?(r.dispatchEvent(i),ne.copy(r.object.position),Re.copy(r.object.quaternion),Cr=!1,!0):!1}})(),this.connect=se=>{r.domElement=se,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",mt),r.domElement.addEventListener("pointerdown",B),r.domElement.addEventListener("pointercancel",ae),r.domElement.addEventListener("wheel",je)},this.dispose=()=>{var se,Ne,Ce,te,ne,Re;r.domElement&&(r.domElement.style.touchAction="auto"),(se=r.domElement)==null||se.removeEventListener("contextmenu",mt),(Ne=r.domElement)==null||Ne.removeEventListener("pointerdown",B),(Ce=r.domElement)==null||Ce.removeEventListener("pointercancel",ae),(te=r.domElement)==null||te.removeEventListener("wheel",je),(ne=r.domElement)==null||ne.ownerDocument.removeEventListener("pointermove",j),(Re=r.domElement)==null||Re.ownerDocument.removeEventListener("pointerup",ae),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",pt)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new Oy,h=new Oy;let p=1;const g=new $,v=new Le,y=new Le,x=new Le,b=new Le,_=new Le,S=new Le,E=new Le,C=new Le,P=new Le,I=new $,T=new Le;let k=!1;const O=[],U={};function H(){return 2*Math.PI/60/60*r.autoRotateSpeed}function V(){return Math.pow(.95,r.zoomSpeed)}function z(se){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=se:h.theta-=se}function ee(se){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=se:h.phi-=se}const K=(()=>{const se=new $;return function(Ce,te){se.setFromMatrixColumn(te,0),se.multiplyScalar(-Ce),g.add(se)}})(),le=(()=>{const se=new $;return function(Ce,te){r.screenSpacePanning===!0?se.setFromMatrixColumn(te,1):(se.setFromMatrixColumn(te,0),se.crossVectors(r.object.up,se)),se.multiplyScalar(Ce),g.add(se)}})(),D=(()=>{const se=new $;return function(Ce,te){const ne=r.domElement;if(ne&&r.object instanceof Un&&r.object.isPerspectiveCamera){const Re=r.object.position;se.copy(Re).sub(r.target);let Ye=se.length();Ye*=Math.tan(r.object.fov/2*Math.PI/180),K(2*Ce*Ye/ne.clientHeight,r.object.matrix),le(2*te*Ye/ne.clientHeight,r.object.matrix)}else ne&&r.object instanceof Ys&&r.object.isOrthographicCamera?(K(Ce*(r.object.right-r.object.left)/r.object.zoom/ne.clientWidth,r.object.matrix),le(te*(r.object.top-r.object.bottom)/r.object.zoom/ne.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function W(se){r.object instanceof Un&&r.object.isPerspectiveCamera||r.object instanceof Ys&&r.object.isOrthographicCamera?p=se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function G(se){W(p/se)}function J(se){W(p*se)}function Z(se){if(!r.zoomToCursor||!r.domElement)return;k=!0;const Ne=r.domElement.getBoundingClientRect(),Ce=se.clientX-Ne.left,te=se.clientY-Ne.top,ne=Ne.width,Re=Ne.height;T.x=Ce/ne*2-1,T.y=-(te/Re)*2+1,I.set(T.x,T.y,1).unproject(r.object).sub(r.object.position).normalize()}function oe(se){return Math.max(r.minDistance,Math.min(r.maxDistance,se))}function we(se){v.set(se.clientX,se.clientY)}function Ae(se){Z(se),E.set(se.clientX,se.clientY)}function re(se){b.set(se.clientX,se.clientY)}function Ve(se){y.set(se.clientX,se.clientY),x.subVectors(y,v).multiplyScalar(r.rotateSpeed);const Ne=r.domElement;Ne&&(z(2*Math.PI*x.x/Ne.clientHeight),ee(2*Math.PI*x.y/Ne.clientHeight)),v.copy(y),r.update()}function Ge(se){C.set(se.clientX,se.clientY),P.subVectors(C,E),P.y>0?G(V()):P.y<0&&J(V()),E.copy(C),r.update()}function et(se){_.set(se.clientX,se.clientY),S.subVectors(_,b).multiplyScalar(r.panSpeed),D(S.x,S.y),b.copy(_),r.update()}function De(se){Z(se),se.deltaY<0?J(V()):se.deltaY>0&&G(V()),r.update()}function He(se){let Ne=!1;switch(se.code){case r.keys.UP:D(0,r.keyPanSpeed),Ne=!0;break;case r.keys.BOTTOM:D(0,-r.keyPanSpeed),Ne=!0;break;case r.keys.LEFT:D(r.keyPanSpeed,0),Ne=!0;break;case r.keys.RIGHT:D(-r.keyPanSpeed,0),Ne=!0;break}Ne&&(se.preventDefault(),r.update())}function be(){if(O.length==1)v.set(O[0].pageX,O[0].pageY);else{const se=.5*(O[0].pageX+O[1].pageX),Ne=.5*(O[0].pageY+O[1].pageY);v.set(se,Ne)}}function ye(){if(O.length==1)b.set(O[0].pageX,O[0].pageY);else{const se=.5*(O[0].pageX+O[1].pageX),Ne=.5*(O[0].pageY+O[1].pageY);b.set(se,Ne)}}function Ue(){const se=O[0].pageX-O[1].pageX,Ne=O[0].pageY-O[1].pageY,Ce=Math.sqrt(se*se+Ne*Ne);E.set(0,Ce)}function it(){r.enableZoom&&Ue(),r.enablePan&&ye()}function qe(){r.enableZoom&&Ue(),r.enableRotate&&be()}function wt(se){if(O.length==1)y.set(se.pageX,se.pageY);else{const Ce=dt(se),te=.5*(se.pageX+Ce.x),ne=.5*(se.pageY+Ce.y);y.set(te,ne)}x.subVectors(y,v).multiplyScalar(r.rotateSpeed);const Ne=r.domElement;Ne&&(z(2*Math.PI*x.x/Ne.clientHeight),ee(2*Math.PI*x.y/Ne.clientHeight)),v.copy(y)}function X(se){if(O.length==1)_.set(se.pageX,se.pageY);else{const Ne=dt(se),Ce=.5*(se.pageX+Ne.x),te=.5*(se.pageY+Ne.y);_.set(Ce,te)}S.subVectors(_,b).multiplyScalar(r.panSpeed),D(S.x,S.y),b.copy(_)}function ie(se){const Ne=dt(se),Ce=se.pageX-Ne.x,te=se.pageY-Ne.y,ne=Math.sqrt(Ce*Ce+te*te);C.set(0,ne),P.set(0,Math.pow(C.y/E.y,r.zoomSpeed)),G(P.y),E.copy(C)}function fe(se){r.enableZoom&&ie(se),r.enablePan&&X(se)}function Fe(se){r.enableZoom&&ie(se),r.enableRotate&&wt(se)}function B(se){var Ne,Ce;r.enabled!==!1&&(O.length===0&&((Ne=r.domElement)==null||Ne.ownerDocument.addEventListener("pointermove",j),(Ce=r.domElement)==null||Ce.ownerDocument.addEventListener("pointerup",ae)),St(se),se.pointerType==="touch"?Je(se):_e(se))}function j(se){r.enabled!==!1&&(se.pointerType==="touch"?Te(se):Oe(se))}function ae(se){var Ne,Ce,te;ot(se),O.length===0&&((Ne=r.domElement)==null||Ne.releasePointerCapture(se.pointerId),(Ce=r.domElement)==null||Ce.ownerDocument.removeEventListener("pointermove",j),(te=r.domElement)==null||te.ownerDocument.removeEventListener("pointerup",ae)),r.dispatchEvent(o),l=a.NONE}function _e(se){let Ne;switch(se.button){case 0:Ne=r.mouseButtons.LEFT;break;case 1:Ne=r.mouseButtons.MIDDLE;break;case 2:Ne=r.mouseButtons.RIGHT;break;default:Ne=-1}switch(Ne){case wc.DOLLY:if(r.enableZoom===!1)return;Ae(se),l=a.DOLLY;break;case wc.ROTATE:if(se.ctrlKey||se.metaKey||se.shiftKey){if(r.enablePan===!1)return;re(se),l=a.PAN}else{if(r.enableRotate===!1)return;we(se),l=a.ROTATE}break;case wc.PAN:if(se.ctrlKey||se.metaKey||se.shiftKey){if(r.enableRotate===!1)return;we(se),l=a.ROTATE}else{if(r.enablePan===!1)return;re(se),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Oe(se){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Ve(se);break;case a.DOLLY:if(r.enableZoom===!1)return;Ge(se);break;case a.PAN:if(r.enablePan===!1)return;et(se);break}}function je(se){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(se.preventDefault(),r.dispatchEvent(s),De(se),r.dispatchEvent(o))}function pt(se){r.enabled===!1||r.enablePan===!1||He(se)}function Je(se){switch(at(se),O.length){case 1:switch(r.touches.ONE){case _c.ROTATE:if(r.enableRotate===!1)return;be(),l=a.TOUCH_ROTATE;break;case _c.PAN:if(r.enablePan===!1)return;ye(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case _c.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;it(),l=a.TOUCH_DOLLY_PAN;break;case _c.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;qe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Te(se){switch(at(se),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;wt(se),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;X(se),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;fe(se),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Fe(se),r.update();break;default:l=a.NONE}}function mt(se){r.enabled!==!1&&se.preventDefault()}function St(se){O.push(se)}function ot(se){delete U[se.pointerId];for(let Ne=0;Ne<O.length;Ne++)if(O[Ne].pointerId==se.pointerId){O.splice(Ne,1);return}}function at(se){let Ne=U[se.pointerId];Ne===void 0&&(Ne=new Le,U[se.pointerId]=Ne),Ne.set(se.pageX,se.pageY)}function dt(se){const Ne=se.pointerId===O[0].pointerId?O[1]:O[0];return U[Ne.pointerId]}this.dollyIn=(se=V())=>{J(se),r.update()},this.dollyOut=(se=V())=>{G(se),r.update()},this.getScale=()=>p,this.setScale=se=>{W(se),r.update()},this.getZoomScale=()=>V(),t!==void 0&&this.connect(t),this.update()}};class Gre extends IE{constructor(e){super(e),this.type=Ir}parse(e){const o=function(T,k){switch(T){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(k||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(k||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(k||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(k||""))}},d=`
`,h=function(T,k,O){k=k||1024;let H=T.pos,V=-1,z=0,ee="",K=String.fromCharCode.apply(null,new Uint16Array(T.subarray(H,H+128)));for(;0>(V=K.indexOf(d))&&z<k&&H<T.byteLength;)ee+=K,z+=K.length,H+=128,K+=String.fromCharCode.apply(null,new Uint16Array(T.subarray(H,H+128)));return-1<V?(T.pos+=z+V+1,ee+K.slice(0,V)):!1},p=function(T){const k=/^#\?(\S+)/,O=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,U=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,H=/^\s*FORMAT=(\S+)\s*$/,V=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,z={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ee,K;for((T.pos>=T.byteLength||!(ee=h(T)))&&o(1,"no header found"),(K=ee.match(k))||o(3,"bad initial token"),z.valid|=1,z.programtype=K[1],z.string+=ee+`
`;ee=h(T),ee!==!1;){if(z.string+=ee+`
`,ee.charAt(0)==="#"){z.comments+=ee+`
`;continue}if((K=ee.match(O))&&(z.gamma=parseFloat(K[1])),(K=ee.match(U))&&(z.exposure=parseFloat(K[1])),(K=ee.match(H))&&(z.valid|=2,z.format=K[1]),(K=ee.match(V))&&(z.valid|=4,z.height=parseInt(K[1],10),z.width=parseInt(K[2],10)),z.valid&2&&z.valid&4)break}return z.valid&2||o(3,"missing format specifier"),z.valid&4||o(3,"missing image size specifier"),z},g=function(T,k,O){const U=k;if(U<8||U>32767||T[0]!==2||T[1]!==2||T[2]&128)return new Uint8Array(T);U!==(T[2]<<8|T[3])&&o(3,"wrong scanline width");const H=new Uint8Array(4*k*O);H.length||o(4,"unable to allocate buffer space");let V=0,z=0;const ee=4*U,K=new Uint8Array(4),le=new Uint8Array(ee);let D=O;for(;D>0&&z<T.byteLength;){z+4>T.byteLength&&o(1),K[0]=T[z++],K[1]=T[z++],K[2]=T[z++],K[3]=T[z++],(K[0]!=2||K[1]!=2||(K[2]<<8|K[3])!=U)&&o(3,"bad rgbe scanline format");let W=0,G;for(;W<ee&&z<T.byteLength;){G=T[z++];const Z=G>128;if(Z&&(G-=128),(G===0||W+G>ee)&&o(3,"bad scanline data"),Z){const oe=T[z++];for(let we=0;we<G;we++)le[W++]=oe}else le.set(T.subarray(z,z+G),W),W+=G,z+=G}const J=U;for(let Z=0;Z<J;Z++){let oe=0;H[V]=le[Z+oe],oe+=U,H[V+1]=le[Z+oe],oe+=U,H[V+2]=le[Z+oe],oe+=U,H[V+3]=le[Z+oe],V+=4}D--}return H},v=function(T,k,O,U){const H=T[k+3],V=Math.pow(2,H-128)/255;O[U+0]=T[k+0]*V,O[U+1]=T[k+1]*V,O[U+2]=T[k+2]*V,O[U+3]=1},y=function(T,k,O,U){const H=T[k+3],V=Math.pow(2,H-128)/255;O[U+0]=Ic.toHalfFloat(Math.min(T[k+0]*V,65504)),O[U+1]=Ic.toHalfFloat(Math.min(T[k+1]*V,65504)),O[U+2]=Ic.toHalfFloat(Math.min(T[k+2]*V,65504)),O[U+3]=Ic.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const b=p(x),_=b.width,S=b.height,E=g(x.subarray(x.pos),_,S);let C,P,I;switch(this.type){case Lr:I=E.length/4;const T=new Float32Array(I*4);for(let O=0;O<I;O++)v(E,O*4,T,O*4);C=T,P=Lr;break;case Ir:I=E.length/4;const k=new Uint16Array(I*4);for(let O=0;O<I;O++)y(E,O*4,k,O*4);C=k,P=Ir;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:_,height:S,data:C,header:b.string,gamma:b.gamma,exposure:b.exposure,type:P}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case Lr:case Ir:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=dn,o.magFilter=dn,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const Rh=VF>=152;class $re extends IE{constructor(e){super(e),this.type=Ir}parse(e){const k=Math.pow(2.7182818,2.2);function O(L,F){for(var Q=0,ue=0;ue<65536;++ue)(ue==0||L[ue>>3]&1<<(ue&7))&&(F[Q++]=ue);for(var pe=Q-1;Q<65536;)F[Q++]=0;return pe}function U(L){for(var F=0;F<16384;F++)L[F]={},L[F].len=0,L[F].lit=0,L[F].p=null}const H={l:0,c:0,lc:0};function V(L,F,Q,ue,pe){for(;Q<L;)F=F<<8|dt(ue,pe),Q+=8;Q-=L,H.l=F>>Q&(1<<L)-1,H.c=F,H.lc=Q}const z=new Array(59);function ee(L){for(var F=0;F<=58;++F)z[F]=0;for(var F=0;F<65537;++F)z[L[F]]+=1;for(var Q=0,F=58;F>0;--F){var ue=Q+z[F]>>1;z[F]=Q,Q=ue}for(var F=0;F<65537;++F){var pe=L[F];pe>0&&(L[F]=pe|z[pe]++<<6)}}function K(L,F,Q,ue,pe,he,Pe){for(var Ie=Q,We=0,$e=0;pe<=he;pe++){if(Ie.value-Q.value>ue)return!1;V(6,We,$e,L,Ie);var Ke=H.l;if(We=H.c,$e=H.lc,Pe[pe]=Ke,Ke==63){if(Ie.value-Q.value>ue)throw"Something wrong with hufUnpackEncTable";V(8,We,$e,L,Ie);var Be=H.l+6;if(We=H.c,$e=H.lc,pe+Be>he+1)throw"Something wrong with hufUnpackEncTable";for(;Be--;)Pe[pe++]=0;pe--}else if(Ke>=59){var Be=Ke-59+2;if(pe+Be>he+1)throw"Something wrong with hufUnpackEncTable";for(;Be--;)Pe[pe++]=0;pe--}}ee(Pe)}function le(L){return L&63}function D(L){return L>>6}function W(L,F,Q,ue){for(;F<=Q;F++){var pe=D(L[F]),he=le(L[F]);if(pe>>he)throw"Invalid table entry";if(he>14){var Pe=ue[pe>>he-14];if(Pe.len)throw"Invalid table entry";if(Pe.lit++,Pe.p){var Ie=Pe.p;Pe.p=new Array(Pe.lit);for(var We=0;We<Pe.lit-1;++We)Pe.p[We]=Ie[We]}else Pe.p=new Array(1);Pe.p[Pe.lit-1]=F}else if(he)for(var $e=0,We=1<<14-he;We>0;We--){var Pe=ue[(pe<<14-he)+$e];if(Pe.len||Pe.p)throw"Invalid table entry";Pe.len=he,Pe.lit=F,$e++}}return!0}const G={c:0,lc:0};function J(L,F,Q,ue){L=L<<8|dt(Q,ue),F+=8,G.c=L,G.lc=F}const Z={c:0,lc:0};function oe(L,F,Q,ue,pe,he,Pe,Ie,We,$e){if(L==F){ue<8&&(J(Q,ue,pe,Pe),Q=G.c,ue=G.lc),ue-=8;var Ke=Q>>ue,Ke=new Uint8Array([Ke])[0];if(We.value+Ke>$e)return!1;for(var Be=Ie[We.value-1];Ke-- >0;)Ie[We.value++]=Be}else if(We.value<$e)Ie[We.value++]=L;else return!1;Z.c=Q,Z.lc=ue}function we(L){return L&65535}function Ae(L){var F=we(L);return F>32767?F-65536:F}const re={a:0,b:0};function Ve(L,F){var Q=Ae(L),ue=Ae(F),pe=ue,he=Q+(pe&1)+(pe>>1),Pe=he,Ie=he-pe;re.a=Pe,re.b=Ie}function Ge(L,F){var Q=we(L),ue=we(F),pe=Q-(ue>>1)&65535,he=ue+pe-32768&65535;re.a=he,re.b=pe}function et(L,F,Q,ue,pe,he,Pe){for(var Ie=Pe<16384,We=Q>pe?pe:Q,$e=1,Ke;$e<=We;)$e<<=1;for($e>>=1,Ke=$e,$e>>=1;$e>=1;){for(var Be=0,yt=Be+he*(pe-Ke),xt=he*$e,rt=he*Ke,At=ue*$e,Dt=ue*Ke,Ht,Xt,_t,kt;Be<=yt;Be+=rt){for(var Yt=Be,Ut=Be+ue*(Q-Ke);Yt<=Ut;Yt+=Dt){var Ot=Yt+At,wn=Yt+xt,gr=wn+At;Ie?(Ve(L[Yt+F],L[wn+F]),Ht=re.a,_t=re.b,Ve(L[Ot+F],L[gr+F]),Xt=re.a,kt=re.b,Ve(Ht,Xt),L[Yt+F]=re.a,L[Ot+F]=re.b,Ve(_t,kt),L[wn+F]=re.a,L[gr+F]=re.b):(Ge(L[Yt+F],L[wn+F]),Ht=re.a,_t=re.b,Ge(L[Ot+F],L[gr+F]),Xt=re.a,kt=re.b,Ge(Ht,Xt),L[Yt+F]=re.a,L[Ot+F]=re.b,Ge(_t,kt),L[wn+F]=re.a,L[gr+F]=re.b)}if(Q&$e){var wn=Yt+xt;Ie?Ve(L[Yt+F],L[wn+F]):Ge(L[Yt+F],L[wn+F]),Ht=re.a,L[wn+F]=re.b,L[Yt+F]=Ht}}if(pe&$e)for(var Yt=Be,Ut=Be+ue*(Q-Ke);Yt<=Ut;Yt+=Dt){var Ot=Yt+At;Ie?Ve(L[Yt+F],L[Ot+F]):Ge(L[Yt+F],L[Ot+F]),Ht=re.a,L[Ot+F]=re.b,L[Yt+F]=Ht}Ke=$e,$e>>=1}return Be}function De(L,F,Q,ue,pe,he,Pe,Ie,We,$e){for(var Ke=0,Be=0,yt=Ie,xt=Math.trunc(pe.value+(he+7)/8);pe.value<xt;)for(J(Ke,Be,Q,pe),Ke=G.c,Be=G.lc;Be>=14;){var rt=Ke>>Be-14&16383,At=F[rt];if(At.len)Be-=At.len,oe(At.lit,Pe,Ke,Be,Q,ue,pe,We,$e,yt),Ke=Z.c,Be=Z.lc;else{if(!At.p)throw"hufDecode issues";var Dt;for(Dt=0;Dt<At.lit;Dt++){for(var Ht=le(L[At.p[Dt]]);Be<Ht&&pe.value<xt;)J(Ke,Be,Q,pe),Ke=G.c,Be=G.lc;if(Be>=Ht&&D(L[At.p[Dt]])==(Ke>>Be-Ht&(1<<Ht)-1)){Be-=Ht,oe(At.p[Dt],Pe,Ke,Be,Q,ue,pe,We,$e,yt),Ke=Z.c,Be=Z.lc;break}}if(Dt==At.lit)throw"hufDecode issues"}}var Xt=8-he&7;for(Ke>>=Xt,Be-=Xt;Be>0;){var At=F[Ke<<14-Be&16383];if(At.len)Be-=At.len,oe(At.lit,Pe,Ke,Be,Q,ue,pe,We,$e,yt),Ke=Z.c,Be=Z.lc;else throw"hufDecode issues"}return!0}function He(L,F,Q,ue,pe,he){var Pe={value:0},Ie=Q.value,We=at(F,Q),$e=at(F,Q);Q.value+=4;var Ke=at(F,Q);if(Q.value+=4,We<0||We>=65537||$e<0||$e>=65537)throw"Something wrong with HUF_ENCSIZE";var Be=new Array(65537),yt=new Array(16384);U(yt);var xt=ue-(Q.value-Ie);if(K(L,F,Q,xt,We,$e,Be),Ke>8*(ue-(Q.value-Ie)))throw"Something wrong with hufUncompress";W(Be,We,$e,yt),De(Be,yt,L,F,Q,Ke,$e,he,pe,Pe)}function be(L,F,Q){for(var ue=0;ue<Q;++ue)F[ue]=L[F[ue]]}function ye(L){for(var F=1;F<L.length;F++){var Q=L[F-1]+L[F]-128;L[F]=Q}}function Ue(L,F){for(var Q=0,ue=Math.floor((L.length+1)/2),pe=0,he=L.length-1;!(pe>he||(F[pe++]=L[Q++],pe>he));)F[pe++]=L[ue++]}function it(L){for(var F=L.byteLength,Q=new Array,ue=0,pe=new DataView(L);F>0;){var he=pe.getInt8(ue++);if(he<0){var Pe=-he;F-=Pe+1;for(var Ie=0;Ie<Pe;Ie++)Q.push(pe.getUint8(ue++))}else{var Pe=he;F-=2;for(var We=pe.getUint8(ue++),Ie=0;Ie<Pe+1;Ie++)Q.push(We)}}return Q}function qe(L,F,Q,ue,pe,he){var Ot=new DataView(he.buffer),Pe=Q[L.idx[0]].width,Ie=Q[L.idx[0]].height,We=3,$e=Math.floor(Pe/8),Ke=Math.ceil(Pe/8),Be=Math.ceil(Ie/8),yt=Pe-(Ke-1)*8,xt=Ie-(Be-1)*8,rt={value:0},At=new Array(We),Dt=new Array(We),Ht=new Array(We),Xt=new Array(We),_t=new Array(We);for(let hn=0;hn<We;++hn)_t[hn]=F[L.idx[hn]],At[hn]=hn<1?0:At[hn-1]+Ke*Be,Dt[hn]=new Float32Array(64),Ht[hn]=new Uint16Array(64),Xt[hn]=new Uint16Array(Ke*64);for(let hn=0;hn<Be;++hn){var kt=8;hn==Be-1&&(kt=xt);var Yt=8;for(let vn=0;vn<Ke;++vn){vn==Ke-1&&(Yt=yt);for(let on=0;on<We;++on)Ht[on].fill(0),Ht[on][0]=pe[At[on]++],wt(rt,ue,Ht[on]),X(Ht[on],Dt[on]),ie(Dt[on]);fe(Dt);for(let on=0;on<We;++on)Fe(Dt[on],Xt[on],vn*64)}let vr=0;for(let vn=0;vn<We;++vn){const on=Q[L.idx[vn]].type;for(let In=8*hn;In<8*hn+kt;++In){vr=_t[vn][In];for(let Oo=0;Oo<$e;++Oo){const ai=Oo*64+(In&7)*8;Ot.setUint16(vr+0*2*on,Xt[vn][ai+0],!0),Ot.setUint16(vr+1*2*on,Xt[vn][ai+1],!0),Ot.setUint16(vr+2*2*on,Xt[vn][ai+2],!0),Ot.setUint16(vr+3*2*on,Xt[vn][ai+3],!0),Ot.setUint16(vr+4*2*on,Xt[vn][ai+4],!0),Ot.setUint16(vr+5*2*on,Xt[vn][ai+5],!0),Ot.setUint16(vr+6*2*on,Xt[vn][ai+6],!0),Ot.setUint16(vr+7*2*on,Xt[vn][ai+7],!0),vr+=8*2*on}}if($e!=Ke)for(let In=8*hn;In<8*hn+kt;++In){const Oo=_t[vn][In]+8*$e*2*on,ai=$e*64+(In&7)*8;for(let ao=0;ao<Yt;++ao)Ot.setUint16(Oo+ao*2*on,Xt[vn][ai+ao],!0)}}}for(var Ut=new Uint16Array(Pe),Ot=new DataView(he.buffer),wn=0;wn<We;++wn){Q[L.idx[wn]].decoded=!0;var gr=Q[L.idx[wn]].type;if(Q[wn].type==2)for(var cr=0;cr<Ie;++cr){const hn=_t[wn][cr];for(var Or=0;Or<Pe;++Or)Ut[Or]=Ot.getUint16(hn+Or*2*gr,!0);for(var Or=0;Or<Pe;++Or)Ot.setFloat32(hn+Or*2*gr,ne(Ut[Or]),!0)}}}function wt(L,F,Q){for(var ue,pe=1;pe<64;)ue=F[L.value],ue==65280?pe=64:ue>>8==255?pe+=ue&255:(Q[pe]=ue,pe++),L.value++}function X(L,F){F[0]=ne(L[0]),F[1]=ne(L[1]),F[2]=ne(L[5]),F[3]=ne(L[6]),F[4]=ne(L[14]),F[5]=ne(L[15]),F[6]=ne(L[27]),F[7]=ne(L[28]),F[8]=ne(L[2]),F[9]=ne(L[4]),F[10]=ne(L[7]),F[11]=ne(L[13]),F[12]=ne(L[16]),F[13]=ne(L[26]),F[14]=ne(L[29]),F[15]=ne(L[42]),F[16]=ne(L[3]),F[17]=ne(L[8]),F[18]=ne(L[12]),F[19]=ne(L[17]),F[20]=ne(L[25]),F[21]=ne(L[30]),F[22]=ne(L[41]),F[23]=ne(L[43]),F[24]=ne(L[9]),F[25]=ne(L[11]),F[26]=ne(L[18]),F[27]=ne(L[24]),F[28]=ne(L[31]),F[29]=ne(L[40]),F[30]=ne(L[44]),F[31]=ne(L[53]),F[32]=ne(L[10]),F[33]=ne(L[19]),F[34]=ne(L[23]),F[35]=ne(L[32]),F[36]=ne(L[39]),F[37]=ne(L[45]),F[38]=ne(L[52]),F[39]=ne(L[54]),F[40]=ne(L[20]),F[41]=ne(L[22]),F[42]=ne(L[33]),F[43]=ne(L[38]),F[44]=ne(L[46]),F[45]=ne(L[51]),F[46]=ne(L[55]),F[47]=ne(L[60]),F[48]=ne(L[21]),F[49]=ne(L[34]),F[50]=ne(L[37]),F[51]=ne(L[47]),F[52]=ne(L[50]),F[53]=ne(L[56]),F[54]=ne(L[59]),F[55]=ne(L[61]),F[56]=ne(L[35]),F[57]=ne(L[36]),F[58]=ne(L[48]),F[59]=ne(L[49]),F[60]=ne(L[57]),F[61]=ne(L[58]),F[62]=ne(L[62]),F[63]=ne(L[63])}function ie(L){const F=.5*Math.cos(.7853975),Q=.5*Math.cos(3.14159/16),ue=.5*Math.cos(3.14159/8),pe=.5*Math.cos(3*3.14159/16),he=.5*Math.cos(5*3.14159/16),Pe=.5*Math.cos(3*3.14159/8),Ie=.5*Math.cos(7*3.14159/16);for(var We=new Array(4),$e=new Array(4),Ke=new Array(4),Be=new Array(4),yt=0;yt<8;++yt){var xt=yt*8;We[0]=ue*L[xt+2],We[1]=Pe*L[xt+2],We[2]=ue*L[xt+6],We[3]=Pe*L[xt+6],$e[0]=Q*L[xt+1]+pe*L[xt+3]+he*L[xt+5]+Ie*L[xt+7],$e[1]=pe*L[xt+1]-Ie*L[xt+3]-Q*L[xt+5]-he*L[xt+7],$e[2]=he*L[xt+1]-Q*L[xt+3]+Ie*L[xt+5]+pe*L[xt+7],$e[3]=Ie*L[xt+1]-he*L[xt+3]+pe*L[xt+5]-Q*L[xt+7],Ke[0]=F*(L[xt+0]+L[xt+4]),Ke[3]=F*(L[xt+0]-L[xt+4]),Ke[1]=We[0]+We[3],Ke[2]=We[1]-We[2],Be[0]=Ke[0]+Ke[1],Be[1]=Ke[3]+Ke[2],Be[2]=Ke[3]-Ke[2],Be[3]=Ke[0]-Ke[1],L[xt+0]=Be[0]+$e[0],L[xt+1]=Be[1]+$e[1],L[xt+2]=Be[2]+$e[2],L[xt+3]=Be[3]+$e[3],L[xt+4]=Be[3]-$e[3],L[xt+5]=Be[2]-$e[2],L[xt+6]=Be[1]-$e[1],L[xt+7]=Be[0]-$e[0]}for(var rt=0;rt<8;++rt)We[0]=ue*L[16+rt],We[1]=Pe*L[16+rt],We[2]=ue*L[48+rt],We[3]=Pe*L[48+rt],$e[0]=Q*L[8+rt]+pe*L[24+rt]+he*L[40+rt]+Ie*L[56+rt],$e[1]=pe*L[8+rt]-Ie*L[24+rt]-Q*L[40+rt]-he*L[56+rt],$e[2]=he*L[8+rt]-Q*L[24+rt]+Ie*L[40+rt]+pe*L[56+rt],$e[3]=Ie*L[8+rt]-he*L[24+rt]+pe*L[40+rt]-Q*L[56+rt],Ke[0]=F*(L[rt]+L[32+rt]),Ke[3]=F*(L[rt]-L[32+rt]),Ke[1]=We[0]+We[3],Ke[2]=We[1]-We[2],Be[0]=Ke[0]+Ke[1],Be[1]=Ke[3]+Ke[2],Be[2]=Ke[3]-Ke[2],Be[3]=Ke[0]-Ke[1],L[0+rt]=Be[0]+$e[0],L[8+rt]=Be[1]+$e[1],L[16+rt]=Be[2]+$e[2],L[24+rt]=Be[3]+$e[3],L[32+rt]=Be[3]-$e[3],L[40+rt]=Be[2]-$e[2],L[48+rt]=Be[1]-$e[1],L[56+rt]=Be[0]-$e[0]}function fe(L){for(var F=0;F<64;++F){var Q=L[0][F],ue=L[1][F],pe=L[2][F];L[0][F]=Q+1.5747*pe,L[1][F]=Q-.1873*ue-.4682*pe,L[2][F]=Q+1.8556*ue}}function Fe(L,F,Q){for(var ue=0;ue<64;++ue)F[Q+ue]=Ic.toHalfFloat(B(L[ue]))}function B(L){return L<=1?Math.sign(L)*Math.pow(Math.abs(L),2.2):Math.sign(L)*Math.pow(k,Math.abs(L)-1)}function j(L){return new DataView(L.array.buffer,L.offset.value,L.size)}function ae(L){var F=L.viewer.buffer.slice(L.offset.value,L.offset.value+L.size),Q=new Uint8Array(it(F)),ue=new Uint8Array(Q.length);return ye(Q),Ue(Q,ue),new DataView(ue.buffer)}function _e(L){var F=L.array.slice(L.offset.value,L.offset.value+L.size),Q=d0(F),ue=new Uint8Array(Q.length);return ye(Q),Ue(Q,ue),new DataView(ue.buffer)}function Oe(L){for(var F=L.viewer,Q={value:L.offset.value},ue=new Uint16Array(L.width*L.scanlineBlockSize*(L.channels*L.type)),pe=new Uint8Array(8192),he=0,Pe=new Array(L.channels),Ie=0;Ie<L.channels;Ie++)Pe[Ie]={},Pe[Ie].start=he,Pe[Ie].end=Pe[Ie].start,Pe[Ie].nx=L.width,Pe[Ie].ny=L.lines,Pe[Ie].size=L.type,he+=Pe[Ie].nx*Pe[Ie].ny*Pe[Ie].size;var We=Re(F,Q),$e=Re(F,Q);if($e>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(We<=$e)for(var Ie=0;Ie<$e-We+1;Ie++)pe[Ie+We]=se(F,Q);var Ke=new Uint16Array(65536),Be=O(pe,Ke),yt=at(F,Q);He(L.array,F,Q,yt,ue,he);for(var Ie=0;Ie<L.channels;++Ie)for(var xt=Pe[Ie],rt=0;rt<Pe[Ie].size;++rt)et(ue,xt.start+rt,xt.nx,xt.size,xt.ny,xt.nx*xt.size,Be);be(Ke,ue,he);for(var At=0,Dt=new Uint8Array(ue.buffer.byteLength),Ht=0;Ht<L.lines;Ht++)for(var Xt=0;Xt<L.channels;Xt++){var xt=Pe[Xt],_t=xt.nx*xt.size,kt=new Uint8Array(ue.buffer,xt.end*2,_t*2);Dt.set(kt,At),At+=_t*2,xt.end+=_t}return new DataView(Dt.buffer)}function je(L){var F=L.array.slice(L.offset.value,L.offset.value+L.size),Q=d0(F);const ue=L.lines*L.channels*L.width,pe=L.type==1?new Uint16Array(ue):new Uint32Array(ue);let he=0,Pe=0;const Ie=new Array(4);for(let We=0;We<L.lines;We++)for(let $e=0;$e<L.channels;$e++){let Ke=0;switch(L.type){case 1:Ie[0]=he,Ie[1]=Ie[0]+L.width,he=Ie[1]+L.width;for(let Be=0;Be<L.width;++Be){const yt=Q[Ie[0]++]<<8|Q[Ie[1]++];Ke+=yt,pe[Pe]=Ke,Pe++}break;case 2:Ie[0]=he,Ie[1]=Ie[0]+L.width,Ie[2]=Ie[1]+L.width,he=Ie[2]+L.width;for(let Be=0;Be<L.width;++Be){const yt=Q[Ie[0]++]<<24|Q[Ie[1]++]<<16|Q[Ie[2]++]<<8;Ke+=yt,pe[Pe]=Ke,Pe++}break}}return new DataView(pe.buffer)}function pt(L){var F=L.viewer,Q={value:L.offset.value},ue=new Uint8Array(L.width*L.lines*(L.channels*L.type*2)),pe={version:Ne(F,Q),unknownUncompressedSize:Ne(F,Q),unknownCompressedSize:Ne(F,Q),acCompressedSize:Ne(F,Q),dcCompressedSize:Ne(F,Q),rleCompressedSize:Ne(F,Q),rleUncompressedSize:Ne(F,Q),rleRawSize:Ne(F,Q),totalAcUncompressedCount:Ne(F,Q),totalDcUncompressedCount:Ne(F,Q),acCompression:Ne(F,Q)};if(pe.version<2)throw"EXRLoader.parse: "+ge.compression+" version "+pe.version+" is unsupported";for(var he=new Array,Pe=Re(F,Q)-2;Pe>0;){var Ie=Je(F.buffer,Q),We=se(F,Q),$e=We>>2&3,Ke=(We>>4)-1,Be=new Int8Array([Ke])[0],yt=se(F,Q);he.push({name:Ie,index:Be,type:yt,compression:$e}),Pe-=Ie.length+3}for(var xt=ge.channels,rt=new Array(L.channels),At=0;At<L.channels;++At){var Dt=rt[At]={},Ht=xt[At];Dt.name=Ht.name,Dt.compression=0,Dt.decoded=!1,Dt.type=Ht.pixelType,Dt.pLinear=Ht.pLinear,Dt.width=L.width,Dt.height=L.lines}for(var Xt={idx:new Array(3)},_t=0;_t<L.channels;++_t)for(var Dt=rt[_t],At=0;At<he.length;++At){var kt=he[At];Dt.name==kt.name&&(Dt.compression=kt.compression,kt.index>=0&&(Xt.idx[kt.index]=_t),Dt.offset=_t)}if(pe.acCompressedSize>0)switch(pe.acCompression){case 0:var Ot=new Uint16Array(pe.totalAcUncompressedCount);He(L.array,F,Q,pe.acCompressedSize,Ot,pe.totalAcUncompressedCount);break;case 1:var Yt=L.array.slice(Q.value,Q.value+pe.totalAcUncompressedCount),Ut=d0(Yt),Ot=new Uint16Array(Ut.buffer);Q.value+=pe.totalAcUncompressedCount;break}if(pe.dcCompressedSize>0){var wn={array:L.array,offset:Q,size:pe.dcCompressedSize},gr=new Uint16Array(_e(wn).buffer);Q.value+=pe.dcCompressedSize}if(pe.rleRawSize>0){var Yt=L.array.slice(Q.value,Q.value+pe.rleCompressedSize),Ut=d0(Yt),cr=it(Ut.buffer);Q.value+=pe.rleCompressedSize}for(var Or=0,hn=new Array(rt.length),At=0;At<hn.length;++At)hn[At]=new Array;for(var vr=0;vr<L.lines;++vr)for(var vn=0;vn<rt.length;++vn)hn[vn].push(Or),Or+=rt[vn].width*L.type*2;qe(Xt,hn,rt,Ot,gr,ue);for(var At=0;At<rt.length;++At){var Dt=rt[At];if(!Dt.decoded)switch(Dt.compression){case 2:for(var on=0,In=0,vr=0;vr<L.lines;++vr){for(var Oo=hn[At][on],ai=0;ai<Dt.width;++ai){for(var ao=0;ao<2*Dt.type;++ao)ue[Oo++]=cr[In+ao*Dt.width*Dt.height];In++}on++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(ue.buffer)}function Je(L,F){for(var Q=new Uint8Array(L),ue=0;Q[F.value+ue]!=0;)ue+=1;var pe=new TextDecoder().decode(Q.slice(F.value,F.value+ue));return F.value=F.value+ue+1,pe}function Te(L,F,Q){var ue=new TextDecoder().decode(new Uint8Array(L).slice(F.value,F.value+Q));return F.value=F.value+Q,ue}function mt(L,F){var Q=ot(L,F),ue=at(L,F);return[Q,ue]}function St(L,F){var Q=at(L,F),ue=at(L,F);return[Q,ue]}function ot(L,F){var Q=L.getInt32(F.value,!0);return F.value=F.value+4,Q}function at(L,F){var Q=L.getUint32(F.value,!0);return F.value=F.value+4,Q}function dt(L,F){var Q=L[F.value];return F.value=F.value+1,Q}function se(L,F){var Q=L.getUint8(F.value);return F.value=F.value+1,Q}const Ne=function(L,F){let Q;return"getBigInt64"in DataView.prototype?Q=Number(L.getBigInt64(F.value,!0)):Q=L.getUint32(F.value+4,!0)+Number(L.getUint32(F.value,!0)<<32),F.value+=8,Q};function Ce(L,F){var Q=L.getFloat32(F.value,!0);return F.value+=4,Q}function te(L,F){return Ic.toHalfFloat(Ce(L,F))}function ne(L){var F=(L&31744)>>10,Q=L&1023;return(L>>15?-1:1)*(F?F===31?Q?NaN:1/0:Math.pow(2,F-15)*(1+Q/1024):6103515625e-14*(Q/1024))}function Re(L,F){var Q=L.getUint16(F.value,!0);return F.value+=2,Q}function Ye(L,F){return ne(Re(L,F))}function gt(L,F,Q,ue){for(var pe=Q.value,he=[];Q.value<pe+ue-1;){var Pe=Je(F,Q),Ie=ot(L,Q),We=se(L,Q);Q.value+=3;var $e=ot(L,Q),Ke=ot(L,Q);he.push({name:Pe,pixelType:Ie,pLinear:We,xSampling:$e,ySampling:Ke})}return Q.value+=1,he}function Wt(L,F){var Q=Ce(L,F),ue=Ce(L,F),pe=Ce(L,F),he=Ce(L,F),Pe=Ce(L,F),Ie=Ce(L,F),We=Ce(L,F),$e=Ce(L,F);return{redX:Q,redY:ue,greenX:pe,greenY:he,blueX:Pe,blueY:Ie,whiteX:We,whiteY:$e}}function nn(L,F){var Q=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],ue=se(L,F);return Q[ue]}function fn(L,F){var Q=at(L,F),ue=at(L,F),pe=at(L,F),he=at(L,F);return{xMin:Q,yMin:ue,xMax:pe,yMax:he}}function Cr(L,F){var Q=["INCREASING_Y"],ue=se(L,F);return Q[ue]}function en(L,F){var Q=Ce(L,F),ue=Ce(L,F);return[Q,ue]}function lr(L,F){var Q=Ce(L,F),ue=Ce(L,F),pe=Ce(L,F);return[Q,ue,pe]}function Jn(L,F,Q,ue,pe){if(ue==="string"||ue==="stringvector"||ue==="iccProfile")return Te(F,Q,pe);if(ue==="chlist")return gt(L,F,Q,pe);if(ue==="chromaticities")return Wt(L,Q);if(ue==="compression")return nn(L,Q);if(ue==="box2i")return fn(L,Q);if(ue==="lineOrder")return Cr(L,Q);if(ue==="float")return Ce(L,Q);if(ue==="v2f")return en(L,Q);if(ue==="v3f")return lr(L,Q);if(ue==="int")return ot(L,Q);if(ue==="rational")return mt(L,Q);if(ue==="timecode")return St(L,Q);if(ue==="preview")return Q.value+=pe,"skipped";Q.value+=pe}function Su(L,F,Q){const ue={};if(L.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";ue.version=L.getUint8(4);const pe=L.getUint8(5);ue.spec={singleTile:!!(pe&2),longName:!!(pe&4),deepFormat:!!(pe&8),multiPart:!!(pe&16)},Q.value=8;for(var he=!0;he;){var Pe=Je(F,Q);if(Pe==0)he=!1;else{var Ie=Je(F,Q),We=at(L,Q),$e=Jn(L,F,Q,Ie,We);$e===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Ie}'.`):ue[Pe]=$e}}if(pe&-5)throw console.error("EXRHeader:",ue),"THREE.EXRLoader: provided file is currently unsupported.";return ue}function zf(L,F,Q,ue,pe){const he={size:0,viewer:F,array:Q,offset:ue,width:L.dataWindow.xMax-L.dataWindow.xMin+1,height:L.dataWindow.yMax-L.dataWindow.yMin+1,channels:L.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:L.channels[0].pixelType,uncompress:null,getter:null,format:null,[Rh?"colorSpace":"encoding"]:null};switch(L.compression){case"NO_COMPRESSION":he.lines=1,he.uncompress=j;break;case"RLE_COMPRESSION":he.lines=1,he.uncompress=ae;break;case"ZIPS_COMPRESSION":he.lines=1,he.uncompress=_e;break;case"ZIP_COMPRESSION":he.lines=16,he.uncompress=_e;break;case"PIZ_COMPRESSION":he.lines=32,he.uncompress=Oe;break;case"PXR24_COMPRESSION":he.lines=16,he.uncompress=je;break;case"DWAA_COMPRESSION":he.lines=32,he.uncompress=pt;break;case"DWAB_COMPRESSION":he.lines=256,he.uncompress=pt;break;default:throw"EXRLoader.parse: "+L.compression+" is unsupported"}if(he.scanlineBlockSize=he.lines,he.type==1)switch(pe){case Lr:he.getter=Ye,he.inputSize=2;break;case Ir:he.getter=Re,he.inputSize=2;break}else if(he.type==2)switch(pe){case Lr:he.getter=Ce,he.inputSize=4;break;case Ir:he.getter=te,he.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+he.type+" for "+L.compression+".";he.blockCount=(L.dataWindow.yMax+1)/he.scanlineBlockSize;for(var Pe=0;Pe<he.blockCount;Pe++)Ne(F,ue);he.outputChannels=he.channels==3?4:he.channels;const Ie=he.width*he.height*he.outputChannels;switch(pe){case Lr:he.byteArray=new Float32Array(Ie),he.channels<he.outputChannels&&he.byteArray.fill(1,0,Ie);break;case Ir:he.byteArray=new Uint16Array(Ie),he.channels<he.outputChannels&&he.byteArray.fill(15360,0,Ie);break;default:console.error("THREE.EXRLoader: unsupported type: ",pe);break}return he.bytesPerLine=he.width*he.inputSize*he.channels,he.outputChannels==4?he.format=br:he.format=cE,Rh?he.colorSpace="srgb-linear":he.encoding=3e3,he}const Do=new DataView(e),Yl=new Uint8Array(e),q={value:0},ge=Su(Do,e,q),ve=zf(ge,Do,Yl,q,this.type),me={value:0},ke={R:0,G:1,B:2,A:3,Y:0};for(let L=0;L<ve.height/ve.scanlineBlockSize;L++){const F=at(Do,q);ve.size=at(Do,q),ve.lines=F+ve.scanlineBlockSize>ve.height?ve.height-F:ve.scanlineBlockSize;const ue=ve.size<ve.lines*ve.bytesPerLine?ve.uncompress(ve):j(ve);q.value+=ve.size;for(let pe=0;pe<ve.scanlineBlockSize;pe++){const he=pe+L*ve.scanlineBlockSize;if(he>=ve.height)break;for(let Pe=0;Pe<ve.channels;Pe++){const Ie=ke[ge.channels[Pe].name];for(let We=0;We<ve.width;We++){me.value=(pe*(ve.channels*ve.width)+Pe*ve.width+We)*ve.inputSize;const $e=(ve.height-1-he)*(ve.width*ve.outputChannels)+We*ve.outputChannels+Ie;ve.byteArray[$e]=ve.getter(ue,me)}}}}return{header:ge,width:ve.width,height:ve.height,data:ve.byteArray,format:ve.format,[Rh?"colorSpace":"encoding"]:ve[Rh?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){Rh?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=dn,o.magFilter=dn,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,a)}return super.load(e,s,r,i)}}const Zre=()=>parseInt(Nf.replace(/\D+/g,"")),ZE=Zre(),qre=N.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},d)=>{const h=zr(P=>P.invalidate),p=zr(P=>P.camera),g=zr(P=>P.gl),v=zr(P=>P.events),y=zr(P=>P.setEvents),x=zr(P=>P.set),b=zr(P=>P.get),_=zr(P=>P.performance),S=e||p,E=r||v.connected||g.domElement,C=N.useMemo(()=>new Hre(S),[S]);return bu(()=>{C.enabled&&C.update()},-1),N.useEffect(()=>(s&&C.connect(s===!0?E:s),C.connect(E),()=>void C.dispose()),[s,E,t,C,h]),N.useEffect(()=>{const P=k=>{h(),t&&_.regress(),o&&o(k)},I=k=>{a&&a(k)},T=k=>{l&&l(k)};return C.addEventListener("change",P),C.addEventListener("start",I),C.addEventListener("end",T),()=>{C.removeEventListener("start",I),C.removeEventListener("end",T),C.removeEventListener("change",P)}},[o,a,l,C,h,y]),N.useEffect(()=>{if(n){const P=b().controls;return x({controls:C}),()=>x({controls:P})}},[n,C]),N.createElement("primitive",No({ref:d,object:C,enableDamping:i},c))}),Xre=3e3,Yre=3001,X_=ZE>=154?"opaque_fragment":"output_fragment";class Kre extends Wx{constructor(e){super(e),this.onBeforeCompile=(t,r)=>{const{isWebGL2:i}=r.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${X_}>`,`
        ${i?`#include <${X_}>`:`#extension GL_OES_standard_derivatives : enable
#include <${X_}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${ZE>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const Qre=N.forwardRef((n,e)=>{const[t]=N.useState(()=>new Kre(null));return N.createElement("primitive",No({},n,{object:t,ref:e,attach:"material"}))}),XF=(n,e,t)=>{let r;switch(n){case Ns:r=new Uint8ClampedArray(e*t*4);break;case Ir:r=new Uint16Array(e*t*4);break;case oa:r=new Uint32Array(e*t*4);break;case sE:r=new Int8Array(e*t*4);break;case oE:r=new Int16Array(e*t*4);break;case lE:r=new Int32Array(e*t*4);break;case Lr:r=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return r};let h0;const Jre=(n,e,t,r)=>{if(h0!==void 0)return h0;const i=new rs(1,1,r);e.setRenderTarget(i);const s=new mr(new ql,new Ta({color:16777215}));e.render(s,t),e.setRenderTarget(null);const o=XF(n,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),s.geometry.dispose(),s.material.dispose(),h0=o[0]!==0,h0};class qE{constructor(e){var t,r,i,s,o,a,l,c,d,h,p,g,v,y,x,b;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(S){throw this._renderer.setRenderTarget(null),S}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const _={format:br,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter:dn,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:dn,samples:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.samples)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.samples:void 0,wrapS:((p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapS)!==void 0?(g=e.renderTargetOptions)===null||g===void 0?void 0:g.wrapS:jn,wrapT:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapT)!==void 0?(y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapT:jn};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=qE.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Um,this._camera=new Ys,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Jre(this._type,this._renderer,this._camera,_)){let S;switch(this._type){case Ir:S=this._renderer.extensions.has("EXT_color_buffer_float")?Lr:void 0;break}S!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Lr}`),this._type=S):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new mr(new ql,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new rs(this.width,this.height,_),this._renderTarget.texture.mapping=((x=e.renderTargetOptions)===null||x===void 0?void 0:x.mapping)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.mapping:Nl}static instantiateRenderer(){const e=new Fx;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=XF(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new Yc(this.toArray(),this.width,this.height,br,this._type,(e==null?void 0:e.mapping)||Nl,(e==null?void 0:e.wrapS)||jn,(e==null?void 0:e.wrapT)||jn,(e==null?void 0:e.magFilter)||dn,(e==null?void 0:e.minFilter)||dn,(e==null?void 0:e.anisotropy)||1,ba);return t.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof ji&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof Mn&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof Mn&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const eie=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,tie=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class nie extends ji{constructor({gamma:e,offsetHdr:t,offsetSdr:r,gainMapMin:i,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:a,hdrCapacityMax:l,sdr:c,gainMap:d}){super({name:"GainMapDecoderMaterial",vertexShader:eie,fragmentShader:tie,uniforms:{sdr:{value:c},gainMap:{value:d},gamma:{value:new $(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new $().fromArray(t)},offsetSdr:{value:new $().fromArray(r)},gainMapMin:{value:new $().fromArray(i)},gainMapMax:{value:new $().fromArray(s)},weightFactor:{value:(Math.log2(o)-a)/(l-a)}},blending:To,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class YF extends Error{}class KF extends Error{}const Lh=(n,e,t)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(i){const s=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(o=>o.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},rie=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const r=e.indexOf("x:xmpmeta>",t),i=e.slice(t,r+10);try{const s=Lh(i,"hdrgm:GainMapMin","0"),o=Lh(i,"hdrgm:GainMapMax"),a=Lh(i,"hdrgm:Gamma","1"),l=Lh(i,"hdrgm:OffsetSDR","0.015625"),c=Lh(i,"hdrgm:OffsetHDR","0.015625"),d=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),h=d?d[1]:"0",p=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!p)throw new Error("Incomplete gainmap metadata");const g=p[1];return{gainMapMin:Array.isArray(s)?s.map(v=>parseFloat(v)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(o)?o.map(v=>parseFloat(v)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(a)?a.map(v=>parseFloat(v)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetSdr:Array.isArray(l)?l.map(v=>parseFloat(v)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(c)?c.map(v=>parseFloat(v)):[parseFloat(c),parseFloat(c),parseFloat(c)],hdrCapacityMin:parseFloat(h),hdrCapacityMax:parseFloat(g)}}catch{}t=e.indexOf("<x:xmpmeta",r)}};class iie{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,r)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=s.byteLength;let a=2,l=0,c;for(;a<o;){if(++l>250){r(new Error(`Found no marker after ${l} loops `));return}if(s.getUint8(a)!==255){r(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${s.getUint8(a).toString(16)}`));return}if(c=s.getUint8(a+1),i&&console.log(`Marker: ${c.toString(16)}`),c===226){i&&console.log("Found APP2 marker (0xffe2)");const d=a+4;if(s.getUint32(d)===1297106432){const h=d+4;let p;if(s.getUint16(h)===18761)p=!1;else if(s.getUint16(h)===19789)p=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(h+2,!p)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const g=s.getUint32(h+4,!p);if(g<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const v=h+g,y=s.getUint16(v,!p),x=v+2;let b=0;for(let C=x;C<x+12*y;C+=12)s.getUint16(C,!p)===45057&&(b=s.getUint32(C+8,!p));const S=v+2+y*12+4,E=[];for(let C=S;C<S+b*16;C+=16){const P={MPType:s.getUint32(C,!p),size:s.getUint32(C+4,!p),dataOffset:s.getUint32(C+8,!p),dependantImages:s.getUint32(C+12,!p),start:-1,end:-1,isFII:!1};P.dataOffset?(P.start=h+P.dataOffset,P.isFII=!1):(P.start=0,P.isFII=!0),P.end=P.start+P.size,E.push(P)}if(this.options.extractNonFII&&E.length){const C=new Blob([s]),P=[];for(const I of E){if(I.isFII&&!this.options.extractFII)continue;const T=C.slice(I.start,I.end+1,"image/jpeg");P.push(T)}t(P)}}}a+=2+s.getUint16(a+2)}})}}const sie=async n=>{const e=rie(n);if(!e)throw new KF("Gain map XMP metadata not found");const r=await new iie({extractFII:!0,extractNonFII:!0}).extract(n);if(r.length!==2)throw new YF("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},Ok=n=>new Promise((e,t)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{t(i)},r.src=URL.createObjectURL(n)});class QF extends Fi{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new Zx}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new nie({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Mn,sdr:new Mn});return new qE({width:16,height:16,type:Ir,colorSpace:ba,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,r,i){const s=i?new Blob([i],{type:"image/jpeg"}):void 0,o=new Blob([r],{type:"image/jpeg"});let a,l,c=!1;if(typeof createImageBitmap>"u"){const p=await Promise.all([s?Ok(s):Promise.resolve(void 0),Ok(o)]);l=p[0],a=p[1],c=!0}else{const p=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);l=p[0],a=p[1]}const d=new Mn(l||new ImageData(2,2),Nl,jn,jn,dn,NS,br,Ns,1,ba);d.flipY=c,d.needsUpdate=!0;const h=new Mn(a,Nl,jn,jn,dn,NS,br,Ns,1,ws);h.flipY=c,h.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=d,e.material.sdr=h,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class oie extends QF{load([e,t,r],i,s,o){const a=this.prepareQuadRenderer();let l,c,d;const h=async()=>{if(l&&c&&d){try{await this.render(a,d,l,c)}catch(k){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(r),typeof o=="function"&&o(k),a.disposeOnDemandRenderer();return}typeof i=="function"&&i(a),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(r),a.disposeOnDemandRenderer()}};let p=!0,g=0,v=0,y=!0,x=0,b=0,_=!0,S=0,E=0;const C=()=>{if(typeof s=="function"){const k=g+x+S,O=v+b+E,U=p&&y&&_;s(new ProgressEvent("progress",{lengthComputable:U,loaded:O,total:k}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(r);const P=new Ji(this._internalLoadingManager);P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(e,async k=>{if(typeof k=="string")throw new Error("Invalid sdr buffer");l=k,await h()},k=>{p=k.lengthComputable,v=k.loaded,g=k.total,C()},k=>{this.manager.itemError(e),typeof o=="function"&&o(k)});const I=new Ji(this._internalLoadingManager);I.setResponseType("arraybuffer"),I.setRequestHeader(this.requestHeader),I.setPath(this.path),I.setWithCredentials(this.withCredentials),I.load(t,async k=>{if(typeof k=="string")throw new Error("Invalid gainmap buffer");c=k,await h()},k=>{y=k.lengthComputable,b=k.loaded,x=k.total,C()},k=>{this.manager.itemError(t),typeof o=="function"&&o(k)});const T=new Ji(this._internalLoadingManager);return T.setRequestHeader(this.requestHeader),T.setPath(this.path),T.setWithCredentials(this.withCredentials),T.load(r,async k=>{if(typeof k!="string")throw new Error("Invalid metadata string");d=JSON.parse(k),await h()},k=>{_=k.lengthComputable,E=k.loaded,S=k.total,C()},k=>{this.manager.itemError(r),typeof o=="function"&&o(k)}),a}}class aie extends QF{load(e,t,r,i){const s=this.prepareQuadRenderer(),o=new Ji(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let c,d,h;try{const p=await sie(l);c=p.sdr,d=p.gainMap,h=p.metadata}catch(p){if(p instanceof KF||p instanceof YF)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),h={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw p}try{await this.render(s,h,c,d)}catch(p){this.manager.itemError(e),typeof i=="function"&&i(p),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},r,a=>{this.manager.itemError(e),typeof i=="function"&&i(a)}),s}}const om={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},JF="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Wd=n=>Array.isArray(n),XE=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Yx({files:n=XE,path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}={}){let s=null,o=!1;t&&(YE(t),n=om[t],e=JF),o=Wd(n);const{extension:a,isCubemap:l}=KE(n);if(s=QE(a),!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);const c=zr(g=>g.gl);N.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function g(){vf.clear(s,o?[n]:n)}c.domElement.addEventListener("webglcontextlost",g,{once:!0})},[n,c.domElement]);const d=vf(s,o?[n]:n,g=>{(a==="webp"||a==="jpg"||a==="jpeg")&&g.setRenderer(c),g.setPath==null||g.setPath(e),i&&i(g)});let h=o?d[0]:d;if(a==="jpg"||a==="jpeg"||a==="webp"){var p;h=(p=h.renderTarget)==null?void 0:p.texture}return h.mapping=l?_a:pf,"colorSpace"in h?h.colorSpace=r??l?"srgb":"srgb-linear":h.encoding=r??l?Yre:Xre,h}const lie={files:XE,path:"",preset:void 0,extensions:void 0};Yx.preload=n=>{const e={...lie,...n};let{files:t,path:r=""}=e;const{preset:i,extensions:s}=e;i&&(YE(i),t=om[i],r=JF);const{extension:o}=KE(t);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const a=QE(o);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);vf.preload(a,Wd(t)?[t]:t,l=>{l.setPath==null||l.setPath(r),s&&s(l)})};const cie={files:XE,preset:void 0};Yx.clear=n=>{const e={...cie,...n};let{files:t}=e;const{preset:r}=e;r&&(YE(r),t=om[r]);const{extension:i}=KE(t),s=QE(i);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);vf.clear(s,Wd(t)?[t]:t)};function YE(n){if(!(n in om))throw new Error("Preset must be one of: "+Object.keys(om).join(", "))}function KE(n){var e;const t=Wd(n)&&n.length===6,r=Wd(n)&&n.length===3&&n.some(o=>o.endsWith("json")),i=Wd(n)?n[0]:n;return{extension:t?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:r}}function QE(n){return n==="cube"?iF:n==="hdr"?Gre:n==="exr"?$re:n==="jpg"||n==="jpeg"?aie:n==="webp"?oie:null}const uie=n=>n.current&&n.current.isScene,die=n=>uie(n)?n.current:n;function JE(n,e,t,r,i={}){var s,o,a,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const c=die(e||t),d=c.background,h=c.environment,p={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:(s=(o=c.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:(a=(l=c.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&a!==void 0?a:[0,0,0]};return n!=="only"&&(c.environment=r),n&&(c.background=r),Ka(c,i),()=>{n!=="only"&&(c.environment=h),n&&(c.background=d),Ka(c,p)}}function eT({scene:n,background:e=!1,map:t,...r}){const i=zr(s=>s.scene);return N.useLayoutEffect(()=>{if(t)return JE(e,n,i,t,r)}),null}function ez({background:n=!1,scene:e,blur:t,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a,...l}){const c=Yx(l),d=zr(h=>h.scene);return N.useLayoutEffect(()=>JE(n,e,d,c,{backgroundBlurriness:t??r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a})),N.useEffect(()=>()=>{c.dispose()},[c]),null}function fie({children:n,near:e=.1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:d,environmentIntensity:h,environmentRotation:p,scene:g,files:v,path:y,preset:x=void 0,extensions:b}){const _=zr(T=>T.gl),S=zr(T=>T.scene),E=N.useRef(null),[C]=N.useState(()=>new Um),P=N.useMemo(()=>{const T=new Dx(r);return T.texture.type=Ir,T},[r]);N.useEffect(()=>()=>{P.dispose()},[P]),N.useLayoutEffect(()=>{if(i===1){const T=_.autoClear;_.autoClear=!0,E.current.update(_,C),_.autoClear=T}return JE(o,g,S,P.texture,{backgroundBlurriness:a??l,backgroundIntensity:c,backgroundRotation:d,environmentIntensity:h,environmentRotation:p})},[n,C,P.texture,g,S,o,i,_]);let I=1;return bu(()=>{if(i===1/0||I<i){const T=_.autoClear;_.autoClear=!0,E.current.update(_,C),_.autoClear=T,I++}}),N.createElement(N.Fragment,null,Vne(N.createElement(N.Fragment,null,n,N.createElement("cubeCamera",{ref:E,args:[e,t,P]}),v||x?N.createElement(ez,{background:!0,files:v,preset:x,path:y,extensions:b}):s?N.createElement(eT,{background:!0,map:s,extensions:b}):null),C))}function hie(n){var e,t,r,i;const s=Yx(n),o=n.map||s;N.useMemo(()=>MF({GroundProjectedEnvImpl:Ore}),[]),N.useEffect(()=>()=>{s.dispose()},[s]);const a=N.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,d=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return N.createElement(N.Fragment,null,N.createElement(eT,No({},n,{map:o})),N.createElement("groundProjectedEnvImpl",{args:a,scale:d,height:l,radius:c}))}function pie(n){return n.ground?N.createElement(hie,n):n.map?N.createElement(eT,n):n.children?N.createElement(fie,n):N.createElement(ez,n)}class mie extends ji{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${ZE>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const gie=n=>new $().setFromSpherical(new Oy(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),vie=N.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:r=0,factor:i=4,fade:s=!1,speed:o=1},a)=>{const l=N.useRef(),[c,d,h]=N.useMemo(()=>{const g=[],v=[],y=Array.from({length:t},()=>(.5+.5*Math.random())*i),x=new ft;let b=n+e;const _=e/t;for(let S=0;S<t;S++)b-=_*Math.random(),g.push(...gie(b).toArray()),x.setHSL(S/t,r,.9),v.push(x.r,x.g,x.b);return[new Float32Array(g),new Float32Array(v),new Float32Array(y)]},[t,e,i,n,r]);bu(g=>l.current&&(l.current.uniforms.time.value=g.clock.elapsedTime*o));const[p]=N.useState(()=>new mie);return N.createElement("points",{ref:a},N.createElement("bufferGeometry",null,N.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),N.createElement("bufferAttribute",{attach:"attributes-color",args:[d,3]}),N.createElement("bufferAttribute",{attach:"attributes-size",args:[h,1]})),N.createElement("primitive",{ref:l,object:p,attach:"material",blending:Up,"uniforms-fade-value":s,depthWrite:!1,transparent:!0,vertexColors:!0}))});let mc,Ih;const yie=N.createContext(null),jk=new zt,Fk=new $,xie=N.forwardRef(({children:n,range:e,limit:t=1e3,...r},i)=>{const s=N.useRef(null);N.useImperativeHandle(i,()=>s.current,[]);const[o,a]=N.useState([]),[[l,c,d]]=N.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);N.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),bu(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),jk.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),mc=0;mc<o.length;mc++)Ih=o[mc].current,Ih.getWorldPosition(Fk).applyMatrix4(jk),Fk.toArray(l,mc*3),s.current.geometry.attributes.position.needsUpdate=!0,Ih.matrixWorldNeedsUpdate=!0,Ih.color.toArray(c,mc*3),s.current.geometry.attributes.color.needsUpdate=!0,d.set([Ih.size],mc),s.current.geometry.attributes.size.needsUpdate=!0});const h=N.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(g=>[...g,p]),()=>a(g=>g.filter(v=>v.current!==p.current)))}),[]);return N.createElement("points",No({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},r),N.createElement("bufferGeometry",null,N.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:$c}),N.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:$c}),N.createElement("bufferAttribute",{attach:"attributes-size",count:d.length,array:d,itemSize:1,usage:$c})),N.createElement(yie.Provider,{value:h},n))}),wie=N.forwardRef(({children:n,positions:e,colors:t,sizes:r,stride:i=3,...s},o)=>{const a=N.useRef(null);return N.useImperativeHandle(o,()=>a.current,[]),bu(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),r&&(l.size.needsUpdate=!0)}),N.createElement("points",No({ref:a},s),N.createElement("bufferGeometry",null,N.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/i,array:e,itemSize:i,usage:$c}),t&&N.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/i,array:t,itemSize:3,usage:$c}),r&&N.createElement("bufferAttribute",{attach:"attributes-size",count:r.length/i,array:r,itemSize:1,usage:$c})),n)}),_ie=N.forwardRef((n,e)=>n.positions instanceof Float32Array?N.createElement(wie,No({},n,{ref:e})):N.createElement(xie,No({},n,{ref:e})));function bie({all:n,scene:e,camera:t}){const r=zr(({gl:o})=>o),i=zr(({camera:o})=>o),s=zr(({scene:o})=>o);return N.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),r.compile(e||s,t||i);const a=new Dx(128);new gE(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const Kx=({children:n,camera:e={position:[0,0,10],fov:75},controls:t=!0,stars:r=!1,environment:i=!1,environmentPreset:s="night",className:o="",controlsConfig:a={}})=>{const{autoRotate:l=!1,enableZoom:c=!1,enablePan:d=!1,maxPolarAngle:h=Math.PI/2,minPolarAngle:p=Math.PI/4,rotateSpeed:g=.5}=a;return m.jsx("div",{className:`canvas-container ${o}`,children:m.jsx(ore,{camera:{position:e.position,fov:e.fov||75,near:.1,far:1e3},dpr:[1,2],gl:{antialias:!0,alpha:!0,powerPreference:"high-performance",stencil:!1,depth:!0},children:m.jsxs(N.Suspense,{fallback:null,children:[m.jsx("ambientLight",{intensity:.7}),m.jsx("directionalLight",{position:[10,10,5],intensity:1,castShadow:!0,"shadow-mapSize":1024}),i&&m.jsx(pie,{preset:s}),r&&m.jsx(vie,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),n,t&&m.jsx(qre,{enableZoom:c,enablePan:d,maxPolarAngle:h,minPolarAngle:p,rotateSpeed:g,autoRotate:l,autoRotateSpeed:1}),m.jsx(bie,{all:!0})]})})})},Qx=()=>{const{progress:n}=_re();return m.jsx(gre,{center:!0,children:m.jsxs("div",{className:"flex flex-col items-center justify-center p-8 backdrop-blur-sm bg-background/30 rounded-lg",children:[m.jsxs("div",{className:"w-16 h-16 relative mb-4",children:[m.jsx("div",{className:"w-full h-full border-4 border-primary/30 rounded-full"}),m.jsx(Et.div,{className:"absolute top-0 left-0 w-full h-full border-4 border-t-primary border-r-primary border-b-transparent border-l-transparent rounded-full",animate:{rotate:360,transition:{duration:1.5,ease:"linear",repeat:1/0}}})]}),m.jsx("p",{className:"text-xl font-medium gradient-text mb-2",children:"Loading 3D Elements..."}),m.jsx("div",{className:"w-48 h-2 bg-muted rounded-full overflow-hidden",children:m.jsx(Et.div,{className:"h-full bg-gradient-to-r from-primary to-accent",initial:{width:"0%"},animate:{width:`${n}%`},transition:{duration:.3}})}),m.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:[n.toFixed(0),"%"]})]})})},Dl=({children:n,title:e,description:t,className:r="",contentClassName:i="",textClassName:s="",minHeight:o="min-h-screen",background:a="gradient",textPosition:l="left",textAnimation:c=!0,fullWidth:d=!1})=>{const h=()=>{switch(a){case"none":return"";case"gradient":return"hero-gradient";case"primary":return"bg-primary/5";case"secondary":return"bg-secondary/5";default:return"hero-gradient"}},p=()=>{switch(l){case"left":return"";case"center":return"text-center mx-auto";case"right":return"ml-auto";default:return""}},g=[],v=[];return Ee.Children.forEach(n,y=>{y&&y.props&&y.props.position!==void 0?g.push(y):v.push(y)}),m.jsxs("section",{className:`relative ${o} flex items-center ${r}`,children:[a!=="none"&&m.jsx("div",{className:`absolute inset-0 ${h()}`}),m.jsx(Kx,{className:"!absolute inset-0",children:m.jsx(N.Suspense,{fallback:m.jsx(Qx,{}),children:g})}),m.jsxs("div",{className:`container mx-auto px-4 relative z-10 ${i}`,children:[(e||t)&&m.jsxs(Et.div,{initial:c?{opacity:0,y:50}:void 0,animate:c?{opacity:1,y:0}:void 0,transition:{duration:.8},className:`${d?"w-full":"max-w-2xl"} ${p()} ${s}`,children:[e&&m.jsx("h1",{className:"headline mb-6 gradient-text font-bold",children:e}),t&&m.jsx("p",{className:"subheadline mb-8",children:t})]}),v]})]})},Sie=(n,e)=>{const t=new Float32Array(n*3);for(let r=0;r<n;r++){const i=r*3,s=Math.random()*Math.PI*2,o=Math.acos(2*Math.random()-1),a=e*Math.cbrt(Math.random());t[i]=a*Math.sin(o)*Math.cos(s),t[i+1]=a*Math.sin(o)*Math.sin(s),t[i+2]=a*Math.cos(o)}return t},no=({count:n=2e3,radius:e=3,size:t=.05,color:r="#6E59A5",position:i=[0,0,0],interactive:s=!1,pulse:o=!1,rotate:a=!0,speed:l=1})=>{const c=N.useRef(null),d=N.useRef(null),h=io(),[p,g]=N.useState(!1),[v]=N.useState(()=>Sie(n,e)),[y]=N.useState([...v]);return N.useEffect(()=>{if(d.current){const x=new _n(v,3);d.current=x}},[v]),bu((x,b)=>{if(c.current&&(a&&(c.current.rotation.x+=b*.05*l,c.current.rotation.y+=b*.08*l),p&&s&&(c.current.rotation.x+=b*.2*l,c.current.rotation.y+=b*.3*l),o&&d.current)){const _=d.current.array,S=x.clock.getElapsedTime();for(let E=0;E<n;E++){const C=E*3,P=y[C],I=y[C+1],T=y[C+2],k=Math.sqrt(P*P+I*I+T*T),O=.05*Math.sin(S*2+k*.5)+1;_[C]=P*O,_[C+1]=I*O,_[C+2]=T*O}d.current.needsUpdate=!0}}),N.useEffect(()=>{s&&(document.body.style.cursor=p?"pointer":"auto")},[p,s]),m.jsx("group",{position:i,children:m.jsx(_ie,{ref:c,positions:v,stride:3,frustumCulled:!1,onPointerOver:()=>s&&g(!0),onPointerOut:()=>s&&g(!1),onClick:()=>s&&h("/services"),children:m.jsx(Qre,{transparent:!0,color:r,size:t,sizeAttenuation:!0,depthWrite:!1,blending:Up})})})},Mie=()=>(io(),m.jsxs(Dl,{title:"Transforming Ideas with AI & Software Innovation",description:"We craft intelligent solutions that leverage cutting-edge AI, machine learning, and software development to solve complex business challenges.",minHeight:"min-h-screen",background:"gradient",children:[m.jsx(no,{position:[0,0,0],radius:4,count:3e3,interactive:!1}),m.jsx(Et.div,{className:"absolute z-10 w-full max-w-md transform -translate-x-1/2 bottom-12 left-1/2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8}})]})),p0=({title:n,description:e,icon:t,route:r,delay:i=0})=>{const s=io();return m.jsxs(Et.div,{className:"p-6 glass rounded-lg transition-all",whileHover:{y:-10,boxShadow:"0 10px 30px -10px rgba(110, 89, 165, 0.3)"},initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:i},viewport:{once:!0},children:[m.jsx("div",{className:"w-14 h-14 mb-4 rounded-full bg-primary/20 flex items-center justify-center",children:m.jsx(t,{className:"text-primary",size:24})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:n}),m.jsx("p",{className:"text-muted-foreground mb-4",children:e}),m.jsx(Mr,{variant:"link",className:"p-0",onClick:()=>s(r),children:"Learn more"})]})},Eie=()=>m.jsx("section",{id:"services-section",className:"py-24",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text mb-4",children:"Our Expertise"}),m.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Delivering innovation through a comprehensive suite of AI, ML, software development, and trading bot services"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[m.jsx(p0,{title:"AI Development",description:"Custom AI solutions designed to automate processes, gain insights, and enhance decision-making capabilities.",icon:eS,route:"/services/ai-development",delay:0}),m.jsx(p0,{title:"ML Solutions",description:"Advanced machine learning models that learn, adapt, and predict to unlock the value hidden in your data.",icon:Jb,route:"/services/ai-development",delay:.1}),m.jsx(p0,{title:"Software Development",description:"End-to-end software solutions that are scalable, secure, and designed for exceptional user experiences.",icon:KI,route:"/services/software-development",delay:.2}),m.jsx(p0,{title:"Trading Bots",description:"Automated cryptocurrency trading solutions that execute strategies with precision 24/7 across multiple exchanges.",icon:id,route:"/services/trading-bots",delay:.3})]})]})}),Y_=({icon:n,title:e,description:t})=>m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center shrink-0",children:n}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-1",children:e}),m.jsx("p",{className:"text-muted-foreground",children:t})]})]}),Tie=()=>m.jsxs(Dl,{background:"primary",minHeight:"py-24",className:"py-24",textAnimation:!1,children:[m.jsx(no,{position:[0,0,0],radius:3,count:2e3,color:"#0EA5E9",interactive:!1}),m.jsx("div",{className:"container mx-auto px-4 relative z-10",children:m.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text mb-6",children:"Why Choose Codevior"}),m.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"We combine technical expertise with innovative thinking to deliver solutions that drive real business value."}),m.jsxs("div",{className:"space-y-6",children:[m.jsx(Y_,{icon:m.jsx(RV,{size:20,className:"text-primary"}),title:"Cutting-edge Technology",description:"We stay at the forefront of technological advancements to bring the most innovative solutions to our clients."}),m.jsx(Y_,{icon:m.jsx(NV,{size:20,className:"text-primary"}),title:"Expert Team",description:"Our team of seasoned professionals brings depth of knowledge and creative problem-solving to every project."}),m.jsx(Y_,{icon:m.jsx(FV,{size:20,className:"text-primary"}),title:"Tailored Solutions",description:"We develop custom solutions that precisely meet your business needs and challenges."})]})]}),m.jsx("div",{className:"flex-1 relative",children:m.jsx("div",{className:"aspect-square w-full h-full rounded-lg overflow-hidden glass"})})]})})]}),Cie=()=>{const n=io();return m.jsx("section",{className:"py-24",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"glass rounded-xl p-8 md:p-12 text-center",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text mb-6",children:"Ready to Transform Your Ideas into Reality?"}),m.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"Contact us today to discuss how our AI, ML, and software development expertise can help your business grow."}),m.jsx(Mr,{size:"lg",onClick:()=>n("/contact"),children:"Get in Touch"})]})})})},Aie=()=>m.jsxs(m.Fragment,{children:[m.jsx(Mie,{}),m.jsx(Eie,{}),m.jsx(Tie,{}),m.jsx(Cie,{})]}),Pie=()=>{const n=io();return m.jsxs(m.Fragment,{children:[m.jsxs("section",{className:"py-24 relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 hero-gradient"}),m.jsx("div",{className:"container mx-auto px-4 relative z-10",children:m.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("h1",{className:"headline mb-6",children:["About ",m.jsx("span",{className:"gradient-text",children:"Codevior"})]}),m.jsx("p",{className:"subheadline mb-6",children:"We're a team of innovators passionate about creating intelligent software solutions that drive business success."}),m.jsx("p",{className:"text-muted-foreground mb-8",children:"Founded on the belief that technology should empower businesses, we combine expertise in AI, machine learning, and software development to help our clients navigate the digital landscape."}),m.jsx(Mr,{onClick:()=>n("/team"),children:"Meet Our Team"})]}),m.jsx("div",{className:"flex-1 relative",children:m.jsx("div",{className:"aspect-square w-full max-w-lg mx-auto",children:m.jsx(Kx,{children:m.jsx(N.Suspense,{fallback:m.jsx(Qx,{}),children:m.jsx(no,{position:[0,0,0],radius:3,count:2e3,color:"#0EA5E9",interactive:!1})})})})})]})})]}),m.jsx("section",{className:"py-24 bg-primary/5",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[m.jsxs("div",{className:"glass p-8 rounded-lg",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Our Mission"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"To empower businesses with innovative technology solutions that transform operations, enhance customer experiences, and drive growth in the digital age."}),m.jsx("p",{className:"text-muted-foreground",children:"We strive to be at the forefront of technological advancement, bringing the benefits of AI and machine learning to organizations of all sizes."})]}),m.jsxs("div",{className:"glass p-8 rounded-lg",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Our Vision"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"To be the leading provider of intelligent software solutions that help businesses harness the full potential of technology to solve complex challenges and create new opportunities."}),m.jsx("p",{className:"text-muted-foreground",children:"We envision a world where technology is accessible and beneficial to all, driving positive change across industries and communities."})]})]})})}),m.jsx("section",{className:"py-24",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text text-center mb-16",children:"Our Journey"}),m.jsxs("div",{className:"space-y-12",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-primary/20 text-primary text-sm font-medium mb-4",children:"2018"}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"The Beginning"}),m.jsx("p",{className:"text-muted-foreground",children:"Codevior was founded by a group of technology enthusiasts who shared a vision of making advanced technologies accessible to businesses of all sizes. Starting as a small team, we focused on software development projects that laid the foundation for our future growth."})]}),m.jsx("div",{className:"flex-1 glass rounded-lg p-6 h-64 flex items-center justify-center",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72",height:"72",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"M12 2v8"}),m.jsx("path",{d:"M12 18v4"}),m.jsx("path",{d:"M4.93 10.93l6.37 6.37"}),m.jsx("path",{d:"M12.7 6.7l6.37 6.37"}),m.jsx("path",{d:"M21.07 10.93l-6.37 6.37"}),m.jsx("path",{d:"M3 10a9 9 0 0 1 9-9"}),m.jsx("path",{d:"M3 22a9 9 0 0 0 9-9"})]})})]}),m.jsxs("div",{className:"flex flex-col md:flex-row-reverse gap-8 items-center",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-primary/20 text-primary text-sm font-medium mb-4",children:"2020"}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Expanding into AI"}),m.jsx("p",{className:"text-muted-foreground",children:"Recognizing the transformative potential of artificial intelligence, we expanded our services to include AI development. This strategic shift allowed us to offer more comprehensive solutions to our clients and position ourselves at the cutting edge of technology."})]}),m.jsx("div",{className:"flex-1 glass rounded-lg p-6 h-64 flex items-center justify-center",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72",height:"72",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("circle",{cx:"18",cy:"18",r:"3"}),m.jsx("circle",{cx:"6",cy:"6",r:"3"}),m.jsx("path",{d:"M13 6h3a2 2 0 0 1 2 2v7"}),m.jsx("path",{d:"M11 18H8a2 2 0 0 1-2-2V9"})]})})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-primary/20 text-primary text-sm font-medium mb-4",children:"2022"}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Global Reach"}),m.jsx("p",{className:"text-muted-foreground",children:"With a growing reputation for excellence, we extended our services to clients worldwide. Our diverse team expanded to include specialists from various technical backgrounds, enabling us to tackle more complex and varied projects across industries."})]}),m.jsx("div",{className:"flex-1 glass rounded-lg p-6 h-64 flex items-center justify-center",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72",height:"72",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),m.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})})]}),m.jsxs("div",{className:"flex flex-col md:flex-row-reverse gap-8 items-center",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-primary/20 text-primary text-sm font-medium mb-4",children:"Present"}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Leading Innovation"}),m.jsx("p",{className:"text-muted-foreground",children:"Today, Codevior stands as a leader in innovative technology solutions. We continue to push boundaries, combining AI, machine learning, and software development to create solutions that address the evolving needs of businesses in a rapidly changing digital landscape."})]}),m.jsx("div",{className:"flex-1 glass rounded-lg p-6 h-64 flex items-center justify-center",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72",height:"72",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}),m.jsx("path",{d:"M5 3v4"}),m.jsx("path",{d:"M19 17v4"}),m.jsx("path",{d:"M3 5h4"}),m.jsx("path",{d:"M17 19h4"})]})})]})]})]})}),m.jsx("section",{className:"py-24 bg-primary/5",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text text-center mb-6",children:"Our Core Values"}),m.jsx("p",{className:"text-lg text-muted-foreground text-center max-w-2xl mx-auto mb-16",children:"These principles guide our decisions, shape our culture, and reflect our commitment to excellence."}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[m.jsxs("div",{className:"glass p-6 rounded-lg text-center",children:[m.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/20 flex items-center justify-center",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"M12 22v-5"}),m.jsx("path",{d:"M9 8V2"}),m.jsx("path",{d:"M15 8V2"}),m.jsx("path",{d:"M12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z"}),m.jsx("path",{d:"M12 19a7 7 0 0 0 7-7c0-2-1-4.5-3-6"}),m.jsx("path",{d:"M5 12c0 2.5 2 4.5 3 6"})]})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Innovation"}),m.jsx("p",{className:"text-muted-foreground",children:"We embrace creativity and forward-thinking to develop solutions that break new ground and deliver exceptional results."})]}),m.jsxs("div",{className:"glass p-6 rounded-lg text-center",children:[m.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/20 flex items-center justify-center",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"m9 11 3 3L22 4"}),m.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Excellence"}),m.jsx("p",{className:"text-muted-foreground",children:"We are committed to delivering the highest quality in everything we do, from code to customer service."})]}),m.jsxs("div",{className:"glass p-6 rounded-lg text-center",children:[m.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/20 flex items-center justify-center",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),m.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Collaboration"}),m.jsx("p",{className:"text-muted-foreground",children:"We believe in the power of teamwork, fostering an environment where diverse perspectives converge to create impactful solutions."})]}),m.jsxs("div",{className:"glass p-6 rounded-lg text-center",children:[m.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/20 flex items-center justify-center",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("path",{d:"M2 15h10"}),m.jsx("path",{d:"m9 18 3-3-3-3"})]})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Integrity"}),m.jsx("p",{className:"text-muted-foreground",children:"We uphold the highest ethical standards, building trust through transparency, honesty, and accountability."})]})]})]})}),m.jsx("section",{className:"py-24",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"glass rounded-xl p-8 md:p-12 text-center",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"Join Us on Our Journey"}),m.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"Whether you're looking to partner with us or join our team, we'd love to connect with you."}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m.jsx(Mr,{onClick:()=>n("/contact"),children:"Contact Us"}),m.jsx(Mr,{variant:"outline",onClick:()=>n("/careers"),children:"Explore Careers"})]})]})})})]})},Nie=()=>{const n=io(),e=[{id:"ai-development",title:"AI Development",description:"Custom AI solutions that transform how businesses operate, make decisions, and interact with their customers.",icon:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"M12 2v8"}),m.jsx("path",{d:"M12 18v4"}),m.jsx("path",{d:"M4.93 10.93l6.37 6.37"}),m.jsx("path",{d:"M12.7 6.7l6.37 6.37"}),m.jsx("path",{d:"M21.07 10.93l-6.37 6.37"}),m.jsx("path",{d:"M3 10a9 9 0 0 1 9-9"}),m.jsx("path",{d:"M3 22a9 9 0 0 0 9-9"})]}),capabilities:["Natural Language Processing","Computer Vision","Predictive Analytics","Conversational AI & Chatbots","Recommendation Systems","Anomaly Detection"],color:"#6E59A5"},{id:"ml-solutions",title:"ML Solutions",description:"Advanced machine learning models that extract insights, identify patterns, and make predictions from your data.",icon:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("circle",{cx:"18",cy:"18",r:"3"}),m.jsx("circle",{cx:"6",cy:"6",r:"3"}),m.jsx("path",{d:"M13 6h3a2 2 0 0 1 2 2v7"}),m.jsx("path",{d:"M11 18H8a2 2 0 0 1-2-2V9"})]}),capabilities:["Supervised & Unsupervised Learning","Deep Learning Models","Reinforcement Learning","Feature Engineering","Model Optimization & Tuning","AutoML Implementation"],color:"#9b87f5"},{id:"software-development",title:"Software Development",description:"End-to-end software solutions tailored to your business needs, from web applications to enterprise systems.",icon:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"m18 16 4-4-4-4"}),m.jsx("path",{d:"m6 8-4 4 4 4"}),m.jsx("path",{d:"m14.5 4-5 16"})]}),capabilities:["Web Application Development","Mobile App Development","API Design & Development","Cloud Solutions","DevOps & CI/CD","Legacy System Modernization"],color:"#0EA5E9"}];return m.jsxs(m.Fragment,{children:[m.jsxs("section",{className:"py-24 relative",children:[m.jsx("div",{className:"absolute inset-0 hero-gradient"}),m.jsx("div",{className:"container mx-auto px-4 relative z-10",children:m.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[m.jsxs("h1",{className:"headline mb-6",children:["Our ",m.jsx("span",{className:"gradient-text",children:"Services"})]}),m.jsx("p",{className:"subheadline mb-8",children:"Innovative solutions powered by AI, machine learning, and software expertise to drive your business forward."})]})})]}),m.jsx("section",{className:"py-16 md:py-24",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsx("div",{className:"space-y-32",children:e.map((t,r)=>m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 opacity-5",style:{background:`radial-gradient(circle at center, ${t.color} 0%, transparent 70%)`,transform:`translateY(-${r*20}%)`}}),m.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row items-center gap-12",children:[m.jsxs(Et.div,{className:"flex-1",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:[m.jsxs("div",{className:"flex items-center mb-6",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mr-4",children:t.icon}),m.jsx("h2",{className:"text-3xl font-bold",children:t.title})]}),m.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:t.description}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-4 mb-8",children:t.capabilities.map(i=>m.jsxs("div",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:i})]},i))}),m.jsx(Mr,{onClick:()=>n(`/services/${t.id}`),children:"Learn More"})]}),m.jsx(Et.div,{className:"flex-1 relative h-80 lg:h-96",initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:m.jsx(Kx,{children:m.jsx(N.Suspense,{fallback:m.jsx(Qx,{}),children:m.jsx(no,{position:[0,0,0],radius:3,count:2e3,color:t.color,interactive:!1})})})})]})]},t.id))})})}),m.jsx("section",{className:"py-24 bg-primary/5",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text mb-6",children:"Our Development Process"}),m.jsx("p",{className:"text-lg text-muted-foreground",children:"We follow a structured yet flexible approach to deliver solutions that meet your specific needs and exceed your expectations."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[m.jsxs("div",{className:"glass p-6 rounded-lg relative",children:[m.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-primary flex items-center justify-center text-white font-bold text-lg",children:"1"}),m.jsx("h3",{className:"text-xl font-bold mb-4 mt-2",children:"Discovery"}),m.jsx("p",{className:"text-muted-foreground",children:"We dive deep into understanding your business, goals, challenges, and requirements to establish a solid foundation for the project."}),m.jsxs("ul",{className:"mt-4 space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:"Requirement Analysis"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:"Stakeholder Interviews"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:"Market Research"})]})]})]}),m.jsxs("div",{className:"glass p-6 rounded-lg relative",children:[m.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-primary flex items-center justify-center text-white font-bold text-lg",children:"2"}),m.jsx("h3",{className:"text-xl font-bold mb-4 mt-2",children:"Planning"}),m.jsx("p",{className:"text-muted-foreground",children:"We create a comprehensive roadmap for the project, outlining objectives, timelines, resources, and technical approaches."}),m.jsxs("ul",{className:"mt-4 space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:"Solution Architecture"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:"Technology Selection"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:"Project Roadmap"})]})]})]}),m.jsxs("div",{className:"glass p-6 rounded-lg relative",children:[m.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-primary flex items-center justify-center text-white font-bold text-lg",children:"3"}),m.jsx("h3",{className:"text-xl font-bold mb-4 mt-2",children:"Development"}),m.jsx("p",{className:"text-muted-foreground",children:"We bring your solution to life through iterative development cycles, focusing on quality, performance, and security."}),m.jsxs("ul",{className:"mt-4 space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:"Agile Development"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:"Regular Progress Updates"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:"Continuous Integration"})]})]})]}),m.jsxs("div",{className:"glass p-6 rounded-lg relative",children:[m.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-primary flex items-center justify-center text-white font-bold text-lg",children:"4"}),m.jsx("h3",{className:"text-xl font-bold mb-4 mt-2",children:"Delivery"}),m.jsx("p",{className:"text-muted-foreground",children:"We ensure a smooth deployment and provide ongoing support and optimization to maximize the value of your solution."}),m.jsxs("ul",{className:"mt-4 space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:"Testing & QA"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:"Deployment"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:"Support & Maintenance"})]})]})]})]})]})}),m.jsx("section",{className:"py-24",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text mb-6",children:"Industries We Serve"}),m.jsx("p",{className:"text-lg text-muted-foreground",children:"Our solutions have empowered businesses across various sectors to innovate and grow."})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"m2 9 3-3 3 3"}),m.jsx("path",{d:"M13 18h7a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-5"}),m.jsx("path",{d:"M20 8V5c0-1.105-.895-2-2-2h-6a2 2 0 0 0-2 2v3"}),m.jsx("path",{d:"m8 9 3-3 3 3"}),m.jsx("rect",{width:"18",height:"12",x:"3",y:"11",rx:"2"})]})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Healthcare"}),m.jsx("p",{className:"text-muted-foreground",children:"AI-powered diagnostic tools, patient care optimization, and healthcare management systems to improve outcomes and efficiency."})]}),m.jsxs("div",{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:m.jsx("path",{d:"M6 17h4v5l6-10h-4V2L6 12h4v5Z"})})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Energy"}),m.jsx("p",{className:"text-muted-foreground",children:"Smart grid management, energy consumption optimization, and predictive maintenance solutions for enhanced reliability and sustainability."})]}),m.jsxs("div",{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"M17 16h4V2H3v14h4"}),m.jsx("path",{d:"m10 20 4-9"}),m.jsx("path",{d:"m14 20-4-9"}),m.jsx("path",{d:"M10 11h4"}),m.jsx("rect",{width:"22",height:"4",x:"1",y:"16",rx:"1"})]})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Retail"}),m.jsx("p",{className:"text-muted-foreground",children:"Personalized shopping experiences, inventory management, and customer analytics to drive sales and customer satisfaction."})]}),m.jsxs("div",{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}),m.jsx("line",{x1:"8",x2:"16",y1:"21",y2:"21"}),m.jsx("line",{x1:"12",x2:"12",y1:"17",y2:"21"})]})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Finance"}),m.jsx("p",{className:"text-muted-foreground",children:"Fraud detection, algorithmic trading, risk assessment, and customer service automation for financial institutions."})]}),m.jsxs("div",{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"M14 11c5.333 0 5.333-8 0-8"}),m.jsx("path",{d:"M6 11h8"}),m.jsx("path",{d:"M6 15h8"}),m.jsx("path",{d:"M9 19h5"}),m.jsx("path",{d:"M10 19v-8"})]})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Manufacturing"}),m.jsx("p",{className:"text-muted-foreground",children:"Predictive maintenance, quality control, supply chain optimization, and operational efficiency improvements."})]}),m.jsxs("div",{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),m.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Marketing"}),m.jsx("p",{className:"text-muted-foreground",children:"Customer segmentation, campaign optimization, sentiment analysis, and personalized content delivery for better engagement."})]})]})]})}),m.jsx("section",{className:"py-24 bg-primary/5",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"glass rounded-xl p-8 md:p-12 text-center",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"Ready to Innovate with Codevior?"}),m.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"Contact us today to discuss how our AI, ML, and software development expertise can transform your business."}),m.jsx(Mr,{size:"lg",onClick:()=>n("/contact"),children:"Get in Touch"})]})})})]})};var rg=n=>n.type==="checkbox",Oc=n=>n instanceof Date,gi=n=>n==null;const tz=n=>typeof n=="object";var or=n=>!gi(n)&&!Array.isArray(n)&&tz(n)&&!Oc(n),nz=n=>or(n)&&n.target?rg(n.target)?n.target.checked:n.target.value:n,kie=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,rz=(n,e)=>n.has(kie(e)),Rie=n=>{const e=n.constructor&&n.constructor.prototype;return or(e)&&e.hasOwnProperty("isPrototypeOf")},tT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ci(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(tT&&(n instanceof Blob||n instanceof FileList))&&(t||or(n)))if(e=t?[]:{},!t&&!Rie(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=Ci(n[r]));else return n;return e}var Jx=n=>Array.isArray(n)?n.filter(Boolean):[],Yn=n=>n===void 0,tt=(n,e,t)=>{if(!e||!or(n))return t;const r=Jx(e.split(/[,[\].]+?/)).reduce((i,s)=>gi(i)?i:i[s],n);return Yn(r)||r===n?Yn(n[e])?t:n[e]:r},_s=n=>typeof n=="boolean",nT=n=>/^\w*$/.test(n),iz=n=>Jx(n.replace(/["|']|\]/g,"").split(/\.|\[/)),mn=(n,e,t)=>{let r=-1;const i=nT(e)?[e]:iz(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=t;if(r!==o){const c=n[a];l=or(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;n[a]=l,n=n[a]}return n};const jy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sz=Ee.createContext(null),e1=()=>Ee.useContext(sz),Lie=n=>{const{children:e,...t}=n;return Ee.createElement(sz.Provider,{value:t},e)};var oz=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Hs.all&&(e._proxyFormState[o]=!r||Hs.all),t&&(t[o]=!0),n[o]}});return i},Ai=n=>or(n)&&!Object.keys(n).length,az=(n,e,t,r)=>{t(n);const{name:i,...s}=n;return Ai(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Hs.all))},hp=n=>Array.isArray(n)?n:[n],lz=(n,e,t)=>!n||!e||n===e||hp(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r)));function rT(n){const e=Ee.useRef(n);e.current=n,Ee.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}function Iie(n){const e=e1(),{control:t=e.control,disabled:r,name:i,exact:s}=n||{},[o,a]=Ee.useState(t._formState),l=Ee.useRef(!0),c=Ee.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Ee.useRef(i);return d.current=i,rT({disabled:r,next:h=>l.current&&lz(d.current,h.name,s)&&az(h,c.current,t._updateFormState)&&a({...t._formState,...h}),subject:t._subjects.state}),Ee.useEffect(()=>(l.current=!0,c.current.isValid&&t._updateValid(!0),()=>{l.current=!1}),[t]),oz(o,t,c.current,!1)}var bo=n=>typeof n=="string",cz=(n,e,t,r,i)=>bo(n)?(r&&e.watch.add(n),tt(t,n,i)):Array.isArray(n)?n.map(s=>(r&&e.watch.add(s),tt(t,s))):(r&&(e.watchAll=!0),t);function Die(n){const e=e1(),{control:t=e.control,name:r,defaultValue:i,disabled:s,exact:o}=n||{},a=Ee.useRef(r);a.current=r,rT({disabled:s,subject:t._subjects.values,next:d=>{lz(a.current,d.name,o)&&c(Ci(cz(a.current,t._names,d.values||t._formValues,!1,i)))}});const[l,c]=Ee.useState(t._getWatch(r,i));return Ee.useEffect(()=>t._removeUnmounted()),l}function Oie(n){const e=e1(),{name:t,disabled:r,control:i=e.control,shouldUnregister:s}=n,o=rz(i._names.array,t),a=Die({control:i,name:t,defaultValue:tt(i._formValues,t,tt(i._defaultValues,t,n.defaultValue)),exact:!0}),l=Iie({control:i,name:t,exact:!0}),c=Ee.useRef(i.register(t,{...n.rules,value:a,..._s(n.disabled)?{disabled:n.disabled}:{}}));return Ee.useEffect(()=>{const d=i._options.shouldUnregister||s,h=(p,g)=>{const v=tt(i._fields,p);v&&v._f&&(v._f.mount=g)};if(h(t,!0),d){const p=Ci(tt(i._options.defaultValues,t));mn(i._defaultValues,t,p),Yn(tt(i._formValues,t))&&mn(i._formValues,t,p)}return()=>{(o?d&&!i._state.action:d)?i.unregister(t):h(t,!1)}},[t,i,o,s]),Ee.useEffect(()=>{tt(i._fields,t)&&i._updateDisabledField({disabled:r,fields:i._fields,name:t,value:tt(i._fields,t)._f.value})},[r,t,i]),{field:{name:t,value:a,..._s(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:Ee.useCallback(d=>c.current.onChange({target:{value:nz(d),name:t},type:jy.CHANGE}),[t]),onBlur:Ee.useCallback(()=>c.current.onBlur({target:{value:tt(i._formValues,t),name:t},type:jy.BLUR}),[t,i]),ref:Ee.useCallback(d=>{const h=tt(i._fields,t);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:p=>d.setCustomValidity(p),reportValidity:()=>d.reportValidity()})},[i._fields,t])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!tt(l.errors,t)},isDirty:{enumerable:!0,get:()=>!!tt(l.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!tt(l.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!tt(l.validatingFields,t)},error:{enumerable:!0,get:()=>tt(l.errors,t)}})}}const jie=n=>n.render(Oie(n));var uz=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},zk=n=>({isOnSubmit:!n||n===Hs.onSubmit,isOnBlur:n===Hs.onBlur,isOnChange:n===Hs.onChange,isOnAll:n===Hs.all,isOnTouch:n===Hs.onTouched}),Bk=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const pp=(n,e,t,r)=>{for(const i of t||Object.keys(n)){const s=tt(n,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(pp(a,e))break}else if(or(a)&&pp(a,e))break}}};var Fie=(n,e,t)=>{const r=hp(tt(n,t));return mn(r,"root",e[t]),mn(n,t,r),n},iT=n=>n.type==="file",la=n=>typeof n=="function",Fy=n=>{if(!tT)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},V0=n=>bo(n),sT=n=>n.type==="radio",zy=n=>n instanceof RegExp;const Uk={value:!1,isValid:!1},Vk={value:!0,isValid:!0};var dz=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Yn(n[0].attributes.value)?Yn(n[0].value)||n[0].value===""?Vk:{value:n[0].value,isValid:!0}:Vk:Uk}return Uk};const Wk={isValid:!1,value:null};var fz=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Wk):Wk;function Hk(n,e,t="validate"){if(V0(n)||Array.isArray(n)&&n.every(V0)||_s(n)&&!n)return{type:t,message:V0(n)?n:"",ref:e}}var nd=n=>or(n)&&!zy(n)?n:{value:n,message:""},Gk=async(n,e,t,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:d,max:h,pattern:p,validate:g,name:v,valueAsNumber:y,mount:x,disabled:b}=n._f,_=tt(e,v);if(!x||b)return{};const S=o?o[0]:s,E=H=>{r&&S.reportValidity&&(S.setCustomValidity(_s(H)?"":H||""),S.reportValidity())},C={},P=sT(s),I=rg(s),T=P||I,k=(y||iT(s))&&Yn(s.value)&&Yn(_)||Fy(s)&&s.value===""||_===""||Array.isArray(_)&&!_.length,O=uz.bind(null,v,t,C),U=(H,V,z,ee=Yo.maxLength,K=Yo.minLength)=>{const le=H?V:z;C[v]={type:H?ee:K,message:le,ref:s,...O(H?ee:K,le)}};if(i?!Array.isArray(_)||!_.length:a&&(!T&&(k||gi(_))||_s(_)&&!_||I&&!dz(o).isValid||P&&!fz(o).isValid)){const{value:H,message:V}=V0(a)?{value:!!a,message:a}:nd(a);if(H&&(C[v]={type:Yo.required,message:V,ref:S,...O(Yo.required,V)},!t))return E(V),C}if(!k&&(!gi(d)||!gi(h))){let H,V;const z=nd(h),ee=nd(d);if(!gi(_)&&!isNaN(_)){const K=s.valueAsNumber||_&&+_;gi(z.value)||(H=K>z.value),gi(ee.value)||(V=K<ee.value)}else{const K=s.valueAsDate||new Date(_),le=G=>new Date(new Date().toDateString()+" "+G),D=s.type=="time",W=s.type=="week";bo(z.value)&&_&&(H=D?le(_)>le(z.value):W?_>z.value:K>new Date(z.value)),bo(ee.value)&&_&&(V=D?le(_)<le(ee.value):W?_<ee.value:K<new Date(ee.value))}if((H||V)&&(U(!!H,z.message,ee.message,Yo.max,Yo.min),!t))return E(C[v].message),C}if((l||c)&&!k&&(bo(_)||i&&Array.isArray(_))){const H=nd(l),V=nd(c),z=!gi(H.value)&&_.length>+H.value,ee=!gi(V.value)&&_.length<+V.value;if((z||ee)&&(U(z,H.message,V.message),!t))return E(C[v].message),C}if(p&&!k&&bo(_)){const{value:H,message:V}=nd(p);if(zy(H)&&!_.match(H)&&(C[v]={type:Yo.pattern,message:V,ref:s,...O(Yo.pattern,V)},!t))return E(V),C}if(g){if(la(g)){const H=await g(_,e),V=Hk(H,S);if(V&&(C[v]={...V,...O(Yo.validate,V.message)},!t))return E(V.message),C}else if(or(g)){let H={};for(const V in g){if(!Ai(H)&&!t)break;const z=Hk(await g[V](_,e),S,V);z&&(H={...z,...O(V,z.message)},E(z.message),t&&(C[v]=H))}if(!Ai(H)&&(C[v]={ref:S,...H},!t))return C}}return E(!0),C};function zie(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Yn(n)?r++:n[e[r++]];return n}function Bie(n){for(const e in n)if(n.hasOwnProperty(e)&&!Yn(n[e]))return!1;return!0}function wr(n,e){const t=Array.isArray(e)?e:nT(e)?[e]:iz(e),r=t.length===1?n:zie(n,t),i=t.length-1,s=t[i];return r&&delete r[s],i!==0&&(or(r)&&Ai(r)||Array.isArray(r)&&Bie(r))&&wr(n,t.slice(0,-1)),n}var K_=()=>{let n=[];return{get observers(){return n},next:i=>{for(const s of n)s.next&&s.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(s=>s!==i)}}),unsubscribe:()=>{n=[]}}},m2=n=>gi(n)||!tz(n);function el(n,e){if(m2(n)||m2(e))return n===e;if(Oc(n)&&Oc(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const s=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Oc(s)&&Oc(o)||or(s)&&or(o)||Array.isArray(s)&&Array.isArray(o)?!el(s,o):s!==o)return!1}}return!0}var hz=n=>n.type==="select-multiple",Uie=n=>sT(n)||rg(n),Q_=n=>Fy(n)&&n.isConnected,pz=n=>{for(const e in n)if(la(n[e]))return!0;return!1};function By(n,e={}){const t=Array.isArray(n);if(or(n)||t)for(const r in n)Array.isArray(n[r])||or(n[r])&&!pz(n[r])?(e[r]=Array.isArray(n[r])?[]:{},By(n[r],e[r])):gi(n[r])||(e[r]=!0);return e}function mz(n,e,t){const r=Array.isArray(n);if(or(n)||r)for(const i in n)Array.isArray(n[i])||or(n[i])&&!pz(n[i])?Yn(e)||m2(t[i])?t[i]=Array.isArray(n[i])?By(n[i],[]):{...By(n[i])}:mz(n[i],gi(e)?{}:e[i],t[i]):t[i]=!el(n[i],e[i]);return t}var Dh=(n,e)=>mz(n,e,By(e)),gz=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Yn(n)?n:e?n===""?NaN:n&&+n:t&&bo(n)?new Date(n):r?r(n):n;function J_(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return iT(e)?e.files:sT(e)?fz(n.refs).value:hz(e)?[...e.selectedOptions].map(({value:t})=>t):rg(e)?dz(n.refs).value:gz(Yn(e.value)?n.ref.value:e.value,n)}var Vie=(n,e,t,r)=>{const i={};for(const s of n){const o=tt(e,s);o&&mn(i,s,o._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},Oh=n=>Yn(n)?n:zy(n)?n.source:or(n)?zy(n.value)?n.value.source:n.value:n;const $k="AsyncFunction";var Wie=n=>(!n||!n.validate)&&!!(la(n.validate)&&n.validate.constructor.name===$k||or(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===$k)),Hie=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function Zk(n,e,t){const r=tt(n,t);if(r||nT(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const s=i.join("."),o=tt(e,s),a=tt(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:t}}var Gie=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,$ie=(n,e)=>!Jx(tt(n,e)).length&&wr(n,e);const Zie={mode:Hs.onSubmit,reValidateMode:Hs.onChange,shouldFocusError:!0};function qie(n={}){let e={...Zie,...n},t={submitCount:0,isDirty:!1,isLoading:la(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=or(e.defaultValues)||or(e.values)?Ci(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Ci(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:K_(),array:K_(),state:K_()},p=zk(e.mode),g=zk(e.reValidateMode),v=e.criteriaMode===Hs.all,y=X=>ie=>{clearTimeout(c),c=setTimeout(X,ie)},x=async X=>{if(!n.disabled&&(d.isValid||X)){const ie=e.resolver?Ai((await T()).errors):await O(r,!0);ie!==t.isValid&&h.state.next({isValid:ie})}},b=(X,ie)=>{!n.disabled&&(d.isValidating||d.validatingFields)&&((X||Array.from(a.mount)).forEach(fe=>{fe&&(ie?mn(t.validatingFields,fe,ie):wr(t.validatingFields,fe))}),h.state.next({validatingFields:t.validatingFields,isValidating:!Ai(t.validatingFields)}))},_=(X,ie=[],fe,Fe,B=!0,j=!0)=>{if(Fe&&fe&&!n.disabled){if(o.action=!0,j&&Array.isArray(tt(r,X))){const ae=fe(tt(r,X),Fe.argA,Fe.argB);B&&mn(r,X,ae)}if(j&&Array.isArray(tt(t.errors,X))){const ae=fe(tt(t.errors,X),Fe.argA,Fe.argB);B&&mn(t.errors,X,ae),$ie(t.errors,X)}if(d.touchedFields&&j&&Array.isArray(tt(t.touchedFields,X))){const ae=fe(tt(t.touchedFields,X),Fe.argA,Fe.argB);B&&mn(t.touchedFields,X,ae)}d.dirtyFields&&(t.dirtyFields=Dh(i,s)),h.state.next({name:X,isDirty:H(X,ie),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else mn(s,X,ie)},S=(X,ie)=>{mn(t.errors,X,ie),h.state.next({errors:t.errors})},E=X=>{t.errors=X,h.state.next({errors:t.errors,isValid:!1})},C=(X,ie,fe,Fe)=>{const B=tt(r,X);if(B){const j=tt(s,X,Yn(fe)?tt(i,X):fe);Yn(j)||Fe&&Fe.defaultChecked||ie?mn(s,X,ie?j:J_(B._f)):ee(X,j),o.mount&&x()}},P=(X,ie,fe,Fe,B)=>{let j=!1,ae=!1;const _e={name:X};if(!n.disabled){const Oe=!!(tt(r,X)&&tt(r,X)._f&&tt(r,X)._f.disabled);if(!fe||Fe){d.isDirty&&(ae=t.isDirty,t.isDirty=_e.isDirty=H(),j=ae!==_e.isDirty);const je=Oe||el(tt(i,X),ie);ae=!!(!Oe&&tt(t.dirtyFields,X)),je||Oe?wr(t.dirtyFields,X):mn(t.dirtyFields,X,!0),_e.dirtyFields=t.dirtyFields,j=j||d.dirtyFields&&ae!==!je}if(fe){const je=tt(t.touchedFields,X);je||(mn(t.touchedFields,X,fe),_e.touchedFields=t.touchedFields,j=j||d.touchedFields&&je!==fe)}j&&B&&h.state.next(_e)}return j?_e:{}},I=(X,ie,fe,Fe)=>{const B=tt(t.errors,X),j=d.isValid&&_s(ie)&&t.isValid!==ie;if(n.delayError&&fe?(l=y(()=>S(X,fe)),l(n.delayError)):(clearTimeout(c),l=null,fe?mn(t.errors,X,fe):wr(t.errors,X)),(fe?!el(B,fe):B)||!Ai(Fe)||j){const ae={...Fe,...j&&_s(ie)?{isValid:ie}:{},errors:t.errors,name:X};t={...t,...ae},h.state.next(ae)}},T=async X=>{b(X,!0);const ie=await e.resolver(s,e.context,Vie(X||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(X),ie},k=async X=>{const{errors:ie}=await T(X);if(X)for(const fe of X){const Fe=tt(ie,fe);Fe?mn(t.errors,fe,Fe):wr(t.errors,fe)}else t.errors=ie;return ie},O=async(X,ie,fe={valid:!0})=>{for(const Fe in X){const B=X[Fe];if(B){const{_f:j,...ae}=B;if(j){const _e=a.array.has(j.name),Oe=B._f&&Wie(B._f);Oe&&d.validatingFields&&b([Fe],!0);const je=await Gk(B,s,v,e.shouldUseNativeValidation&&!ie,_e);if(Oe&&d.validatingFields&&b([Fe]),je[j.name]&&(fe.valid=!1,ie))break;!ie&&(tt(je,j.name)?_e?Fie(t.errors,je,j.name):mn(t.errors,j.name,je[j.name]):wr(t.errors,j.name))}!Ai(ae)&&await O(ae,ie,fe)}}return fe.valid},U=()=>{for(const X of a.unMount){const ie=tt(r,X);ie&&(ie._f.refs?ie._f.refs.every(fe=>!Q_(fe)):!Q_(ie._f.ref))&&re(X)}a.unMount=new Set},H=(X,ie)=>!n.disabled&&(X&&ie&&mn(s,X,ie),!el(J(),i)),V=(X,ie,fe)=>cz(X,a,{...o.mount?s:Yn(ie)?i:bo(X)?{[X]:ie}:ie},fe,ie),z=X=>Jx(tt(o.mount?s:i,X,n.shouldUnregister?tt(i,X,[]):[])),ee=(X,ie,fe={})=>{const Fe=tt(r,X);let B=ie;if(Fe){const j=Fe._f;j&&(!j.disabled&&mn(s,X,gz(ie,j)),B=Fy(j.ref)&&gi(ie)?"":ie,hz(j.ref)?[...j.ref.options].forEach(ae=>ae.selected=B.includes(ae.value)):j.refs?rg(j.ref)?j.refs.length>1?j.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(B)?!!B.find(_e=>_e===ae.value):B===ae.value)):j.refs[0]&&(j.refs[0].checked=!!B):j.refs.forEach(ae=>ae.checked=ae.value===B):iT(j.ref)?j.ref.value="":(j.ref.value=B,j.ref.type||h.values.next({name:X,values:{...s}})))}(fe.shouldDirty||fe.shouldTouch)&&P(X,B,fe.shouldTouch,fe.shouldDirty,!0),fe.shouldValidate&&G(X)},K=(X,ie,fe)=>{for(const Fe in ie){const B=ie[Fe],j=`${X}.${Fe}`,ae=tt(r,j);(a.array.has(X)||or(B)||ae&&!ae._f)&&!Oc(B)?K(j,B,fe):ee(j,B,fe)}},le=(X,ie,fe={})=>{const Fe=tt(r,X),B=a.array.has(X),j=Ci(ie);mn(s,X,j),B?(h.array.next({name:X,values:{...s}}),(d.isDirty||d.dirtyFields)&&fe.shouldDirty&&h.state.next({name:X,dirtyFields:Dh(i,s),isDirty:H(X,j)})):Fe&&!Fe._f&&!gi(j)?K(X,j,fe):ee(X,j,fe),Bk(X,a)&&h.state.next({...t}),h.values.next({name:o.mount?X:void 0,values:{...s}})},D=async X=>{o.mount=!0;const ie=X.target;let fe=ie.name,Fe=!0;const B=tt(r,fe),j=()=>ie.type?J_(B._f):nz(X),ae=_e=>{Fe=Number.isNaN(_e)||Oc(_e)&&isNaN(_e.getTime())||el(_e,tt(s,fe,_e))};if(B){let _e,Oe;const je=j(),pt=X.type===jy.BLUR||X.type===jy.FOCUS_OUT,Je=!Hie(B._f)&&!e.resolver&&!tt(t.errors,fe)&&!B._f.deps||Gie(pt,tt(t.touchedFields,fe),t.isSubmitted,g,p),Te=Bk(fe,a,pt);mn(s,fe,je),pt?(B._f.onBlur&&B._f.onBlur(X),l&&l(0)):B._f.onChange&&B._f.onChange(X);const mt=P(fe,je,pt,!1),St=!Ai(mt)||Te;if(!pt&&h.values.next({name:fe,type:X.type,values:{...s}}),Je)return d.isValid&&(n.mode==="onBlur"?pt&&x():x()),St&&h.state.next({name:fe,...Te?{}:mt});if(!pt&&Te&&h.state.next({...t}),e.resolver){const{errors:ot}=await T([fe]);if(ae(je),Fe){const at=Zk(t.errors,r,fe),dt=Zk(ot,r,at.name||fe);_e=dt.error,fe=dt.name,Oe=Ai(ot)}}else b([fe],!0),_e=(await Gk(B,s,v,e.shouldUseNativeValidation))[fe],b([fe]),ae(je),Fe&&(_e?Oe=!1:d.isValid&&(Oe=await O(r,!0)));Fe&&(B._f.deps&&G(B._f.deps),I(fe,Oe,_e,mt))}},W=(X,ie)=>{if(tt(t.errors,ie)&&X.focus)return X.focus(),1},G=async(X,ie={})=>{let fe,Fe;const B=hp(X);if(e.resolver){const j=await k(Yn(X)?X:B);fe=Ai(j),Fe=X?!B.some(ae=>tt(j,ae)):fe}else X?(Fe=(await Promise.all(B.map(async j=>{const ae=tt(r,j);return await O(ae&&ae._f?{[j]:ae}:ae)}))).every(Boolean),!(!Fe&&!t.isValid)&&x()):Fe=fe=await O(r);return h.state.next({...!bo(X)||d.isValid&&fe!==t.isValid?{}:{name:X},...e.resolver||!X?{isValid:fe}:{},errors:t.errors}),ie.shouldFocus&&!Fe&&pp(r,W,X?B:a.mount),Fe},J=X=>{const ie={...o.mount?s:i};return Yn(X)?ie:bo(X)?tt(ie,X):X.map(fe=>tt(ie,fe))},Z=(X,ie)=>({invalid:!!tt((ie||t).errors,X),isDirty:!!tt((ie||t).dirtyFields,X),error:tt((ie||t).errors,X),isValidating:!!tt(t.validatingFields,X),isTouched:!!tt((ie||t).touchedFields,X)}),oe=X=>{X&&hp(X).forEach(ie=>wr(t.errors,ie)),h.state.next({errors:X?t.errors:{}})},we=(X,ie,fe)=>{const Fe=(tt(r,X,{_f:{}})._f||{}).ref,B=tt(t.errors,X)||{},{ref:j,message:ae,type:_e,...Oe}=B;mn(t.errors,X,{...Oe,...ie,ref:Fe}),h.state.next({name:X,errors:t.errors,isValid:!1}),fe&&fe.shouldFocus&&Fe&&Fe.focus&&Fe.focus()},Ae=(X,ie)=>la(X)?h.values.subscribe({next:fe=>X(V(void 0,ie),fe)}):V(X,ie,!0),re=(X,ie={})=>{for(const fe of X?hp(X):a.mount)a.mount.delete(fe),a.array.delete(fe),ie.keepValue||(wr(r,fe),wr(s,fe)),!ie.keepError&&wr(t.errors,fe),!ie.keepDirty&&wr(t.dirtyFields,fe),!ie.keepTouched&&wr(t.touchedFields,fe),!ie.keepIsValidating&&wr(t.validatingFields,fe),!e.shouldUnregister&&!ie.keepDefaultValue&&wr(i,fe);h.values.next({values:{...s}}),h.state.next({...t,...ie.keepDirty?{isDirty:H()}:{}}),!ie.keepIsValid&&x()},Ve=({disabled:X,name:ie,field:fe,fields:Fe,value:B})=>{if(_s(X)&&o.mount||X){const j=X?void 0:Yn(B)?J_(fe?fe._f:tt(Fe,ie)._f):B;mn(s,ie,j),P(ie,j,!1,!1,!0)}},Ge=(X,ie={})=>{let fe=tt(r,X);const Fe=_s(ie.disabled)||_s(n.disabled);return mn(r,X,{...fe||{},_f:{...fe&&fe._f?fe._f:{ref:{name:X}},name:X,mount:!0,...ie}}),a.mount.add(X),fe?Ve({field:fe,disabled:_s(ie.disabled)?ie.disabled:n.disabled,name:X,value:ie.value}):C(X,!0,ie.value),{...Fe?{disabled:ie.disabled||n.disabled}:{},...e.progressive?{required:!!ie.required,min:Oh(ie.min),max:Oh(ie.max),minLength:Oh(ie.minLength),maxLength:Oh(ie.maxLength),pattern:Oh(ie.pattern)}:{},name:X,onChange:D,onBlur:D,ref:B=>{if(B){Ge(X,ie),fe=tt(r,X);const j=Yn(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,ae=Uie(j),_e=fe._f.refs||[];if(ae?_e.find(Oe=>Oe===j):j===fe._f.ref)return;mn(r,X,{_f:{...fe._f,...ae?{refs:[..._e.filter(Q_),j,...Array.isArray(tt(i,X))?[{}]:[]],ref:{type:j.type,name:X}}:{ref:j}}}),C(X,!1,void 0,j)}else fe=tt(r,X,{}),fe._f&&(fe._f.mount=!1),(e.shouldUnregister||ie.shouldUnregister)&&!(rz(a.array,X)&&o.action)&&a.unMount.add(X)}}},et=()=>e.shouldFocusError&&pp(r,W,a.mount),De=X=>{_s(X)&&(h.state.next({disabled:X}),pp(r,(ie,fe)=>{const Fe=tt(r,fe);Fe&&(ie.disabled=Fe._f.disabled||X,Array.isArray(Fe._f.refs)&&Fe._f.refs.forEach(B=>{B.disabled=Fe._f.disabled||X}))},0,!1))},He=(X,ie)=>async fe=>{let Fe;fe&&(fe.preventDefault&&fe.preventDefault(),fe.persist&&fe.persist());let B=Ci(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:j,values:ae}=await T();t.errors=j,B=ae}else await O(r);if(wr(t.errors,"root"),Ai(t.errors)){h.state.next({errors:{}});try{await X(B,fe)}catch(j){Fe=j}}else ie&&await ie({...t.errors},fe),et(),setTimeout(et);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ai(t.errors)&&!Fe,submitCount:t.submitCount+1,errors:t.errors}),Fe)throw Fe},be=(X,ie={})=>{tt(r,X)&&(Yn(ie.defaultValue)?le(X,Ci(tt(i,X))):(le(X,ie.defaultValue),mn(i,X,Ci(ie.defaultValue))),ie.keepTouched||wr(t.touchedFields,X),ie.keepDirty||(wr(t.dirtyFields,X),t.isDirty=ie.defaultValue?H(X,Ci(tt(i,X))):H()),ie.keepError||(wr(t.errors,X),d.isValid&&x()),h.state.next({...t}))},ye=(X,ie={})=>{const fe=X?Ci(X):i,Fe=Ci(fe),B=Ai(X),j=B?i:Fe;if(ie.keepDefaultValues||(i=fe),!ie.keepValues){if(ie.keepDirtyValues){const ae=new Set([...a.mount,...Object.keys(Dh(i,s))]);for(const _e of Array.from(ae))tt(t.dirtyFields,_e)?mn(j,_e,tt(s,_e)):le(_e,tt(j,_e))}else{if(tT&&Yn(X))for(const ae of a.mount){const _e=tt(r,ae);if(_e&&_e._f){const Oe=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(Fy(Oe)){const je=Oe.closest("form");if(je){je.reset();break}}}}r={}}s=n.shouldUnregister?ie.keepDefaultValues?Ci(i):{}:Ci(j),h.array.next({values:{...j}}),h.values.next({values:{...j}})}a={mount:ie.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ie.keepIsValid||!!ie.keepDirtyValues,o.watch=!!n.shouldUnregister,h.state.next({submitCount:ie.keepSubmitCount?t.submitCount:0,isDirty:B?!1:ie.keepDirty?t.isDirty:!!(ie.keepDefaultValues&&!el(X,i)),isSubmitted:ie.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:B?{}:ie.keepDirtyValues?ie.keepDefaultValues&&s?Dh(i,s):t.dirtyFields:ie.keepDefaultValues&&X?Dh(i,X):ie.keepDirty?t.dirtyFields:{},touchedFields:ie.keepTouched?t.touchedFields:{},errors:ie.keepErrors?t.errors:{},isSubmitSuccessful:ie.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ue=(X,ie)=>ye(la(X)?X(s):X,ie);return{control:{register:Ge,unregister:re,getFieldState:Z,handleSubmit:He,setError:we,_executeSchema:T,_getWatch:V,_getDirty:H,_updateValid:x,_removeUnmounted:U,_updateFieldArray:_,_updateDisabledField:Ve,_getFieldArray:z,_reset:ye,_resetDefaultValues:()=>la(e.defaultValues)&&e.defaultValues().then(X=>{Ue(X,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:X=>{t={...t,...X}},_disableForm:De,_subjects:h,_proxyFormState:d,_setErrors:E,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(X){o=X},get _defaultValues(){return i},get _names(){return a},set _names(X){a=X},get _formState(){return t},set _formState(X){t=X},get _options(){return e},set _options(X){e={...e,...X}}},trigger:G,register:Ge,handleSubmit:He,watch:Ae,setValue:le,getValues:J,reset:Ue,resetField:be,clearErrors:oe,unregister:re,setError:we,setFocus:(X,ie={})=>{const fe=tt(r,X),Fe=fe&&fe._f;if(Fe){const B=Fe.refs?Fe.refs[0]:Fe.ref;B.focus&&(B.focus(),ie.shouldSelect&&B.select())}},getFieldState:Z}}function Xie(n={}){const e=Ee.useRef(),t=Ee.useRef(),[r,i]=Ee.useState({isDirty:!1,isValidating:!1,isLoading:la(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:la(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...qie(n),formState:r});const s=e.current.control;return s._options=n,rT({subject:s._subjects.state,next:o=>{az(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Ee.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),Ee.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Ee.useEffect(()=>{n.values&&!el(n.values,t.current)?(s._reset(n.values,s._options.resetOptions),t.current=n.values,i(o=>({...o}))):s._resetDefaultValues()},[n.values,s]),Ee.useEffect(()=>{n.errors&&s._setErrors(n.errors)},[n.errors,s]),Ee.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Ee.useEffect(()=>{n.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[n.shouldUnregister,s]),Ee.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=oz(r,s),e.current}var tn;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return n.objectValues(o)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},n.find=(i,s)=>{for(const o of i)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(tn||(tn={}));var g2;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(g2||(g2={}));const ut=tn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tl=n=>{switch(typeof n){case"undefined":return ut.undefined;case"string":return ut.string;case"number":return isNaN(n)?ut.nan:ut.number;case"boolean":return ut.boolean;case"function":return ut.function;case"bigint":return ut.bigint;case"symbol":return ut.symbol;case"object":return Array.isArray(n)?ut.array:n===null?ut.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ut.promise:typeof Map<"u"&&n instanceof Map?ut.map:typeof Set<"u"&&n instanceof Set?ut.set:typeof Date<"u"&&n instanceof Date?ut.date:ut.object;default:return ut.unknown}},Xe=tn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Yie=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class es extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof es))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}es.create=n=>new es(n);const xf=(n,e)=>{let t;switch(n.code){case Xe.invalid_type:n.received===ut.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Xe.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,tn.jsonStringifyReplacer)}`;break;case Xe.unrecognized_keys:t=`Unrecognized key(s) in object: ${tn.joinValues(n.keys,", ")}`;break;case Xe.invalid_union:t="Invalid input";break;case Xe.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${tn.joinValues(n.options)}`;break;case Xe.invalid_enum_value:t=`Invalid enum value. Expected ${tn.joinValues(n.options)}, received '${n.received}'`;break;case Xe.invalid_arguments:t="Invalid function arguments";break;case Xe.invalid_return_type:t="Invalid function return type";break;case Xe.invalid_date:t="Invalid date";break;case Xe.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:tn.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Xe.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Xe.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Xe.custom:t="Invalid input";break;case Xe.invalid_intersection_types:t="Intersection results could not be merged";break;case Xe.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Xe.not_finite:t="Number must be finite";break;default:t=e.defaultError,tn.assertNever(n)}return{message:t}};let vz=xf;function Kie(n){vz=n}function Uy(){return vz}const Vy=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},Qie=[];function ct(n,e){const t=Uy(),r=Vy({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===xf?void 0:xf].filter(i=>!!i)});n.common.issues.push(r)}class si{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return It;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return si.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return It;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const It=Object.freeze({status:"aborted"}),Id=n=>({status:"dirty",value:n}),wi=n=>({status:"valid",value:n}),v2=n=>n.status==="aborted",y2=n=>n.status==="dirty",am=n=>n.status==="valid",lm=n=>typeof Promise<"u"&&n instanceof Promise;function Wy(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function yz(n,e,t,r,i){if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Ct;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ct||(Ct={}));var Hh,Gh;class ko{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qk=(n,e)=>{if(am(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new es(n.common.issues);return this._error=t,this._error}}};function Bt(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:d}=n;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=d??t)!==null&&c!==void 0?c:a.defaultError}},description:i}}class qt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return tl(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:tl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new si,ctx:{common:e.parent.common,data:e.data,parsedType:tl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(lm(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tl(e)},s=this._parseSync({data:e,path:i.path,parent:i});return qk(i,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tl(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(lm(i)?i:Promise.resolve(i));return qk(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Xe.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new ro({schema:this,typeName:Lt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ao.create(this,this._def)}nullable(){return zl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ks.create(this,this._def)}promise(){return _f.create(this,this._def)}or(e){return fm.create([this,e],this._def)}and(e){return hm.create(this,e,this._def)}transform(e){return new ro({...Bt(this._def),schema:this,typeName:Lt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new ym({...Bt(this._def),innerType:this,defaultValue:t,typeName:Lt.ZodDefault})}brand(){return new oT({typeName:Lt.ZodBranded,type:this,...Bt(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new xm({...Bt(this._def),innerType:this,catchValue:t,typeName:Lt.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ig.create(this,e)}readonly(){return wm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Jie=/^c[^\s-]{8,}$/i,ese=/^[0-9a-z]+$/,tse=/^[0-9A-HJKMNP-TV-Z]{26}$/,nse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rse=/^[a-z0-9_-]{21}$/i,ise=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sse=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ose="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let eb;const ase=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lse=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,cse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",use=new RegExp(`^${xz}$`);function wz(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function dse(n){return new RegExp(`^${wz(n)}$`)}function _z(n){let e=`${xz}T${wz(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function fse(n,e){return!!((e==="v4"||!e)&&ase.test(n)||(e==="v6"||!e)&&lse.test(n))}class $s extends qt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ut.string){const s=this._getOrReturnCtx(e);return ct(s,{code:Xe.invalid_type,expected:ut.string,received:s.parsedType}),It}const r=new si;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ct(i,{code:Xe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ct(i,{code:Xe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?ct(i,{code:Xe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ct(i,{code:Xe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")sse.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"email",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")eb||(eb=new RegExp(ose,"u")),eb.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"emoji",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")nse.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"uuid",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")rse.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"nanoid",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Jie.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"cuid",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")ese.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"cuid2",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")tse.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"ulid",code:Xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ct(i,{validation:"url",code:Xe.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"regex",code:Xe.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Xe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Xe.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Xe.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?_z(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Xe.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?use.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Xe.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?dse(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Xe.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?ise.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"duration",code:Xe.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?fse(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"ip",code:Xe.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?cse.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"base64",code:Xe.invalid_string,message:s.message}),r.dirty()):tn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:Xe.invalid_string,...Ct.errToObj(r)})}_addCheck(e){return new $s({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ct.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ct.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ct.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ct.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ct.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ct.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ct.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ct.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ct.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ct.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ct.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ct.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ct.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ct.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Ct.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ct.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ct.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ct.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ct.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ct.errToObj(t)})}nonempty(e){return this.min(1,Ct.errToObj(e))}trim(){return new $s({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $s({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $s({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}$s.create=n=>{var e;return new $s({checks:[],typeName:Lt.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Bt(n)})};function hse(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ol extends qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ut.number){const s=this._getOrReturnCtx(e);return ct(s,{code:Xe.invalid_type,expected:ut.number,received:s.parsedType}),It}let r;const i=new si;for(const s of this._def.checks)s.kind==="int"?tn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ct(r,{code:Xe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Xe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Xe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?hse(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Xe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ct(r,{code:Xe.not_finite,message:s.message}),i.dirty()):tn.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ct.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ct.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ct.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ct.toString(t))}setLimit(e,t,r,i){return new Ol({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ct.toString(i)}]})}_addCheck(e){return new Ol({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ct.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ct.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ct.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ct.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ct.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ct.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ct.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ct.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ct.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&tn.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ol.create=n=>new Ol({checks:[],typeName:Lt.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Bt(n)});class jl extends qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ut.bigint){const s=this._getOrReturnCtx(e);return ct(s,{code:Xe.invalid_type,expected:ut.bigint,received:s.parsedType}),It}let r;const i=new si;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Xe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Xe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Xe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):tn.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ct.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ct.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ct.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ct.toString(t))}setLimit(e,t,r,i){return new jl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ct.toString(i)}]})}_addCheck(e){return new jl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ct.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ct.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ct.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ct.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ct.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}jl.create=n=>{var e;return new jl({checks:[],typeName:Lt.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Bt(n)})};class cm extends qt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ut.boolean){const r=this._getOrReturnCtx(e);return ct(r,{code:Xe.invalid_type,expected:ut.boolean,received:r.parsedType}),It}return wi(e.data)}}cm.create=n=>new cm({typeName:Lt.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Bt(n)});class cu extends qt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ut.date){const s=this._getOrReturnCtx(e);return ct(s,{code:Xe.invalid_type,expected:ut.date,received:s.parsedType}),It}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ct(s,{code:Xe.invalid_date}),It}const r=new si;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ct(i,{code:Xe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ct(i,{code:Xe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):tn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new cu({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ct.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ct.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}cu.create=n=>new cu({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Lt.ZodDate,...Bt(n)});class Hy extends qt{_parse(e){if(this._getType(e)!==ut.symbol){const r=this._getOrReturnCtx(e);return ct(r,{code:Xe.invalid_type,expected:ut.symbol,received:r.parsedType}),It}return wi(e.data)}}Hy.create=n=>new Hy({typeName:Lt.ZodSymbol,...Bt(n)});class um extends qt{_parse(e){if(this._getType(e)!==ut.undefined){const r=this._getOrReturnCtx(e);return ct(r,{code:Xe.invalid_type,expected:ut.undefined,received:r.parsedType}),It}return wi(e.data)}}um.create=n=>new um({typeName:Lt.ZodUndefined,...Bt(n)});class dm extends qt{_parse(e){if(this._getType(e)!==ut.null){const r=this._getOrReturnCtx(e);return ct(r,{code:Xe.invalid_type,expected:ut.null,received:r.parsedType}),It}return wi(e.data)}}dm.create=n=>new dm({typeName:Lt.ZodNull,...Bt(n)});class wf extends qt{constructor(){super(...arguments),this._any=!0}_parse(e){return wi(e.data)}}wf.create=n=>new wf({typeName:Lt.ZodAny,...Bt(n)});class Qc extends qt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return wi(e.data)}}Qc.create=n=>new Qc({typeName:Lt.ZodUnknown,...Bt(n)});class Sa extends qt{_parse(e){const t=this._getOrReturnCtx(e);return ct(t,{code:Xe.invalid_type,expected:ut.never,received:t.parsedType}),It}}Sa.create=n=>new Sa({typeName:Lt.ZodNever,...Bt(n)});class Gy extends qt{_parse(e){if(this._getType(e)!==ut.undefined){const r=this._getOrReturnCtx(e);return ct(r,{code:Xe.invalid_type,expected:ut.void,received:r.parsedType}),It}return wi(e.data)}}Gy.create=n=>new Gy({typeName:Lt.ZodVoid,...Bt(n)});class Ks extends qt{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==ut.array)return ct(t,{code:Xe.invalid_type,expected:ut.array,received:t.parsedType}),It;if(i.exactLength!==null){const o=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(o||a)&&(ct(t,{code:o?Xe.too_big:Xe.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(ct(t,{code:Xe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(ct(t,{code:Xe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>i.type._parseAsync(new ko(t,o,t.path,a)))).then(o=>si.mergeArray(r,o));const s=[...t.data].map((o,a)=>i.type._parseSync(new ko(t,o,t.path,a)));return si.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new Ks({...this._def,minLength:{value:e,message:Ct.toString(t)}})}max(e,t){return new Ks({...this._def,maxLength:{value:e,message:Ct.toString(t)}})}length(e,t){return new Ks({...this._def,exactLength:{value:e,message:Ct.toString(t)}})}nonempty(e){return this.min(1,e)}}Ks.create=(n,e)=>new Ks({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Lt.ZodArray,...Bt(e)});function ad(n){if(n instanceof zn){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Ao.create(ad(r))}return new zn({...n._def,shape:()=>e})}else return n instanceof Ks?new Ks({...n._def,type:ad(n.element)}):n instanceof Ao?Ao.create(ad(n.unwrap())):n instanceof zl?zl.create(ad(n.unwrap())):n instanceof Ro?Ro.create(n.items.map(e=>ad(e))):n}class zn extends qt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=tn.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ut.object){const c=this._getOrReturnCtx(e);return ct(c,{code:Xe.invalid_type,expected:ut.object,received:c.parsedType}),It}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Sa&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=s[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new ko(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Sa){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")a.length>0&&(ct(i,{code:Xe.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const h=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new ko(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,p=await d.value;c.push({key:h,value:p,alwaysSet:d.alwaysSet})}return c}).then(c=>si.mergeObjectSync(r,c)):si.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ct.errToObj,new zn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(a=Ct.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new zn({...this._def,unknownKeys:"strip"})}passthrough(){return new zn({...this._def,unknownKeys:"passthrough"})}extend(e){return new zn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new zn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Lt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new zn({...this._def,catchall:e})}pick(e){const t={};return tn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new zn({...this._def,shape:()=>t})}omit(e){const t={};return tn.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new zn({...this._def,shape:()=>t})}deepPartial(){return ad(this)}partial(e){const t={};return tn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new zn({...this._def,shape:()=>t})}required(e){const t={};return tn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Ao;)s=s._def.innerType;t[r]=s}}),new zn({...this._def,shape:()=>t})}keyof(){return bz(tn.objectKeys(this.shape))}}zn.create=(n,e)=>new zn({shape:()=>n,unknownKeys:"strip",catchall:Sa.create(),typeName:Lt.ZodObject,...Bt(e)});zn.strictCreate=(n,e)=>new zn({shape:()=>n,unknownKeys:"strict",catchall:Sa.create(),typeName:Lt.ZodObject,...Bt(e)});zn.lazycreate=(n,e)=>new zn({shape:n,unknownKeys:"strip",catchall:Sa.create(),typeName:Lt.ZodObject,...Bt(e)});class fm extends qt{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new es(a.ctx.common.issues));return ct(t,{code:Xe.invalid_union,unionErrors:o}),It}if(t.common.async)return Promise.all(r.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...t,common:{...t.common,issues:[]},parent:null},d=l._parseSync({data:t.data,path:t.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new es(l));return ct(t,{code:Xe.invalid_union,unionErrors:a}),It}}get options(){return this._def.options}}fm.create=(n,e)=>new fm({options:n,typeName:Lt.ZodUnion,...Bt(e)});const Qo=n=>n instanceof mm?Qo(n.schema):n instanceof ro?Qo(n.innerType()):n instanceof gm?[n.value]:n instanceof Fl?n.options:n instanceof vm?tn.objectValues(n.enum):n instanceof ym?Qo(n._def.innerType):n instanceof um?[void 0]:n instanceof dm?[null]:n instanceof Ao?[void 0,...Qo(n.unwrap())]:n instanceof zl?[null,...Qo(n.unwrap())]:n instanceof oT||n instanceof wm?Qo(n.unwrap()):n instanceof xm?Qo(n._def.innerType):[];class t1 extends qt{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ut.object)return ct(t,{code:Xe.invalid_type,expected:ut.object,received:t.parsedType}),It;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(ct(t,{code:Xe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),It)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const o=Qo(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new t1({typeName:Lt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Bt(r)})}}function x2(n,e){const t=tl(n),r=tl(e);if(n===e)return{valid:!0,data:n};if(t===ut.object&&r===ut.object){const i=tn.objectKeys(e),s=tn.objectKeys(n).filter(a=>i.indexOf(a)!==-1),o={...n,...e};for(const a of s){const l=x2(n[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(t===ut.array&&r===ut.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const o=n[s],a=e[s],l=x2(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===ut.date&&r===ut.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class hm extends qt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(v2(s)||v2(o))return It;const a=x2(s.value,o.value);return a.valid?((y2(s)||y2(o))&&t.dirty(),{status:t.value,value:a.data}):(ct(r,{code:Xe.invalid_intersection_types}),It)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}hm.create=(n,e,t)=>new hm({left:n,right:e,typeName:Lt.ZodIntersection,...Bt(t)});class Ro extends qt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.array)return ct(r,{code:Xe.invalid_type,expected:ut.array,received:r.parsedType}),It;if(r.data.length<this._def.items.length)return ct(r,{code:Xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),It;!this._def.rest&&r.data.length>this._def.items.length&&(ct(r,{code:Xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ko(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>si.mergeArray(t,o)):si.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Ro({...this._def,rest:e})}}Ro.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ro({items:n,typeName:Lt.ZodTuple,rest:null,...Bt(e)})};class pm extends qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.object)return ct(r,{code:Xe.invalid_type,expected:ut.object,received:r.parsedType}),It;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new ko(r,a,r.path,a)),value:o._parse(new ko(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?si.mergeObjectAsync(t,i):si.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof qt?new pm({keyType:e,valueType:t,typeName:Lt.ZodRecord,...Bt(r)}):new pm({keyType:$s.create(),valueType:e,typeName:Lt.ZodRecord,...Bt(t)})}}class $y extends qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.map)return ct(r,{code:Xe.invalid_type,expected:ut.map,received:r.parsedType}),It;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new ko(r,a,r.path,[c,"key"])),value:s._parse(new ko(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return It;(c.status==="dirty"||d.status==="dirty")&&t.dirty(),a.set(c.value,d.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return It;(c.status==="dirty"||d.status==="dirty")&&t.dirty(),a.set(c.value,d.value)}return{status:t.value,value:a}}}}$y.create=(n,e,t)=>new $y({valueType:e,keyType:n,typeName:Lt.ZodMap,...Bt(t)});class uu extends qt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.set)return ct(r,{code:Xe.invalid_type,expected:ut.set,received:r.parsedType}),It;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ct(r,{code:Xe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ct(r,{code:Xe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return It;d.status==="dirty"&&t.dirty(),c.add(d.value)}return{status:t.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new ko(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,t){return new uu({...this._def,minSize:{value:e,message:Ct.toString(t)}})}max(e,t){return new uu({...this._def,maxSize:{value:e,message:Ct.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}uu.create=(n,e)=>new uu({valueType:n,minSize:null,maxSize:null,typeName:Lt.ZodSet,...Bt(e)});class Hd extends qt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ut.function)return ct(t,{code:Xe.invalid_type,expected:ut.function,received:t.parsedType}),It;function r(a,l){return Vy({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Uy(),xf].filter(c=>!!c),issueData:{code:Xe.invalid_arguments,argumentsError:l}})}function i(a,l){return Vy({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Uy(),xf].filter(c=>!!c),issueData:{code:Xe.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof _f){const a=this;return wi(async function(...l){const c=new es([]),d=await a._def.args.parseAsync(l,s).catch(g=>{throw c.addIssue(r(l,g)),c}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,s).catch(g=>{throw c.addIssue(i(h,g)),c})})}else{const a=this;return wi(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new es([r(l,c.error)]);const d=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(d,s);if(!h.success)throw new es([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Hd({...this._def,args:Ro.create(e).rest(Qc.create())})}returns(e){return new Hd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Hd({args:e||Ro.create([]).rest(Qc.create()),returns:t||Qc.create(),typeName:Lt.ZodFunction,...Bt(r)})}}class mm extends qt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}mm.create=(n,e)=>new mm({getter:n,typeName:Lt.ZodLazy,...Bt(e)});class gm extends qt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ct(t,{received:t.data,code:Xe.invalid_literal,expected:this._def.value}),It}return{status:"valid",value:e.data}}get value(){return this._def.value}}gm.create=(n,e)=>new gm({value:n,typeName:Lt.ZodLiteral,...Bt(e)});function bz(n,e){return new Fl({values:n,typeName:Lt.ZodEnum,...Bt(e)})}class Fl extends qt{constructor(){super(...arguments),Hh.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return ct(t,{expected:tn.joinValues(r),received:t.parsedType,code:Xe.invalid_type}),It}if(Wy(this,Hh)||yz(this,Hh,new Set(this._def.values)),!Wy(this,Hh).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return ct(t,{received:t.data,code:Xe.invalid_enum_value,options:r}),It}return wi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Fl.create(e,{...this._def,...t})}exclude(e,t=this._def){return Fl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Hh=new WeakMap;Fl.create=bz;class vm extends qt{constructor(){super(...arguments),Gh.set(this,void 0)}_parse(e){const t=tn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ut.string&&r.parsedType!==ut.number){const i=tn.objectValues(t);return ct(r,{expected:tn.joinValues(i),received:r.parsedType,code:Xe.invalid_type}),It}if(Wy(this,Gh)||yz(this,Gh,new Set(tn.getValidEnumValues(this._def.values))),!Wy(this,Gh).has(e.data)){const i=tn.objectValues(t);return ct(r,{received:r.data,code:Xe.invalid_enum_value,options:i}),It}return wi(e.data)}get enum(){return this._def.values}}Gh=new WeakMap;vm.create=(n,e)=>new vm({values:n,typeName:Lt.ZodNativeEnum,...Bt(e)});class _f extends qt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ut.promise&&t.common.async===!1)return ct(t,{code:Xe.invalid_type,expected:ut.promise,received:t.parsedType}),It;const r=t.parsedType===ut.promise?t.data:Promise.resolve(t.data);return wi(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}_f.create=(n,e)=>new _f({type:n,typeName:Lt.ZodPromise,...Bt(e)});class ro extends qt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{ct(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return It;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?It:l.status==="dirty"||t.value==="dirty"?Id(l.value):l});{if(t.value==="aborted")return It;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?It:a.status==="dirty"||t.value==="dirty"?Id(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?It:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?It:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!am(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>am(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:t.value,value:a})):o);tn.assertNever(i)}}ro.create=(n,e,t)=>new ro({schema:n,typeName:Lt.ZodEffects,effect:e,...Bt(t)});ro.createWithPreprocess=(n,e,t)=>new ro({schema:e,effect:{type:"preprocess",transform:n},typeName:Lt.ZodEffects,...Bt(t)});class Ao extends qt{_parse(e){return this._getType(e)===ut.undefined?wi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ao.create=(n,e)=>new Ao({innerType:n,typeName:Lt.ZodOptional,...Bt(e)});class zl extends qt{_parse(e){return this._getType(e)===ut.null?wi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zl.create=(n,e)=>new zl({innerType:n,typeName:Lt.ZodNullable,...Bt(e)});class ym extends qt{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===ut.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ym.create=(n,e)=>new ym({innerType:n,typeName:Lt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Bt(e)});class xm extends qt{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return lm(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new es(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new es(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}xm.create=(n,e)=>new xm({innerType:n,typeName:Lt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Bt(e)});class Zy extends qt{_parse(e){if(this._getType(e)!==ut.nan){const r=this._getOrReturnCtx(e);return ct(r,{code:Xe.invalid_type,expected:ut.nan,received:r.parsedType}),It}return{status:"valid",value:e.data}}}Zy.create=n=>new Zy({typeName:Lt.ZodNaN,...Bt(n)});const pse=Symbol("zod_brand");class oT extends qt{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ig extends qt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?It:s.status==="dirty"?(t.dirty(),Id(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?It:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new ig({in:e,out:t,typeName:Lt.ZodPipeline})}}class wm extends qt{_parse(e){const t=this._def.innerType._parse(e),r=i=>(am(i)&&(i.value=Object.freeze(i.value)),i);return lm(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}wm.create=(n,e)=>new wm({innerType:n,typeName:Lt.ZodReadonly,...Bt(e)});function Sz(n,e={},t){return n?wf.create().superRefine((r,i)=>{var s,o;if(!n(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:t)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):wf.create()}const mse={object:zn.lazycreate};var Lt;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Lt||(Lt={}));const gse=(n,e={message:`Input not instance of ${n.name}`})=>Sz(t=>t instanceof n,e),Mz=$s.create,Ez=Ol.create,vse=Zy.create,yse=jl.create,Tz=cm.create,xse=cu.create,wse=Hy.create,_se=um.create,bse=dm.create,Sse=wf.create,Mse=Qc.create,Ese=Sa.create,Tse=Gy.create,Cse=Ks.create,Ase=zn.create,Pse=zn.strictCreate,Nse=fm.create,kse=t1.create,Rse=hm.create,Lse=Ro.create,Ise=pm.create,Dse=$y.create,Ose=uu.create,jse=Hd.create,Fse=mm.create,zse=gm.create,Bse=Fl.create,Use=vm.create,Vse=_f.create,Xk=ro.create,Wse=Ao.create,Hse=zl.create,Gse=ro.createWithPreprocess,$se=ig.create,Zse=()=>Mz().optional(),qse=()=>Ez().optional(),Xse=()=>Tz().optional(),Yse={string:n=>$s.create({...n,coerce:!0}),number:n=>Ol.create({...n,coerce:!0}),boolean:n=>cm.create({...n,coerce:!0}),bigint:n=>jl.create({...n,coerce:!0}),date:n=>cu.create({...n,coerce:!0})},Kse=It;var rd=Object.freeze({__proto__:null,defaultErrorMap:xf,setErrorMap:Kie,getErrorMap:Uy,makeIssue:Vy,EMPTY_PATH:Qie,addIssueToContext:ct,ParseStatus:si,INVALID:It,DIRTY:Id,OK:wi,isAborted:v2,isDirty:y2,isValid:am,isAsync:lm,get util(){return tn},get objectUtil(){return g2},ZodParsedType:ut,getParsedType:tl,ZodType:qt,datetimeRegex:_z,ZodString:$s,ZodNumber:Ol,ZodBigInt:jl,ZodBoolean:cm,ZodDate:cu,ZodSymbol:Hy,ZodUndefined:um,ZodNull:dm,ZodAny:wf,ZodUnknown:Qc,ZodNever:Sa,ZodVoid:Gy,ZodArray:Ks,ZodObject:zn,ZodUnion:fm,ZodDiscriminatedUnion:t1,ZodIntersection:hm,ZodTuple:Ro,ZodRecord:pm,ZodMap:$y,ZodSet:uu,ZodFunction:Hd,ZodLazy:mm,ZodLiteral:gm,ZodEnum:Fl,ZodNativeEnum:vm,ZodPromise:_f,ZodEffects:ro,ZodTransformer:ro,ZodOptional:Ao,ZodNullable:zl,ZodDefault:ym,ZodCatch:xm,ZodNaN:Zy,BRAND:pse,ZodBranded:oT,ZodPipeline:ig,ZodReadonly:wm,custom:Sz,Schema:qt,ZodSchema:qt,late:mse,get ZodFirstPartyTypeKind(){return Lt},coerce:Yse,any:Sse,array:Cse,bigint:yse,boolean:Tz,date:xse,discriminatedUnion:kse,effect:Xk,enum:Bse,function:jse,instanceof:gse,intersection:Rse,lazy:Fse,literal:zse,map:Dse,nan:vse,nativeEnum:Use,never:Ese,null:bse,nullable:Hse,number:Ez,object:Ase,oboolean:Xse,onumber:qse,optional:Wse,ostring:Zse,pipeline:$se,preprocess:Gse,promise:Vse,record:Ise,set:Ose,strictObject:Pse,string:Mz,symbol:wse,transformer:Xk,tuple:Lse,undefined:_se,union:Nse,unknown:Mse,void:Tse,NEVER:Kse,ZodIssueCode:Xe,quotelessJson:Yie,ZodError:es});const Yk=(n,e,t)=>{if(n&&"reportValidity"in n){const r=tt(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},Cz=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?Yk(r.ref,t,n):r.refs&&r.refs.forEach(i=>Yk(i,t,n))}},Qse=(n,e)=>{e.shouldUseNativeValidation&&Cz(n,e);const t={};for(const r in n){const i=tt(e.fields,r),s=Object.assign(n[r]||{},{ref:i&&i.ref});if(Jse(e.names||Object.keys(n),r)){const o=Object.assign({},tt(t,r));mn(o,"root",s),mn(t,r,o)}else mn(t,r,s)}return t},Jse=(n,e)=>n.some(t=>t.startsWith(e+"."));var eoe=function(n,e){for(var t={};n.length;){var r=n[0],i=r.code,s=r.message,o=r.path.join(".");if(!t[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];t[o]={message:a.message,type:a.code}}else t[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return n.push(h)})}),e){var l=t[o].types,c=l&&l[r.code];t[o]=uz(o,e,t,i,c?[].concat(c,r.message):r.message)}n.shift()}return t},toe=function(n,e,t){return t===void 0&&(t={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&Cz({},s),{errors:{},values:t.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:Qse(eoe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},noe="Label",Az=N.forwardRef((n,e)=>m.jsx(An.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Az.displayName=noe;var Pz=Az;const roe=SM("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nz=N.forwardRef(({className:n,...e},t)=>m.jsx(Pz,{ref:t,className:ar(roe(),n),...e}));Nz.displayName=Pz.displayName;const ioe=Lie,kz=N.createContext({}),jh=({...n})=>m.jsx(kz.Provider,{value:{name:n.name},children:m.jsx(jie,{...n})}),n1=()=>{const n=N.useContext(kz),e=N.useContext(Rz),{getFieldState:t,formState:r}=e1(),i=t(n.name,r);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:n.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},Rz=N.createContext({}),ld=N.forwardRef(({className:n,...e},t)=>{const r=N.useId();return m.jsx(Rz.Provider,{value:{id:r},children:m.jsx("div",{ref:t,className:ar("space-y-2",n),...e})})});ld.displayName="FormItem";const cd=N.forwardRef(({className:n,...e},t)=>{const{error:r,formItemId:i}=n1();return m.jsx(Nz,{ref:t,className:ar(r&&"text-destructive",n),htmlFor:i,...e})});cd.displayName="FormLabel";const ud=N.forwardRef(({...n},e)=>{const{error:t,formItemId:r,formDescriptionId:i,formMessageId:s}=n1();return m.jsx(lf,{ref:e,id:r,"aria-describedby":t?`${i} ${s}`:`${i}`,"aria-invalid":!!t,...n})});ud.displayName="FormControl";const soe=N.forwardRef(({className:n,...e},t)=>{const{formDescriptionId:r}=n1();return m.jsx("p",{ref:t,id:r,className:ar("text-sm text-muted-foreground",n),...e})});soe.displayName="FormDescription";const dd=N.forwardRef(({className:n,children:e,...t},r)=>{const{error:i,formMessageId:s}=n1(),o=i?String(i==null?void 0:i.message):e;return o?m.jsx("p",{ref:r,id:s,className:ar("text-sm font-medium text-destructive",n),...t,children:o}):null});dd.displayName="FormMessage";const $h=N.forwardRef(({className:n,type:e,...t},r)=>m.jsx("input",{type:e,className:ar("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));$h.displayName="Input";const Lz=N.forwardRef(({className:n,...e},t)=>m.jsx("textarea",{className:ar("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));Lz.displayName="Textarea";const ooe=rd.object({name:rd.string().min(2,{message:"Name must be at least 2 characters."}),email:rd.string().email({message:"Please enter a valid email address."}),company:rd.string().optional(),subject:rd.string().min(5,{message:"Subject must be at least 5 characters."}),message:rd.string().min(10,{message:"Message must be at least 10 characters."})}),aoe=()=>{const[n,e]=N.useState(!1),t=Xie({resolver:toe(ooe),defaultValues:{name:"",email:"",company:"",subject:"",message:""}}),r=async i=>{e(!0),await new Promise(s=>setTimeout(s,1500)),xI({title:"Message Sent!",description:"We'll get back to you as soon as possible."}),t.reset(),e(!1)};return m.jsxs(m.Fragment,{children:[m.jsxs("section",{className:"py-24 relative",children:[m.jsx("div",{className:"absolute inset-0 hero-gradient"}),m.jsx("div",{className:"container mx-auto px-4 relative z-10",children:m.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[m.jsxs("h1",{className:"headline mb-6",children:["Get in ",m.jsx("span",{className:"gradient-text",children:"Touch"})]}),m.jsx("p",{className:"subheadline mb-8",children:"Have a question or ready to start your next project? We'd love to hear from you."})]})})]}),m.jsx("section",{className:"py-16 md:py-24",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[m.jsxs(Et.div,{className:"flex-1",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},children:[m.jsxs("div",{className:"glass p-8 rounded-lg",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Contact Information"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center shrink-0 mr-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:m.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Phone"}),m.jsx("p",{className:"text-muted-foreground",children:m.jsx("a",{href:"tel:+11234567890",className:"hover:text-primary transition-colors",children:"+1 (123) 456-7890"})})]})]}),m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center shrink-0 mr-4",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z"}),m.jsx("path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10"})]})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Email"}),m.jsx("p",{className:"text-muted-foreground",children:m.jsx("a",{href:"mailto:contact@codevior.com",className:"hover:text-primary transition-colors",children:"contact@codevior.com"})})]})]}),m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center shrink-0 mr-4",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[m.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Address"}),m.jsxs("address",{className:"not-italic text-muted-foreground",children:[m.jsx("p",{children:"123 Innovation Street"}),m.jsx("p",{children:"Tech City, TC 12345"}),m.jsx("p",{children:"United States"})]})]})]})]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connect With Us"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center text-primary hover:bg-primary hover:text-white transition-colors","aria-label":"Twitter",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"})})}),m.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center text-primary hover:bg-primary hover:text-white transition-colors","aria-label":"LinkedIn",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),m.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),m.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),m.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center text-primary hover:bg-primary hover:text-white transition-colors","aria-label":"GitHub",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})]})]})]}),m.jsxs("div",{className:"mt-12 glass p-8 rounded-lg",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Office Hours"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Monday - Friday"}),m.jsx("span",{children:"9:00 AM - 6:00 PM"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Saturday"}),m.jsx("span",{children:"10:00 AM - 4:00 PM"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Sunday"}),m.jsx("span",{children:"Closed"})]})]})]})]}),m.jsx(Et.div,{className:"flex-1",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:m.jsxs("div",{className:"glass p-8 rounded-lg",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send Us a Message"}),m.jsx(ioe,{...t,children:m.jsxs("form",{onSubmit:t.handleSubmit(r),className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[m.jsx(jh,{control:t.control,name:"name",render:({field:i})=>m.jsxs(ld,{children:[m.jsx(cd,{children:"Name"}),m.jsx(ud,{children:m.jsx($h,{placeholder:"Your Name",...i})}),m.jsx(dd,{})]})}),m.jsx(jh,{control:t.control,name:"email",render:({field:i})=>m.jsxs(ld,{children:[m.jsx(cd,{children:"Email"}),m.jsx(ud,{children:m.jsx($h,{placeholder:"your.email@example.com",...i})}),m.jsx(dd,{})]})})]}),m.jsx(jh,{control:t.control,name:"company",render:({field:i})=>m.jsxs(ld,{children:[m.jsx(cd,{children:"Company (Optional)"}),m.jsx(ud,{children:m.jsx($h,{placeholder:"Your Company",...i})}),m.jsx(dd,{})]})}),m.jsx(jh,{control:t.control,name:"subject",render:({field:i})=>m.jsxs(ld,{children:[m.jsx(cd,{children:"Subject"}),m.jsx(ud,{children:m.jsx($h,{placeholder:"Subject of your message",...i})}),m.jsx(dd,{})]})}),m.jsx(jh,{control:t.control,name:"message",render:({field:i})=>m.jsxs(ld,{children:[m.jsx(cd,{children:"Message"}),m.jsx(ud,{children:m.jsx(Lz,{placeholder:"How can we help you?",className:"min-h-32",...i})}),m.jsx(dd,{})]})}),m.jsx(Mr,{type:"submit",className:"w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})})]})})}),m.jsx("section",{className:"py-16 md:py-24 bg-primary/5",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Visit Our Office"}),m.jsx("div",{className:"glass p-2 rounded-lg overflow-hidden max-w-5xl mx-auto aspect-video",children:m.jsx("div",{className:"w-full h-full bg-primary/10 rounded flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mx-auto mb-4",children:[m.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Codevior Headquarters"}),m.jsx("p",{className:"text-muted-foreground",children:"123 Innovation Street, Tech City"})]})})})]})}),m.jsx("section",{className:"py-16 md:py-24",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text mb-4",children:"Frequently Asked Questions"}),m.jsx("p",{className:"text-lg text-muted-foreground",children:"Get quick answers to common questions about our services and processes."})]}),m.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[m.jsxs("div",{className:"glass p-6 rounded-lg",children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"What industries do you specialize in?"}),m.jsx("p",{className:"text-muted-foreground",children:"We have expertise across multiple industries including healthcare, finance, retail, manufacturing, energy, and marketing. Our diverse experience allows us to apply innovative solutions to various business contexts."})]}),m.jsxs("div",{className:"glass p-6 rounded-lg",children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"How long does a typical project take?"}),m.jsx("p",{className:"text-muted-foreground",children:"Project timelines vary based on complexity, scope, and requirements. Small projects may take 4-6 weeks, while larger enterprise solutions can span several months. We provide detailed timelines during the planning phase."})]}),m.jsxs("div",{className:"glass p-6 rounded-lg",children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Do you offer ongoing support after project completion?"}),m.jsx("p",{className:"text-muted-foreground",children:"Yes, we offer comprehensive support and maintenance packages to ensure your solution continues to perform optimally. Our support services include bug fixes, updates, feature enhancements, and technical assistance."})]}),m.jsxs("div",{className:"glass p-6 rounded-lg",children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"How do you approach data security and privacy?"}),m.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security protocols and best practices throughout the development process. All our solutions are designed with data protection in mind, and we ensure compliance with relevant regulations such as GDPR and CCPA."})]}),m.jsxs("div",{className:"glass p-6 rounded-lg",children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"What makes Codevior different from other tech companies?"}),m.jsx("p",{className:"text-muted-foreground",children:"Our unique combination of AI expertise, innovative thinking, and client-focused approach sets us apart. We don't just build solutions; we forge partnerships with our clients to create technology that drives real business value and addresses specific challenges."})]})]})]})})]})},loe=()=>{const{toast:n}=wI(),[e,t]=N.useState("all"),[r,i]=N.useState([]),[s,o]=N.useState([]),[a,l]=N.useState(!0),c=["all","ai","ml","web","mobile","software"];N.useEffect(()=>{(()=>{l(!0);const p=[{id:1,title:"AI-Powered Customer Service Platform",category:"ai",image:"https://placehold.co/600x400/6E59A5/FFFFFF?text=AI+Platform",description:"An intelligent customer service solution that leverages NLP to automate responses."},{id:2,title:"Predictive Analytics Dashboard",category:"ml",image:"https://placehold.co/600x400/0EA5E9/FFFFFF?text=ML+Dashboard",description:"Machine learning model that predicts market trends with 95% accuracy."},{id:3,title:"E-commerce Platform",category:"web",image:"https://placehold.co/600x400/F97316/FFFFFF?text=Web+Platform",description:"Fully responsive e-commerce solution with integrated payment processing."},{id:4,title:"Health Tracking App",category:"mobile",image:"https://placehold.co/600x400/D946EF/FFFFFF?text=Mobile+App",description:"Mobile application for tracking fitness goals and health metrics."},{id:5,title:"Enterprise Resource Planning System",category:"software",image:"https://placehold.co/600x400/22C55E/FFFFFF?text=ERP+System",description:"Comprehensive ERP solution for manufacturing businesses."},{id:6,title:"Computer Vision Security System",category:"ai",image:"https://placehold.co/600x400/6E59A5/FFFFFF?text=AI+Security",description:"AI-powered security system that uses computer vision for threat detection."}];i(p),o(p),l(!1)})()},[]),N.useEffect(()=>{o(e==="all"?r:r.filter(h=>h.category===e))},[e,r]);const d=h=>{t(h),n({title:"Category Changed",description:`Viewing ${h.toUpperCase()} projects`,duration:2e3})};return m.jsxs(m.Fragment,{children:[m.jsx(Dl,{title:"Our Portfolio",description:"Explore our showcase of innovative projects that demonstrate our expertise in AI, ML, and software development.",minHeight:"min-h-[50vh]",children:m.jsx(no,{position:[0,0,0],radius:3.5,count:3500,color:"#0EA5E9",interactive:!1})}),m.jsx("section",{className:"py-16",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("div",{className:"mb-12 flex justify-center",children:m.jsx("div",{className:"glass p-2 rounded-full flex flex-wrap gap-2 justify-center",children:c.map(h=>m.jsx(Mr,{onClick:()=>d(h),variant:e===h?"default":"ghost",className:"rounded-full capitalize",children:h},h))})}),a?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(h=>m.jsxs(Et.div,{className:"glass rounded-lg overflow-hidden hover-scale cursor-pointer",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},whileHover:{y:-10,transition:{duration:.2}},children:[m.jsxs("div",{className:"relative h-52",children:[m.jsx("img",{src:h.image,alt:h.title,className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end",children:m.jsxs("div",{className:"p-4",children:[m.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium bg-primary text-white mb-2",children:h.category.toUpperCase()}),m.jsx("h3",{className:"text-white text-xl font-bold",children:h.title})]})})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("p",{className:"text-muted-foreground mb-4",children:h.description}),m.jsx(Mr,{variant:"link",className:"p-0",children:"View Case Study"})]})]},h.id))})]})}),m.jsxs(Dl,{background:"gradient",minHeight:"py-24",className:"py-24",textPosition:"center",children:[m.jsx(no,{position:[0,0,0],radius:4,count:2e3,color:"#D946EF",interactive:!1}),m.jsx("div",{className:"container mx-auto px-4 relative z-10",children:m.jsxs("div",{className:"glass rounded-xl p-8 md:p-12 text-center max-w-3xl mx-auto",children:[m.jsx(Et.h2,{className:"text-3xl sm:text-4xl font-bold gradient-text mb-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:"Ready to Start Your Next Project?"}),m.jsx(Et.p,{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},children:"Let's collaborate to bring your innovative ideas to life with our expertise in AI, ML, and software development."}),m.jsx(Et.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:.2},viewport:{once:!0},children:m.jsx(Mr,{size:"lg",children:"Get in Touch"})})]})})]})]})},coe=()=>{const n=hu(),e=io();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),m.jsxs("div",{className:"min-h-screen flex items-center justify-center relative",children:[m.jsx("div",{className:"absolute inset-0 hero-gradient"}),m.jsx(Kx,{children:m.jsx(N.Suspense,{fallback:m.jsx(Qx,{}),children:m.jsx(no,{position:[0,0,0],radius:4,count:2e3,color:"#6E59A5",interactive:!1})})}),m.jsxs(Et.div,{className:"text-center relative z-10",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[m.jsx("h1",{className:"text-8xl font-bold mb-4 gradient-text",children:"404"}),m.jsx("p",{className:"text-2xl text-muted-foreground mb-8",children:"Oops! This space doesn't exist yet."}),m.jsx(Mr,{size:"lg",onClick:()=>e("/"),children:"Return to Home"})]})]})};var aT="Collapsible",[uoe,Iz]=Pm(aT),[doe,lT]=uoe(aT),Dz=N.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=n,[l=!1,c]=Ef({prop:r,defaultProp:i,onChange:o});return m.jsx(doe,{scope:t,disabled:s,contentId:px(),open:l,onOpenToggle:N.useCallback(()=>c(d=>!d),[c]),children:m.jsx(An.div,{"data-state":uT(l),"data-disabled":s?"":void 0,...a,ref:e})})});Dz.displayName=aT;var Oz="CollapsibleTrigger",jz=N.forwardRef((n,e)=>{const{__scopeCollapsible:t,...r}=n,i=lT(Oz,t);return m.jsx(An.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":uT(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:gn(n.onClick,i.onOpenToggle)})});jz.displayName=Oz;var cT="CollapsibleContent",Fz=N.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=lT(cT,n.__scopeCollapsible);return m.jsx(Nm,{present:t||i.open,children:({present:s})=>m.jsx(foe,{...r,ref:e,present:s})})});Fz.displayName=cT;var foe=N.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:r,children:i,...s}=n,o=lT(cT,t),[a,l]=N.useState(r),c=N.useRef(null),d=Di(e,c),h=N.useRef(0),p=h.current,g=N.useRef(0),v=g.current,y=o.open||a,x=N.useRef(y),b=N.useRef();return N.useEffect(()=>{const _=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(_)},[]),ga(()=>{const _=c.current;if(_){b.current=b.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const S=_.getBoundingClientRect();h.current=S.height,g.current=S.width,x.current||(_.style.transitionDuration=b.current.transitionDuration,_.style.animationName=b.current.animationName),l(r)}},[o.open,r]),m.jsx(An.div,{"data-state":uT(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...s,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...n.style},children:y&&i})});function uT(n){return n?"open":"closed"}var hoe=Dz,poe=jz,moe=Fz,goe=N.createContext(void 0);function dT(n){const e=N.useContext(goe);return n||e||"ltr"}var Aa="Accordion",voe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[fT,yoe,xoe]=yM(Aa),[r1,uae]=Pm(Aa,[xoe,Iz]),hT=Iz(),zz=Ee.forwardRef((n,e)=>{const{type:t,...r}=n,i=r,s=r;return m.jsx(fT.Provider,{scope:n.__scopeAccordion,children:t==="multiple"?m.jsx(Soe,{...s,ref:e}):m.jsx(boe,{...i,ref:e})})});zz.displayName=Aa;var[Bz,woe]=r1(Aa),[Uz,_oe]=r1(Aa,{collapsible:!1}),boe=Ee.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=n,[a,l]=Ef({prop:t,defaultProp:r,onChange:i});return m.jsx(Bz,{scope:n.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:Ee.useCallback(()=>s&&l(""),[s,l]),children:m.jsx(Uz,{scope:n.__scopeAccordion,collapsible:s,children:m.jsx(Vz,{...o,ref:e})})})}),Soe=Ee.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:i=()=>{},...s}=n,[o=[],a]=Ef({prop:t,defaultProp:r,onChange:i}),l=Ee.useCallback(d=>a((h=[])=>[...h,d]),[a]),c=Ee.useCallback(d=>a((h=[])=>h.filter(p=>p!==d)),[a]);return m.jsx(Bz,{scope:n.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:m.jsx(Uz,{scope:n.__scopeAccordion,collapsible:!0,children:m.jsx(Vz,{...s,ref:e})})})}),[Moe,i1]=r1(Aa),Vz=Ee.forwardRef((n,e)=>{const{__scopeAccordion:t,disabled:r,dir:i,orientation:s="vertical",...o}=n,a=Ee.useRef(null),l=Di(a,e),c=yoe(t),h=dT(i)==="ltr",p=gn(n.onKeyDown,g=>{var T;if(!voe.includes(g.key))return;const v=g.target,y=c().filter(k=>{var O;return!((O=k.ref.current)!=null&&O.disabled)}),x=y.findIndex(k=>k.ref.current===v),b=y.length;if(x===-1)return;g.preventDefault();let _=x;const S=0,E=b-1,C=()=>{_=x+1,_>E&&(_=S)},P=()=>{_=x-1,_<S&&(_=E)};switch(g.key){case"Home":_=S;break;case"End":_=E;break;case"ArrowRight":s==="horizontal"&&(h?C():P());break;case"ArrowDown":s==="vertical"&&C();break;case"ArrowLeft":s==="horizontal"&&(h?P():C());break;case"ArrowUp":s==="vertical"&&P();break}const I=_%b;(T=y[I].ref.current)==null||T.focus()});return m.jsx(Moe,{scope:t,disabled:r,direction:i,orientation:s,children:m.jsx(fT.Slot,{scope:t,children:m.jsx(An.div,{...o,"data-orientation":s,ref:l,onKeyDown:r?void 0:p})})})}),qy="AccordionItem",[Eoe,pT]=r1(qy),Wz=Ee.forwardRef((n,e)=>{const{__scopeAccordion:t,value:r,...i}=n,s=i1(qy,t),o=woe(qy,t),a=hT(t),l=px(),c=r&&o.value.includes(r)||!1,d=s.disabled||n.disabled;return m.jsx(Eoe,{scope:t,open:c,disabled:d,triggerId:l,children:m.jsx(hoe,{"data-orientation":s.orientation,"data-state":Xz(c),...a,...i,ref:e,disabled:d,open:c,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});Wz.displayName=qy;var Hz="AccordionHeader",Gz=Ee.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,i=i1(Aa,t),s=pT(Hz,t);return m.jsx(An.h3,{"data-orientation":i.orientation,"data-state":Xz(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});Gz.displayName=Hz;var w2="AccordionTrigger",$z=Ee.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,i=i1(Aa,t),s=pT(w2,t),o=_oe(w2,t),a=hT(t);return m.jsx(fT.ItemSlot,{scope:t,children:m.jsx(poe,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});$z.displayName=w2;var Zz="AccordionContent",qz=Ee.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,i=i1(Aa,t),s=pT(Zz,t),o=hT(t);return m.jsx(moe,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});qz.displayName=Zz;function Xz(n){return n?"open":"closed"}var Toe=zz,Coe=Wz,Aoe=Gz,Yz=$z,Kz=qz;const mT=Toe,ei=N.forwardRef(({className:n,...e},t)=>m.jsx(Coe,{ref:t,className:ar("border-b",n),...e}));ei.displayName="AccordionItem";const ti=N.forwardRef(({className:n,children:e,...t},r)=>m.jsx(Aoe,{className:"flex",children:m.jsxs(Yz,{ref:r,className:ar("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",n),...t,children:[e,m.jsx(YI,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ti.displayName=Yz.displayName;const ni=N.forwardRef(({className:n,children:e,...t},r)=>m.jsx(Kz,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:m.jsx("div",{className:ar("pb-4 pt-0",n),children:e})}));ni.displayName=Kz.displayName;const Poe=()=>{const n=io(),[e,t]=N.useState("web"),r=[{id:"web",title:"Web Development",description:"Custom web applications designed for performance, scalability, and exceptional user experience.",icon:m.jsx(KI,{size:24}),benefits:["Single Page Applications (SPA)","Progressive Web Apps (PWA)","E-commerce Solutions","Content Management Systems","Admin Dashboards & Portals","Web Optimization & Performance"],color:"#0EA5E9"},{id:"mobile",title:"Mobile Development",description:"Cross-platform or native mobile applications that deliver seamless experiences on iOS and Android.",icon:m.jsx(OV,{size:24}),benefits:["React Native Applications","iOS Native Development","Android Native Development","Mobile UI/UX Design","App Store Optimization","Mobile App Testing & QA"],color:"#8B5CF6"},{id:"backend",title:"Backend Development",description:"Robust and scalable server-side solutions that power your applications.",icon:m.jsx(jV,{size:24}),benefits:["API Development & Integration","Microservices Architecture","Cloud-based Solutions","Serverless Functions","Performance Optimization","Security Implementation"],color:"#6E59A5"},{id:"database",title:"Database Solutions",description:"Optimized database design and management for efficient data storage and retrieval.",icon:m.jsx(kV,{size:24}),benefits:["Database Design & Modeling","SQL & NoSQL Solutions","Data Migration & Integration","Performance Tuning","Backup & Recovery Strategies","Database Security"],color:"#9b87f5"},{id:"ui",title:"UI/UX Design",description:"User-centered design that combines aesthetics with functionality to create engaging interfaces.",icon:m.jsx(IV,{size:24}),benefits:["Wireframing & Prototyping","Responsive Design","UI Component Systems","Usability Testing","Interaction Design","Design Systems Creation"],color:"#F97316"}],i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}};return m.jsxs(m.Fragment,{children:[m.jsx(Dl,{title:"Software Development",description:"End-to-end software solutions tailored to your business needs, from web applications to enterprise systems.",background:"gradient",children:m.jsx(no,{position:[0,0,0],radius:3.5,count:2500,color:"#0EA5E9",interactive:!1})}),m.jsx("section",{className:"py-20",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("div",{className:"flex flex-wrap gap-4 mb-12 justify-center",children:r.map(o=>m.jsx(Et.button,{onClick:()=>t(o.id),className:`px-5 py-3 rounded-full transition-all duration-300 ${e===o.id?"bg-primary text-white":"bg-secondary/10 hover:bg-secondary/20"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsxs("div",{className:"flex items-center gap-2",children:[o.icon,m.jsx("span",{children:o.title})]})},o.id))}),r.map(o=>m.jsx(Et.div,{initial:{opacity:0,y:20},animate:e===o.id?{opacity:1,y:0}:{opacity:0,y:20,height:0},transition:{duration:.5},className:`${e===o.id?"block":"hidden"}`,children:m.jsx("div",{className:"glass p-8 rounded-xl",children:m.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[m.jsxs("div",{className:"lg:w-1/2",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center mr-3",children:o.icon}),m.jsx("h2",{className:"text-3xl font-bold",children:o.title})]}),m.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:o.description}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.benefits.map((a,l)=>m.jsxs(Et.div,{className:"flex items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:l*.1},children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:a})]},l))}),m.jsx(Mr,{className:"mt-8",onClick:()=>n("/contact"),children:"Discuss Your Project"})]}),m.jsxs("div",{className:"lg:w-1/2 relative h-60 sm:h-80 lg:h-auto",children:[m.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:`radial-gradient(circle at center, ${o.color} 0%, transparent 70%)`}}),m.jsx("div",{className:"h-full flex items-center justify-center",children:m.jsx(Et.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-9xl text-primary/20 flex items-center justify-center",children:o.icon})})]})]})})},o.id))]})}),m.jsx("section",{className:"py-20 bg-primary/5",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text text-center mb-12",children:"Our Development Process"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-primary/30 hidden md:block"}),m.jsxs(Et.div,{className:"space-y-16",variants:i,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:[m.jsx(Et.div,{variants:s,className:"relative",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[m.jsxs("div",{className:"md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:"1. Discovery & Planning"}),m.jsx("p",{className:"text-muted-foreground",children:"We gather requirements, analyze your business needs, and create a detailed development plan."})]}),m.jsx("div",{className:"hidden md:flex md:absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-primary text-white justify-center items-center font-bold z-10",children:"1"}),m.jsx("div",{className:"md:w-1/2 md:pl-12",children:m.jsx("div",{className:"glass p-6 rounded-lg",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Requirements Analysis"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Technical Specification"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Timeline & Resource Planning"})]})]})})})]})}),m.jsx(Et.div,{variants:s,className:"relative",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[m.jsx("div",{className:"md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right order-1 md:order-1",children:m.jsx("div",{className:"glass p-6 rounded-lg",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Wireframing & Prototyping"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"UI/UX Design"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Design Review & Approval"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]})]})})}),m.jsx("div",{className:"hidden md:flex md:absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-primary text-white justify-center items-center font-bold z-10",children:"2"}),m.jsxs("div",{className:"md:w-1/2 md:pl-12 order-0 md:order-2",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:"2. Design"}),m.jsx("p",{className:"text-muted-foreground",children:"We create intuitive interfaces and user experiences that align with your brand and business goals."})]})]})}),m.jsx(Et.div,{variants:s,className:"relative",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[m.jsxs("div",{className:"md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:"3. Development"}),m.jsx("p",{className:"text-muted-foreground",children:"Our team of expert developers builds your solution using cutting-edge technologies and best practices."})]}),m.jsx("div",{className:"hidden md:flex md:absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-primary text-white justify-center items-center font-bold z-10",children:"3"}),m.jsx("div",{className:"md:w-1/2 md:pl-12",children:m.jsx("div",{className:"glass p-6 rounded-lg",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Iterative Development"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Code Reviews & Quality Assurance"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Regular Progress Updates"})]})]})})})]})}),m.jsx(Et.div,{variants:s,className:"relative",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[m.jsx("div",{className:"md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right order-1 md:order-1",children:m.jsx("div",{className:"glass p-6 rounded-lg",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Functional Testing"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Performance Testing"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Security Testing"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]})]})})}),m.jsx("div",{className:"hidden md:flex md:absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-primary text-white justify-center items-center font-bold z-10",children:"4"}),m.jsxs("div",{className:"md:w-1/2 md:pl-12 order-0 md:order-2",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:"4. Testing & QA"}),m.jsx("p",{className:"text-muted-foreground",children:"Comprehensive testing to ensure your solution is bug-free, secure, and performs optimally."})]})]})}),m.jsx(Et.div,{variants:s,className:"relative",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[m.jsxs("div",{className:"md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:"5. Deployment & Support"}),m.jsx("p",{className:"text-muted-foreground",children:"Smooth deployment to production environments and continuous support to ensure long-term success."})]}),m.jsx("div",{className:"hidden md:flex md:absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-primary text-white justify-center items-center font-bold z-10",children:"5"}),m.jsx("div",{className:"md:w-1/2 md:pl-12",children:m.jsx("div",{className:"glass p-6 rounded-lg",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Deployment Strategy"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Training & Documentation"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Ongoing Maintenance & Support"})]})]})})})]})})]})]})]})}),m.jsx("section",{className:"py-20",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text text-center mb-12",children:"Frequently Asked Questions"}),m.jsx("div",{className:"max-w-3xl mx-auto",children:m.jsxs(mT,{type:"single",collapsible:!0,className:"glass p-6 rounded-xl",children:[m.jsxs(ei,{value:"item-1",className:"border-b border-border/40",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"What technologies do you use for development?"}),m.jsx(ni,{className:"text-muted-foreground",children:"We leverage a wide range of modern technologies tailored to each project's unique requirements. For front-end development, we use React, Vue.js, Angular, and Next.js. On the back-end, we work with Node.js, Python, Java, and .NET. For mobile applications, we implement React Native, Flutter, Swift, and Kotlin. Our database solutions include MongoDB, PostgreSQL, MySQL, and Firebase."})]}),m.jsxs(ei,{value:"item-2",className:"border-b border-border/40",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"How long does it take to develop a typical web application?"}),m.jsx(ni,{className:"text-muted-foreground",children:"The timeline varies depending on the project's complexity, scope, and requirements. A simple website might take 4-6 weeks, while a complex web application could take 3-6 months or more. During our initial discovery phase, we'll provide you with a detailed timeline based on your specific project requirements."})]}),m.jsxs(ei,{value:"item-3",className:"border-b border-border/40",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"Do you offer ongoing maintenance and support?"}),m.jsx(ni,{className:"text-muted-foreground",children:"Yes, we provide comprehensive maintenance and support services to ensure your application remains secure, up-to-date, and performs optimally. We offer various support packages tailored to your needs, from basic monitoring and updates to 24/7 dedicated support and continuous improvement."})]}),m.jsxs(ei,{value:"item-4",className:"border-b border-border/40",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"How do you ensure the security of applications?"}),m.jsx(ni,{className:"text-muted-foreground",children:"Security is built into our development process from the beginning. We implement industry best practices including secure coding standards, regular security audits, penetration testing, and vulnerability assessments. We also implement appropriate authentication, authorization, data encryption, and other security measures tailored to your application's specific requirements."})]}),m.jsxs(ei,{value:"item-5",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"Can you integrate my application with existing systems?"}),m.jsx(ni,{className:"text-muted-foreground",children:"Absolutely. We specialize in creating seamless integrations between new applications and existing systems through APIs, webhooks, and other integration methods. Whether you need to connect with CRM systems, payment gateways, ERP solutions, or custom legacy systems, we ensure smooth data flow and functionality across your entire technology ecosystem."})]})]})})]})}),m.jsx("section",{className:"py-20 bg-primary/5",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"glass rounded-xl p-8 md:p-12 text-center",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"Ready to Build Your Next Software Solution?"}),m.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"Let's discuss how our software development expertise can help bring your ideas to life."}),m.jsx(Mr,{size:"lg",onClick:()=>n("/contact"),children:"Get in Touch"})]})})})]})},Noe=()=>{const n=io(),[e,t]=N.useState("nlp"),r=[{id:"nlp",title:"Natural Language Processing",description:"Analyze, understand, and generate human language with advanced NLP models.",icon:m.jsx(p3,{size:24}),benefits:["Text Classification & Sentiment Analysis","Named Entity Recognition","Text Summarization","Question Answering Systems","Language Translation","Chatbots & Conversational AI"],color:"#6E59A5"},{id:"cv",title:"Computer Vision",description:"Enable machines to interpret and make decisions based on visual data.",icon:m.jsx(d3,{size:24}),benefits:["Image Recognition & Classification","Object Detection & Tracking","Facial Recognition","Video Analysis","Medical Image Analysis","AR/VR Integration"],color:"#9b87f5"},{id:"ml",title:"Machine Learning Solutions",description:"Custom machine learning models that learn from data to make accurate predictions.",icon:m.jsx(Jb,{size:24}),benefits:["Supervised & Unsupervised Learning","Deep Learning & Neural Networks","Reinforcement Learning","Anomaly Detection","Recommendation Systems","Time Series Analysis"],color:"#8B5CF6"},{id:"pred",title:"Predictive Analytics",description:"Forecast trends and make data-driven decisions with predictive modeling.",icon:m.jsx(hy,{size:24}),benefits:["Demand Forecasting","Risk Assessment","Customer Behavior Prediction","Churn Prediction","Financial Modeling","Predictive Maintenance"],color:"#0EA5E9"},{id:"nlp",title:"Data Science",description:"Extract valuable insights and knowledge from your data with advanced analytics.",icon:m.jsx(eS,{size:24}),benefits:["Data Exploration & Visualization","Statistical Analysis","Feature Engineering","Model Evaluation & Validation","Big Data Processing","Business Intelligence"],color:"#F97316"}],i=[{title:"Customer Sentiment Analysis",industry:"Retail",description:"Implemented an NLP solution to analyze customer reviews and social media mentions, providing real-time sentiment analysis and actionable insights.",results:["92% accuracy in sentiment classification","30% reduction in customer churn","45% increase in customer satisfaction"],color:"#6E59A5"},{title:"Predictive Maintenance System",industry:"Manufacturing",description:"Developed a machine learning model that predicts equipment failures before they occur, enabling preventive maintenance and minimizing downtime.",results:["85% accuracy in failure prediction","63% reduction in unplanned downtime","40% decrease in maintenance costs"],color:"#0EA5E9"},{title:"Automated Visual Inspection",industry:"Automotive",description:"Built a computer vision system for quality control that automatically detects defects in manufactured parts with high precision.",results:["99.5% defect detection rate","70% faster inspection process","55% reduction in quality control costs"],color:"#9b87f5"}];return m.jsxs(m.Fragment,{children:[m.jsx(Dl,{title:"AI & Machine Learning",description:"Custom AI solutions designed to automate processes, gain insights, and enhance decision-making capabilities.",background:"gradient",children:m.jsx(no,{position:[0,0,0],radius:3.5,count:3e3,color:"#6E59A5",interactive:!1})}),m.jsx("section",{className:"py-20",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("div",{className:"flex flex-wrap gap-4 mb-12 justify-center",children:r.map(s=>m.jsx(Et.button,{onClick:()=>t(s.id),className:`px-5 py-3 rounded-full transition-all duration-300 ${e===s.id?"bg-primary text-white":"bg-secondary/10 hover:bg-secondary/20"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsxs("div",{className:"flex items-center gap-2",children:[s.icon,m.jsx("span",{children:s.title})]})},s.id))}),r.map(s=>m.jsx(Et.div,{initial:{opacity:0,y:20},animate:e===s.id?{opacity:1,y:0}:{opacity:0,y:20,height:0},transition:{duration:.5},className:`${e===s.id?"block":"hidden"}`,children:m.jsx("div",{className:"glass p-8 rounded-xl",children:m.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[m.jsxs("div",{className:"lg:w-1/2",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center mr-3",children:s.icon}),m.jsx("h2",{className:"text-3xl font-bold",children:s.title})]}),m.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:s.description}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.benefits.map((o,a)=>m.jsxs(Et.div,{className:"flex items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:a*.1},children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:o})]},a))}),m.jsx(Mr,{className:"mt-8",onClick:()=>n("/contact"),children:"Discuss Your Project"})]}),m.jsxs("div",{className:"lg:w-1/2 relative h-60 sm:h-80 lg:h-auto",children:[m.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:`radial-gradient(circle at center, ${s.color} 0%, transparent 70%)`}}),m.jsx("div",{className:"h-full flex items-center justify-center",children:m.jsx(Et.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-9xl text-primary/20 flex items-center justify-center",children:s.icon})})]})]})})},s.id))]})}),m.jsx("section",{className:"py-20 bg-primary/5",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text text-center mb-12",children:"Our AI Implementation Process"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs(Et.div,{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",whileHover:{y:-5},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:m.jsx(PV,{className:"text-primary",size:24})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"1. Data Assessment"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"We evaluate your available data, identify gaps, and develop a data strategy to ensure your AI models have quality inputs."}),m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Data Quality Analysis"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Data Preprocessing Requirements"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Data Collection Strategy"})]})]})]}),m.jsxs(Et.div,{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",whileHover:{y:-5},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:m.jsx(eS,{className:"text-primary",size:24})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"2. Solution Design"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"We design a comprehensive AI solution architecture that addresses your specific business challenges."}),m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Algorithm Selection"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Model Architecture Design"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Success Criteria Definition"})]})]})]}),m.jsxs(Et.div,{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",whileHover:{y:-5},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:m.jsx(Jb,{className:"text-primary",size:24})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"3. Model Development"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"We build and train custom AI models using your data to achieve the defined objectives."}),m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Model Training & Optimization"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Feature Engineering"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Performance Testing"})]})]})]}),m.jsxs(Et.div,{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",whileHover:{y:-5},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.6},viewport:{once:!0},children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:m.jsx(hy,{className:"text-primary",size:24})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"4. Integration"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"We seamlessly integrate AI models into your existing systems and workflows."}),m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"API Development"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"System Integration"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"User Interface Development"})]})]})]}),m.jsxs(Et.div,{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",whileHover:{y:-5},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.8},viewport:{once:!0},children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:m.jsx(d3,{className:"text-primary",size:24})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"5. Deployment & Testing"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"We deploy your AI solution in a controlled environment and thoroughly test its performance."}),m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Controlled Rollout"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Performance Validation"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Real-world Testing"})]})]})]}),m.jsxs(Et.div,{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",whileHover:{y:-5},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:1},viewport:{once:!0},children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:m.jsx(p3,{className:"text-primary",size:24})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"6. Monitoring & Improvement"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"We continuously monitor and refine your AI solution to ensure optimal performance over time."}),m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Performance Monitoring"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Model Retraining"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Continuous Improvement"})]})]})]})]})]})}),m.jsx("section",{className:"py-20",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text text-center mb-4",children:"Case Studies"}),m.jsx("p",{className:"text-center text-lg text-muted-foreground max-w-2xl mx-auto mb-12",children:"Real-world examples of how our AI & ML solutions have transformed businesses"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((s,o)=>m.jsxs(Et.div,{className:"glass rounded-lg overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:o*.2},viewport:{once:!0},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:[m.jsx("div",{className:"h-2",style:{backgroundColor:s.color}}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("h3",{className:"text-xl font-bold",children:s.title}),m.jsx("span",{className:"text-sm px-3 py-1 bg-primary/10 rounded-full",children:s.industry})]}),m.jsx("p",{className:"text-muted-foreground mb-6",children:s.description}),m.jsxs("div",{className:"border-t border-border/30 pt-4",children:[m.jsx("h4",{className:"font-medium mb-2",children:"Key Results:"}),m.jsx("ul",{className:"space-y-2",children:s.results.map((a,l)=>m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{className:"text-sm",children:a})]},l))})]})]})]},o))})]})}),m.jsx("section",{className:"py-20 bg-primary/5",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text text-center mb-12",children:"Frequently Asked Questions"}),m.jsx("div",{className:"max-w-3xl mx-auto",children:m.jsxs(mT,{type:"single",collapsible:!0,className:"glass p-6 rounded-xl",children:[m.jsxs(ei,{value:"item-1",className:"border-b border-border/40",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"How much data do we need to implement AI solutions?"}),m.jsx(ni,{className:"text-muted-foreground",children:"The amount of data required varies depending on the complexity of the problem and the type of AI solution. Generally, machine learning models perform better with more data, but we can often start with relatively small datasets (a few thousand samples) and implement techniques like data augmentation or transfer learning to achieve good results. During our initial assessment, we'll evaluate your data and recommend the best approach."})]}),m.jsxs(ei,{value:"item-2",className:"border-b border-border/40",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"How long does it take to develop and deploy an AI solution?"}),m.jsx(ni,{className:"text-muted-foreground",children:"The timeline for AI projects typically ranges from 2-6 months, depending on the complexity, data availability, and integration requirements. A simple predictive model might be developed in 6-8 weeks, while a comprehensive computer vision system could take 4-6 months. We follow an agile methodology that allows us to deliver incremental value throughout the project lifecycle."})]}),m.jsxs(ei,{value:"item-3",className:"border-b border-border/40",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"What industries can benefit from AI and ML solutions?"}),m.jsx(ni,{className:"text-muted-foreground",children:"Virtually all industries can benefit from AI and ML technologies. We've successfully implemented solutions for healthcare (diagnosis assistance, patient monitoring), finance (fraud detection, risk assessment), retail (customer segmentation, recommendation systems), manufacturing (predictive maintenance, quality control), energy (demand forecasting, optimization), and many others. The key is identifying the right use cases that deliver meaningful business value."})]}),m.jsxs(ei,{value:"item-4",className:"border-b border-border/40",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"How do you ensure the ethical use of AI?"}),m.jsx(ni,{className:"text-muted-foreground",children:"Ethics is a fundamental consideration in our AI development process. We follow best practices for responsible AI, including fairness testing to prevent bias, transparency in model decision-making, privacy protection in data handling, and human oversight of AI systems. We also conduct thorough impact assessments to ensure our solutions align with ethical guidelines and regulatory requirements."})]}),m.jsxs(ei,{value:"item-5",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"How do you measure the success of an AI implementation?"}),m.jsx(ni,{className:"text-muted-foreground",children:"We establish clear success metrics at the beginning of each project, which typically include both technical metrics (model accuracy, precision, recall) and business KPIs (cost reduction, revenue increase, efficiency gains). We implement monitoring systems to track these metrics over time and provide regular performance reports. Additionally, we conduct ROI analyses to ensure the AI solution is delivering tangible business value."})]})]})})]})}),m.jsx("section",{className:"py-20",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"glass rounded-xl p-8 md:p-12 text-center",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"Ready to Harness the Power of AI?"}),m.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"Let's discuss how our AI and ML expertise can help transform your business processes and drive innovation."}),m.jsx(Mr,{size:"lg",onClick:()=>n("/contact"),children:"Get Started"})]})})})]})},koe=()=>{const n=io(),e=[{id:"trend",title:"Trend-Following Bots",description:"Bots that identify and capitalize on market trends by analyzing momentum and directional movements.",icon:m.jsx(m3,{size:40}),features:["Multiple timeframe analysis","Dynamic trend identification","Momentum-based entry and exit","Trailing stop-loss mechanisms","Position sizing optimization","Real-time trend shift alerts"],color:"#7E69AB"},{id:"arbitrage",title:"Arbitrage Bots",description:"Bots that exploit price differences of the same asset across different exchanges or markets.",icon:m.jsx(f3,{size:40}),features:["Cross-exchange price monitoring","Low-latency execution","Transaction cost optimization","Risk management algorithms","Simultaneous order execution","Liquidity analysis"],color:"#6E59A5"},{id:"market",title:"Market Making Bots",description:"Bots that provide liquidity to markets by placing buy and sell orders, profiting from the spread.",icon:m.jsx(h3,{size:40}),features:["Dynamic spread management","Order book analysis","Automated rebalancing","Volatility-based adjustments","Smart inventory management","Risk exposure controls"],color:"#9b87f5"},{id:"sentiment",title:"Sentiment Analysis Bots",description:"Bots that analyze news, social media, and market sentiment to make trading decisions.",icon:m.jsx(hy,{size:40}),features:["Real-time news monitoring","Social media sentiment analysis","NLP-powered text processing","Sentiment score calculations","Event-based trading signals","Market correlation tracking"],color:"#8B5CF6"}],t=[{name:"Binance",description:"The world's largest cryptocurrency exchange by trading volume.",features:["Spot Trading","Futures","Options","Staking","NFT Marketplace"],logo:m.jsx(id,{className:"w-16 h-16 text-primary"})},{name:"Coinbase",description:"A secure platform that makes it easy to buy, sell, and store cryptocurrency.",features:["Spot Trading","Institutional Services","Crypto Custody","Educational Resources"],logo:m.jsx(id,{className:"w-16 h-16 text-primary"})},{name:"Kraken",description:"A feature-rich cryptocurrency exchange with strong security focus.",features:["Spot Trading","Margin Trading","Futures","OTC Services","Staking"],logo:m.jsx(id,{className:"w-16 h-16 text-primary"})},{name:"FTX",description:"Innovative derivatives exchange offering unique crypto products.",features:["Spot Trading","Futures","Options","Leveraged Tokens","Prediction Markets"],logo:m.jsx(id,{className:"w-16 h-16 text-primary"})}],r=[{title:"Automated Trading 24/7",description:"Our bots operate around the clock, never missing a trading opportunity.",icon:m.jsx(LV,{size:24})},{title:"Advanced Risk Management",description:"Built-in safeguards to protect your capital during volatile market conditions.",icon:m.jsx(m3,{size:24})},{title:"Data-Driven Strategies",description:"Trading decisions based on comprehensive market data analysis.",icon:m.jsx(f3,{size:24})},{title:"Multi-Exchange Support",description:"Connect and trade across multiple cryptocurrency exchanges simultaneously.",icon:m.jsx(id,{size:24})},{title:"Custom Strategy Builder",description:"Create and backtest your own trading strategies using our intuitive interface.",icon:m.jsx(hy,{size:24})},{title:"Secure API Integration",description:"Safe connection to exchanges using read-only API keys with enhanced security.",icon:m.jsx(h3,{size:24})}],i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}};return m.jsxs(m.Fragment,{children:[m.jsx(Dl,{title:"Crypto Trading Bots",description:"Automated trading solutions for cryptocurrency markets, designed to execute strategies 24/7 with precision and efficiency.",background:"gradient",children:m.jsx(no,{position:[0,0,0],radius:3.5,count:2500,color:"#7E69AB",interactive:!1})}),m.jsx("section",{className:"py-20",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text text-center mb-4",children:"Key Features"}),m.jsx("p",{className:"text-center text-lg text-muted-foreground max-w-2xl mx-auto mb-12",children:"Our trading bots come equipped with powerful features designed for optimal performance"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((o,a)=>m.jsxs(Et.div,{className:"glass p-6 rounded-lg hover:shadow-lg transition-all",whileHover:{y:-5},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:a*.1},viewport:{once:!0},children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:o.icon}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:o.title}),m.jsx("p",{className:"text-muted-foreground",children:o.description})]},a))})]})}),m.jsx("section",{className:"py-20 bg-primary/5",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text text-center mb-4",children:"Types of Trading Bots"}),m.jsx("p",{className:"text-center text-lg text-muted-foreground max-w-2xl mx-auto mb-12",children:"We develop different types of trading bots to match your trading style and goals"}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((o,a)=>m.jsxs(Et.div,{className:"glass p-8 rounded-xl hover:shadow-lg transition-all",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:a*.2},viewport:{once:!0},whileHover:{y:-5},children:[m.jsxs("div",{className:"flex mb-6",children:[m.jsx("div",{className:"mr-6",children:m.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",style:{backgroundColor:`${o.color}20`},children:m.jsx("div",{className:"text-primary",children:o.icon})})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold mb-1",children:o.title}),m.jsx("p",{className:"text-muted-foreground",children:o.description})]})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:o.features.map((l,c)=>m.jsxs(Et.div,{className:"flex items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:c*.05+a*.1},children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:l})]},c))})]},o.id))})]})}),m.jsx("section",{className:"py-20",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text text-center mb-4",children:"Supported Exchanges"}),m.jsx("p",{className:"text-center text-lg text-muted-foreground max-w-2xl mx-auto mb-12",children:"Our trading bots integrate seamlessly with leading cryptocurrency exchanges"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map((o,a)=>m.jsxs(Et.div,{className:"glass p-6 rounded-lg flex items-start hover:shadow-lg transition-all",whileHover:{y:-5},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:a*.1},viewport:{once:!0},children:[m.jsx("div",{className:"mr-6",children:o.logo}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:o.name}),m.jsx("p",{className:"text-muted-foreground mb-4",children:o.description}),m.jsx("div",{className:"flex flex-wrap gap-2",children:o.features.map((l,c)=>m.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 rounded-full",children:l},c))})]})]},a))})]})}),m.jsx("section",{className:"py-20 bg-primary/5",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl sm:text-4xl font-bold gradient-text text-center mb-4",children:"How It Works"}),m.jsx("p",{className:"text-center text-lg text-muted-foreground max-w-2xl mx-auto mb-12",children:"A simple process to get your custom trading bot up and running"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-primary/30 hidden md:block"}),m.jsxs(Et.div,{className:"space-y-16",variants:i,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:[m.jsx(Et.div,{variants:s,className:"relative",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[m.jsxs("div",{className:"md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:"1. Strategy Consultation"}),m.jsx("p",{className:"text-muted-foreground",children:"We work with you to understand your trading goals, risk tolerance, and preferred strategies."})]}),m.jsx("div",{className:"hidden md:flex md:absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-primary text-white justify-center items-center font-bold z-10",children:"1"}),m.jsx("div",{className:"md:w-1/2 md:pl-12",children:m.jsx("div",{className:"glass p-6 rounded-lg",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Trading Style Assessment"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Risk Management Planning"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Strategy Selection"})]})]})})})]})}),m.jsx(Et.div,{variants:s,className:"relative",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[m.jsx("div",{className:"md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right order-1 md:order-1",children:m.jsx("div",{className:"glass p-6 rounded-lg",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Strategy Implementation"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Custom Indicators"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Risk Controls"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]})]})})}),m.jsx("div",{className:"hidden md:flex md:absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-primary text-white justify-center items-center font-bold z-10",children:"2"}),m.jsxs("div",{className:"md:w-1/2 md:pl-12 order-0 md:order-2",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:"2. Bot Development"}),m.jsx("p",{className:"text-muted-foreground",children:"Our team develops a custom trading bot tailored to your specific requirements and strategy."})]})]})}),m.jsx(Et.div,{variants:s,className:"relative",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[m.jsxs("div",{className:"md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:"3. Backtesting"}),m.jsx("p",{className:"text-muted-foreground",children:"We test the bot against historical market data to validate the strategy and optimize performance."})]}),m.jsx("div",{className:"hidden md:flex md:absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-primary text-white justify-center items-center font-bold z-10",children:"3"}),m.jsx("div",{className:"md:w-1/2 md:pl-12",children:m.jsx("div",{className:"glass p-6 rounded-lg",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Historical Performance Analysis"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Strategy Optimization"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Risk/Reward Analysis"})]})]})})})]})}),m.jsx(Et.div,{variants:s,className:"relative",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[m.jsx("div",{className:"md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right order-1 md:order-1",children:m.jsx("div",{className:"glass p-6 rounded-lg",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Paper Trading Setup"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Performance Monitoring"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Final Adjustments"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]})]})})}),m.jsx("div",{className:"hidden md:flex md:absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-primary text-white justify-center items-center font-bold z-10",children:"4"}),m.jsxs("div",{className:"md:w-1/2 md:pl-12 order-0 md:order-2",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:"4. Paper Trading"}),m.jsx("p",{className:"text-muted-foreground",children:"The bot is deployed in a simulated environment to verify its performance with real-time market data."})]})]})}),m.jsx(Et.div,{variants:s,className:"relative",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[m.jsxs("div",{className:"md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:"5. Live Deployment"}),m.jsx("p",{className:"text-muted-foreground",children:"After successful testing, we deploy the bot to your exchange accounts with secure API connections."})]}),m.jsx("div",{className:"hidden md:flex md:absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-primary text-white justify-center items-center font-bold z-10",children:"5"}),m.jsx("div",{className:"md:w-1/2 md:pl-12",children:m.jsx("div",{className:"glass p-6 rounded-lg",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Secure API Configuration"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Live Trading Setup"})]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary mr-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),m.jsx("span",{children:"Monitoring Dashboard Setup"})]})]})})})]})}),m.jsx(Et.div,{variants:s,className:"relative",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[m.jsx("div",{className:"md:w-1/2 md:pr-12 mb-6 md:mb-0 md:text-right order-1 md:order-1",children:m.jsx("div",{className:"glass p-6 rounded-lg",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"24/7 Monitoring"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Performance Reports"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),m.jsxs("li",{className:"flex items-center md:justify-end",children:[m.jsx("span",{children:"Strategy Adjustments"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary ml-2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]})]})})}),m.jsx("div",{className:"hidden md:flex md:absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-primary text-white justify-center items-center font-bold z-10",children:"6"}),m.jsxs("div",{className:"md:w-1/2 md:pl-12 order-0 md:order-2",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:"6. Continuous Support"}),m.jsx("p",{className:"text-muted-foreground",children:"We provide ongoing support and periodic strategy optimizations to ensure your bot performs optimally."})]})]})})]})]})]})}),m.jsx("section",{className:"py-20",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text text-center mb-12",children:"Frequently Asked Questions"}),m.jsx("div",{className:"max-w-3xl mx-auto",children:m.jsxs(mT,{type:"single",collapsible:!0,className:"glass p-6 rounded-xl",children:[m.jsxs(ei,{value:"item-1",className:"border-b border-border/40",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"Are crypto trading bots profitable?"}),m.jsx(ni,{className:"text-muted-foreground",children:"Trading bots can be profitable when properly configured with effective strategies and risk management. However, performance varies based on market conditions, the quality of the strategy, and how well the bot is maintained. While bots offer advantages like 24/7 operation and emotional neutrality, they are not guaranteed to generate profits. We focus on developing well-tested strategies tailored to your risk profile, but all trading involves risk, and past performance isn't indicative of future results."})]}),m.jsxs(ei,{value:"item-2",className:"border-b border-border/40",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"How secure are your trading bots?"}),m.jsx(ni,{className:"text-muted-foreground",children:"Security is our top priority. Our bots connect to exchanges using API keys with trading-only permissions (no withdrawal access). We employ industry-standard encryption for data transmission and storage, regular security audits, and multi-factor authentication for accessing bot controls. Our systems are hosted on secure cloud infrastructure with redundancy and backup systems. Additionally, we implement various safeguards to protect against unexpected market conditions."})]}),m.jsxs(ei,{value:"item-3",className:"border-b border-border/40",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"What's the minimum investment needed?"}),m.jsx(ni,{className:"text-muted-foreground",children:"The minimum recommended investment varies depending on the trading strategy and the exchanges you're using. Generally, we recommend starting with at least $5,000 to ensure that transaction fees don't significantly impact your returns. Some strategies, particularly those involving futures or margin trading, may require higher capital. During our consultation, we'll provide specific recommendations based on your chosen strategy and risk tolerance."})]}),m.jsxs(ei,{value:"item-4",className:"border-b border-border/40",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"How are your bots different from others on the market?"}),m.jsx(ni,{className:"text-muted-foreground",children:"Our trading bots stand out through customization, robust risk management, and comprehensive support. Unlike generic solutions, we develop bots tailored to your specific trading goals and risk profile. Our advanced risk management algorithms provide multiple layers of protection against sudden market moves. We offer continuous support with regular strategy reviews and optimization. Additionally, our bots feature advanced technical analysis capabilities and can adapt to changing market conditions."})]}),m.jsxs(ei,{value:"item-5",children:[m.jsx(ti,{className:"text-lg font-medium hover:no-underline hover:text-primary",children:"Do I need technical knowledge to use your bots?"}),m.jsx(ni,{className:"text-muted-foreground",children:"No technical knowledge is required. We handle all the development, deployment, and maintenance aspects. You'll receive an intuitive dashboard to monitor performance and make basic adjustments. Our team provides comprehensive onboarding and training to help you understand how your bot works and how to interpret its performance. For clients interested in a deeper understanding, we offer additional educational resources about trading strategies and bot functionality."})]})]})})]})}),m.jsx("section",{className:"py-20 bg-primary/5",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"glass rounded-xl p-8 md:p-12 text-center",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"Ready to Automate Your Crypto Trading?"}),m.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"Let's discuss how our trading bots can help you trade more efficiently across multiple markets."}),m.jsx(Mr,{size:"lg",onClick:()=>n("/contact"),children:"Get Started"})]})})})]})};function Roe(n,e=[]){let t=[];function r(s,o){const a=N.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:p,children:g,...v}=h,y=(p==null?void 0:p[n][l])||a,x=N.useMemo(()=>v,Object.values(v));return m.jsx(y.Provider,{value:x,children:g})}function d(h,p){const g=(p==null?void 0:p[n][l])||a,v=N.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=t.map(o=>N.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return N.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,Loe(i,...e)]}function Loe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var tb="rovingFocusGroup.onEntryFocus",Ioe={bubbles:!1,cancelable:!0},s1="RovingFocusGroup",[_2,Qz,Doe]=yM(s1),[Ooe,Jz]=Roe(s1,[Doe]),[joe,Foe]=Ooe(s1),e5=N.forwardRef((n,e)=>m.jsx(_2.Provider,{scope:n.__scopeRovingFocusGroup,children:m.jsx(_2.Slot,{scope:n.__scopeRovingFocusGroup,children:m.jsx(zoe,{...n,ref:e})})}));e5.displayName=s1;var zoe=N.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=n,p=N.useRef(null),g=Di(e,p),v=dT(s),[y=null,x]=Ef({prop:o,defaultProp:a,onChange:l}),[b,_]=N.useState(!1),S=Js(c),E=Qz(t),C=N.useRef(!1),[P,I]=N.useState(0);return N.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(tb,S),()=>T.removeEventListener(tb,S)},[S]),m.jsx(joe,{scope:t,orientation:r,dir:v,loop:i,currentTabStopId:y,onItemFocus:N.useCallback(T=>x(T),[x]),onItemShiftTab:N.useCallback(()=>_(!0),[]),onFocusableItemAdd:N.useCallback(()=>I(T=>T+1),[]),onFocusableItemRemove:N.useCallback(()=>I(T=>T-1),[]),children:m.jsx(An.div,{tabIndex:b||P===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...n.style},onMouseDown:gn(n.onMouseDown,()=>{C.current=!0}),onFocus:gn(n.onFocus,T=>{const k=!C.current;if(T.target===T.currentTarget&&k&&!b){const O=new CustomEvent(tb,Ioe);if(T.currentTarget.dispatchEvent(O),!O.defaultPrevented){const U=E().filter(K=>K.focusable),H=U.find(K=>K.active),V=U.find(K=>K.id===y),ee=[H,V,...U].filter(Boolean).map(K=>K.ref.current);r5(ee,d)}}C.current=!1}),onBlur:gn(n.onBlur,()=>_(!1))})})}),t5="RovingFocusGroupItem",n5=N.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,...o}=n,a=px(),l=s||a,c=Foe(t5,t),d=c.currentTabStopId===l,h=Qz(t),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return N.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),m.jsx(_2.ItemSlot,{scope:t,id:l,focusable:r,active:i,children:m.jsx(An.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:gn(n.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:gn(n.onFocus,()=>c.onItemFocus(l)),onKeyDown:gn(n.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=Voe(v,c.orientation,c.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const _=b.indexOf(v.currentTarget);b=c.loop?Woe(b,_+1):b.slice(_+1)}setTimeout(()=>r5(b))}})})})});n5.displayName=t5;var Boe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Uoe(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Voe(n,e,t){const r=Uoe(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Boe[r]}function r5(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function Woe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var Hoe=e5,Goe=n5,gT="Tabs",[$oe,dae]=Pm(gT,[Jz]),i5=Jz(),[Zoe,vT]=$oe(gT),s5=N.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=n,d=dT(a),[h,p]=Ef({prop:r,onChange:i,defaultProp:s});return m.jsx(Zoe,{scope:t,baseId:px(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:l,children:m.jsx(An.div,{dir:d,"data-orientation":o,...c,ref:e})})});s5.displayName=gT;var o5="TabsList",a5=N.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=vT(o5,t),o=i5(t);return m.jsx(Hoe,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:m.jsx(An.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});a5.displayName=o5;var l5="TabsTrigger",c5=N.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,o=vT(l5,t),a=i5(t),l=f5(o.baseId,r),c=h5(o.baseId,r),d=r===o.value;return m.jsx(Goe,{asChild:!0,...a,focusable:!i,active:d,children:m.jsx(An.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:gn(n.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:gn(n.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:gn(n.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});c5.displayName=l5;var u5="TabsContent",d5=N.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...o}=n,a=vT(u5,t),l=f5(a.baseId,r),c=h5(a.baseId,r),d=r===a.value,h=N.useRef(d);return N.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),m.jsx(Nm,{present:i||d,children:({present:p})=>m.jsx(An.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:h.current?"0s":void 0},children:p&&s})})});d5.displayName=u5;function f5(n,e){return`${n}-trigger-${e}`}function h5(n,e){return`${n}-content-${e}`}var qoe=s5,p5=a5,m5=c5,g5=d5;const Xoe=qoe,v5=N.forwardRef(({className:n,...e},t)=>m.jsx(p5,{ref:t,className:ar("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));v5.displayName=p5.displayName;const y5=N.forwardRef(({className:n,...e},t)=>m.jsx(m5,{ref:t,className:ar("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));y5.displayName=m5.displayName;const x5=N.forwardRef(({className:n,...e},t)=>m.jsx(g5,{ref:t,className:ar("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));x5.displayName=g5.displayName;const Yoe=()=>{const[n,e]=N.useState("frontend"),t=N.useRef(null),r=[{id:"frontend",name:"Frontend Technologies",description:"Modern frameworks and libraries for building responsive, interactive user interfaces",items:[{name:"React",description:"A JavaScript library for building user interfaces with a component-based architecture.",icon:"react.svg",color:"#61DAFB",benefits:["Component-based architecture","Virtual DOM for performance","Rich ecosystem","Declarative programming"]},{name:"Next.js",description:"React framework that enables server-side rendering and static site generation for React applications.",icon:"next.svg",color:"#000000",benefits:["Server-side rendering","Static site generation","Automatic routing","Code splitting"]},{name:"Tailwind CSS",description:"A utility-first CSS framework for rapidly building custom user interfaces.",icon:"tailwind.svg",color:"#38B2AC",benefits:["Utility-first approach","Responsive design","Customizable","Small bundle size"]},{name:"TypeScript",description:"A strongly typed programming language that builds on JavaScript, adding static type definitions.",icon:"typescript.svg",color:"#3178C6",benefits:["Static typing","Early error detection","Better IDE support","Improved code quality"]},{name:"Framer Motion",description:"A production-ready motion library for React that makes creating animations easy.",icon:"framer.svg",color:"#0055FF",benefits:["Declarative animations","Gesture recognition","Layout animations","Exit animations"]}]},{id:"backend",name:"Backend Technologies",description:"Robust and scalable server-side technologies for building powerful APIs and services",items:[{name:"Node.js",description:"A JavaScript runtime built on Chrome's V8 JavaScript engine for building scalable network applications.",icon:"node.svg",color:"#339933",benefits:["Non-blocking I/O","Same language as frontend","Large package ecosystem","High performance"]},{name:"Express",description:"Fast, unopinionated, minimalist web framework for Node.js.",icon:"express.svg",color:"#000000",benefits:["Minimalist","Middleware support","Routing","Template engines"]},{name:"PostgreSQL",description:"A powerful, open source object-relational database system with a strong reputation for reliability.",icon:"postgresql.svg",color:"#336791",benefits:["ACID compliance","JSON support","Extensible","Robust feature set"]},{name:"MongoDB",description:"A document-based, distributed database built for modern application developers and cloud computing.",icon:"mongodb.svg",color:"#47A248",benefits:["Document-oriented","Horizontal scaling","Flexible schema","High availability"]},{name:"GraphQL",description:"A query language for APIs and a runtime for executing those queries with your existing data.",icon:"graphql.svg",color:"#E10098",benefits:["Precise data fetching","Single endpoint","Strong typing","Introspective"]}]},{id:"ai",name:"AI & ML Technologies",description:"Cutting-edge artificial intelligence and machine learning technologies for intelligent applications",items:[{name:"TensorFlow",description:"An end-to-end open source platform for machine learning.",icon:"tensorflow.svg",color:"#FF6F00",benefits:["Flexible architecture","Production-ready","Hardware acceleration","Visualization tools"]},{name:"PyTorch",description:"An open source machine learning framework that accelerates the path from research to production.",icon:"pytorch.svg",color:"#EE4C2C",benefits:["Dynamic computation graphs","Python integration","Research-friendly","GPU acceleration"]},{name:"OpenAI API",description:"A state-of-the-art API for leveraging OpenAI's advanced language models.",icon:"openai.svg",color:"#10a37f",benefits:["Natural language processing","Text generation","Sentiment analysis","Content classification"]},{name:"Scikit-learn",description:"Simple and efficient tools for predictive data analysis built on NumPy, SciPy, and matplotlib.",icon:"scikit.svg",color:"#F7931E",benefits:["Simple API","Comprehensive algorithms","Interoperability","Well-documented"]},{name:"Hugging Face",description:"A platform for state-of-the-art natural language processing models and tools.",icon:"huggingface.svg",color:"#FFD21E",benefits:["Pre-trained models","Easy fine-tuning","Model sharing","Pipeline abstraction"]}]},{id:"devops",name:"DevOps & Cloud",description:"Tools and platforms for continuous integration, delivery, and cloud infrastructure management",items:[{name:"Docker",description:"A platform for developing, shipping, and running applications in containers.",icon:"docker.svg",color:"#2496ED",benefits:["Containerization","Consistent environments","Isolation","Efficiency"]},{name:"Kubernetes",description:"An open-source system for automating deployment, scaling, and management of containerized applications.",icon:"kubernetes.svg",color:"#326CE5",benefits:["Container orchestration","Automatic scaling","Self-healing","Service discovery"]},{name:"AWS",description:"A comprehensive and broadly adopted cloud platform offering over 200 fully featured services.",icon:"aws.svg",color:"#FF9900",benefits:["Global infrastructure","Security","Scalability","Extensive service catalog"]},{name:"GitHub Actions",description:"A CI/CD platform that automates your build, test, and deployment pipeline.",icon:"github.svg",color:"#181717",benefits:["GitHub integration","YAML-based workflow","Reusable actions","Matrix builds"]},{name:"Terraform",description:"An open-source infrastructure as code software tool that enables you to safely and predictably create, change, and improve infrastructure.",icon:"terraform.svg",color:"#7B42BC",benefits:["Infrastructure as code","Multi-cloud","Declarative syntax","Plan and apply workflow"]}]}],i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}};return m.jsxs(m.Fragment,{children:[m.jsx(Dl,{title:"Our Technology Stack",description:"We leverage cutting-edge technologies to build robust, scalable, and innovative solutions.",background:"gradient",children:m.jsx(no,{position:[0,0,0],radius:3.5,count:2500,color:"#8B5CF6",interactive:!1})}),m.jsx("section",{className:"py-20",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs(Xoe,{defaultValue:"frontend",value:n,onValueChange:e,className:"w-full",children:[m.jsx("div",{className:"flex justify-center mb-8",children:m.jsx(v5,{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:r.map(o=>m.jsx(y5,{value:o.id,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:o.name},o.id))})}),r.map(o=>m.jsxs(x5,{value:o.id,className:"mt-4",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text mb-4",children:o.name}),m.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:o.description})]}),m.jsx(Et.div,{ref:t,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",variants:i,initial:"hidden",animate:"visible",children:o.items.map((a,l)=>m.jsxs(Et.div,{className:"glass rounded-lg overflow-hidden hover:shadow-lg transition-all",variants:s,whileHover:{y:-10,boxShadow:`0 15px 30px -5px ${a.color}20`},children:[m.jsx("div",{className:"h-2",style:{backgroundColor:a.color}}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("div",{className:"flex items-center justify-center w-12 h-12 mr-4 rounded-lg",style:{backgroundColor:`${a.color}20`},children:typeof a.icon=="string"?m.jsx("span",{className:"text-2xl",style:{color:a.color},children:a.name.charAt(0)}):a.icon}),m.jsx("h3",{className:"text-xl font-bold",children:a.name})]}),m.jsx("p",{className:"text-muted-foreground mb-4",children:a.description}),m.jsxs("div",{className:"border-t border-border/30 pt-4",children:[m.jsx("h4",{className:"font-medium mb-2",children:"Key Benefits:"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:a.benefits.map((c,d)=>m.jsx(Et.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2+d*.1},className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:`${a.color}20`,color:a.color},children:c},d))})]})]})]},`${o.id}-${a.name}`))},o.id)]},o.id))]})})}),m.jsx("section",{className:"py-20 bg-primary/5",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text mb-4",children:"Our Technology Ecosystem"}),m.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"A visual representation of how our technologies work together to create comprehensive solutions"})]}),m.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[m.jsx(Et.div,{className:"w-40 h-40 rounded-full bg-primary/10 border-2 border-primary/20 flex items-center justify-center text-center mx-auto mb-8",initial:{scale:0,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:.8,type:"spring"},viewport:{once:!0},children:m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold gradient-text",children:"Codevior"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Technology Stack"})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:r.map((o,a)=>m.jsxs(Et.div,{className:"glass p-6 rounded-lg text-center hover:shadow-lg transition-all",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:a*.1},viewport:{once:!0},whileHover:{y:-5},children:[m.jsx("h3",{className:"text-lg font-bold mb-3",children:o.name}),m.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[o.items.slice(0,3).map((l,c)=>m.jsx(Et.span,{className:"text-sm px-2 py-1 rounded-full bg-primary/10",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5+c*.1},children:l.name},c)),o.items.length>3&&m.jsxs("span",{className:"text-sm px-2 py-1 rounded-full bg-primary/10",children:["+",o.items.length-3," more"]})]}),m.jsx("button",{className:"text-primary text-sm hover:underline",onClick:()=>e(o.id),children:"View Details"})]},o.id))}),m.jsxs("svg",{className:"absolute top-20 left-0 w-full h-full -z-10 hidden md:block",viewBox:"0 0 800 400",children:[m.jsx(Et.path,{d:"M400,60 L200,150",stroke:"#9b87f5",strokeWidth:"2",strokeDasharray:"5,5",fill:"none",initial:{pathLength:0,opacity:0},whileInView:{pathLength:1,opacity:1},transition:{duration:1,delay:.5},viewport:{once:!0}}),m.jsx(Et.path,{d:"M400,60 L400,150",stroke:"#9b87f5",strokeWidth:"2",strokeDasharray:"5,5",fill:"none",initial:{pathLength:0,opacity:0},whileInView:{pathLength:1,opacity:1},transition:{duration:1,delay:.7},viewport:{once:!0}}),m.jsx(Et.path,{d:"M400,60 L600,150",stroke:"#9b87f5",strokeWidth:"2",strokeDasharray:"5,5",fill:"none",initial:{pathLength:0,opacity:0},whileInView:{pathLength:1,opacity:1},transition:{duration:1,delay:.9},viewport:{once:!0}}),m.jsx(Et.path,{d:"M400,60 L800,150",stroke:"#9b87f5",strokeWidth:"2",strokeDasharray:"5,5",fill:"none",initial:{pathLength:0,opacity:0},whileInView:{pathLength:1,opacity:1},transition:{duration:1,delay:1.1},viewport:{once:!0}})]})]})]})}),m.jsx("section",{className:"py-20",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text mb-4",children:"Our Development Approach"}),m.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"How we combine these technologies to deliver exceptional results"})]}),m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsx(Et.div,{className:"glass p-8 rounded-xl",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute h-full w-1 bg-primary/20 left-3 top-0 hidden sm:block"}),m.jsxs("div",{className:"space-y-16",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row relative",children:[m.jsx("div",{className:"sm:w-16 mb-4 sm:mb-0",children:m.jsx("div",{className:"w-7 h-7 rounded-full bg-primary flex items-center justify-center text-white font-bold text-sm relative z-10",children:"1"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Technology Selection"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"We carefully select the most appropriate technologies for each project, considering factors like requirements, scalability, performance, and long-term maintainability."}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"Requirement Analysis"}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Technology Evaluation"}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-800",children:"Architecture Planning"})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row relative",children:[m.jsx("div",{className:"sm:w-16 mb-4 sm:mb-0",children:m.jsx("div",{className:"w-7 h-7 rounded-full bg-primary flex items-center justify-center text-white font-bold text-sm relative z-10",children:"2"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Modern Frontend Development"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"We build responsive, interactive user interfaces using React and related technologies, with a focus on performance, accessibility, and user experience."}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"Component Architecture"}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Responsive Design"}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-800",children:"State Management"})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row relative",children:[m.jsx("div",{className:"sm:w-16 mb-4 sm:mb-0",children:m.jsx("div",{className:"w-7 h-7 rounded-full bg-primary flex items-center justify-center text-white font-bold text-sm relative z-10",children:"3"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Robust Backend Implementation"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"We develop scalable, secure backend systems that efficiently handle data processing, API requests, and business logic."}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"API Development"}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Database Design"}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-800",children:"Authentication & Security"})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row relative",children:[m.jsx("div",{className:"sm:w-16 mb-4 sm:mb-0",children:m.jsx("div",{className:"w-7 h-7 rounded-full bg-primary flex items-center justify-center text-white font-bold text-sm relative z-10",children:"4"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"AI & ML Integration"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"When appropriate, we incorporate artificial intelligence and machine learning capabilities to add advanced functionality and intelligence to applications."}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"Model Selection"}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Data Processing"}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-800",children:"Integration Architecture"})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row relative",children:[m.jsx("div",{className:"sm:w-16 mb-4 sm:mb-0",children:m.jsx("div",{className:"w-7 h-7 rounded-full bg-primary flex items-center justify-center text-white font-bold text-sm relative z-10",children:"5"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"DevOps & Deployment"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"We implement CI/CD pipelines and cloud infrastructure to ensure smooth, reliable deployment and operation of your application."}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"CI/CD Setup"}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Infrastructure as Code"}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-800",children:"Monitoring & Logging"})]})]})]})]})]})})})]})}),m.jsx("section",{className:"py-20 bg-primary/5",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"glass rounded-xl p-8 md:p-12 text-center",children:[m.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"Ready to Build with Our Technology Stack?"}),m.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"Let's discuss how our technical expertise can help bring your ideas to life."}),m.jsx(Et.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:m.jsx("button",{className:"bg-primary text-white px-8 py-3 rounded-full font-medium hover:bg-primary/90 transition-colors",onClick:()=>window.location.href="/contact",children:"Start Your Project"})})]})})})]})},Koe=new ZH,Qoe=()=>m.jsx(XH,{client:Koe,children:m.jsxs(MH,{children:[m.jsx(w8,{}),m.jsx(X8,{}),m.jsx(Z9,{children:m.jsxs(z9,{children:[m.jsxs(gs,{element:m.jsx(tG,{}),children:[m.jsx(gs,{path:"/",element:m.jsx(Aie,{})}),m.jsx(gs,{path:"/about",element:m.jsx(Pie,{})}),m.jsx(gs,{path:"/services",element:m.jsx(Nie,{})}),m.jsx(gs,{path:"/services/software-development",element:m.jsx(Poe,{})}),m.jsx(gs,{path:"/services/ai-development",element:m.jsx(Noe,{})}),m.jsx(gs,{path:"/services/trading-bots",element:m.jsx(koe,{})}),m.jsx(gs,{path:"/portfolio",element:m.jsx(loe,{})}),m.jsx(gs,{path:"/tech-stack",element:m.jsx(Yoe,{})}),m.jsx(gs,{path:"/contact",element:m.jsx(aoe,{})})]}),m.jsx(gs,{path:"*",element:m.jsx(coe,{})})]})})]})});vM(document.getElementById("root")).render(m.jsx(Qoe,{}));
